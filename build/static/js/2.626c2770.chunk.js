/*! For license information please see 2.626c2770.chunk.js.LICENSE.txt */
(this.webpackJsonpmyap=this.webpackJsonpmyap||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(34)},function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g}));var r=n(6),i=n(1),o=n.n(i),a=(n(12),n(7)),s=n(19),u=n(5),c=n(3),l=n(20),f=n.n(l),h=(n(23),n(10)),d=(n(25),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),p=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(d.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var m={},v=0;function g(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=m[n]||(m[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return v<1e4&&(r[e]=o,v++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var b=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(p.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?g(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(p.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function w(e){return"/"===e.charAt(0)?e:"/"+e}function E(e,t){if(!e)return t;var n=w(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function T(e){return"string"===typeof e?e:Object(a.e)(e)}function _(e){return function(){Object(u.a)(!1)}}function S(){}o.a.Component;var I=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(p.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?g(i.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);o.a.useContext},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return u}));var r=n(26),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};function o(e){return a(void 0,e)}function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}var s=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function u(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function c(){return"object"===typeof self&&self.self===self}var l=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,f.prototype.create),o}return Object(r.a)(t,e),t}(Error),f=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?h(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new l(i,s,r);return u},e}();function h(e,t){return e.replace(d,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var d=/\{\$([^}]+)}/g;function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function y(e,t){var n=new m(e,t);return n.subscribe.bind(n)}var m=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=v),void 0===r.error&&(r.error=v),void 0===r.complete&&(r.complete=v);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function v(){}}).call(this,n(18))},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return N})),n.d(t,"d",(function(){return D})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return p}));var r=n(3);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(5);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function y(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",E="hashchange";function T(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?b:u,m=o.keyLength,_=void 0===m?6:m,S=e.basename?d(l(e.basename)):"";function I(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return S&&(o=h(o,S)),y(o,r,n)}function k(){return Math.random().toString(36).substr(2,_)}var x=v();function C(e){Object(r.a)(V,e),V.length=t.length,x.notifyListeners(V.location,V.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(I(e.state))}function O(){P(I(T()))}var D=!1;function P(e){if(D)D=!1,C();else{x.confirmTransitionTo(e,"POP",f,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(D=!0,M(i))}(e)}))}}var A=I(T()),R=[A.key];function L(e){return S+p(e)}function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(w,N),i&&window.addEventListener(E,O)):0===F&&(window.removeEventListener(w,N),i&&window.removeEventListener(E,O))}var U=!1;var V={length:t.length,action:"POP",location:A,createHref:L,push:function(e,r){var i="PUSH",o=y(e,r,k(),V.location);x.confirmTransitionTo(o,i,f,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=R.indexOf(V.location.key),l=R.slice(0,c+1);l.push(o.key),R=l,C({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=y(e,r,k(),V.location);x.confirmTransitionTo(o,i,f,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=R.indexOf(V.location.key);-1!==c&&(R[c]=o.key),C({action:i,location:o})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=x.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var S="hashchange",I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function x(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function C(e){window.location.replace(k(window.location.href)+"#"+e)}function N(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(l(e.basename)):"",f=I[s],m=f.encodePath,w=f.decodePath;function E(){var e=w(x());return u&&(e=h(e,u)),y(e)}var T=v();function _(e){Object(r.a)(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}var N=!1,O=null;function D(){var e,t,n=x(),r=m(n);if(n!==r)C(r);else{var i=E(),a=V.location;if(!N&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(O===p(i))return;O=null,function(e){if(N)N=!1,_();else{var t="POP";T.confirmTransitionTo(e,t,o,(function(n){n?_({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var r=L.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(N=!0,M(i))}(e)}))}}(i)}}var P=x(),A=m(P);P!==A&&C(A);var R=E(),L=[p(R)];function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?window.addEventListener(S,D):0===F&&window.removeEventListener(S,D)}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=k(window.location.href)),n+"#"+m(u+p(e))},push:function(e,t){var n="PUSH",r=y(e,void 0,void 0,V.location);T.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=m(u+t);if(x()!==i){O=t,function(e){window.location.hash=e}(i);var o=L.lastIndexOf(p(V.location)),a=L.slice(0,o+1);a.push(t),L=a,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=y(e,void 0,void 0,V.location);T.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=m(u+t);x()!==i&&(O=t,C(i));var o=L.indexOf(p(V.location));-1!==o&&(L[o]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=T.appendListener(e);return j(1),function(){j(-1),t()}}};return V}function O(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=v();function f(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=O(s,0,o.length-1),m=o.map((function(e){return y(e,void 0,"string"===typeof e?h():e.key||h())})),g=p;function b(e){var t=O(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var w={length:m.length,action:"POP",location:m[d],index:d,entries:m,createHref:g,push:function(e,t){var r="PUSH",i=y(e,t,h(),w.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=y(e,t,h(),w.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(w.entries[w.index]=i,f({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return v}));var r=n(2),i=n(6),o=n(1),a=n.n(o),s=n(7),u=(n(12),n(3)),c=n(10),l=n(5),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},y=a.a.forwardRef;"undefined"===typeof y&&(y=p);var m=y((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==y&&t||n,a.a.createElement("a",l)}));var v=y((function(e,t){var n=e.component,i=void 0===n?m:n,o=e.replace,s=e.to,f=e.innerRef,v=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(h(s,e.location),e.location),c=r?n.createHref(r):"",m=Object(u.a)({},v,{href:c,navigate:function(){var t=h(s,e.location);(o?n.replace:n.push)(t)}});return p!==y?m.ref=t||f:m.innerRef=f,a.a.createElement(i,m)}))})),g=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=g);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,p=e.className,y=e.exact,m=e.isActive,w=e.location,E=e.sensitive,T=e.strict,_=e.style,S=e.to,I=e.innerRef,k=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=w||e.location,o=d(h(S,n),n),c=o.pathname,x=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=x?Object(r.e)(n.pathname,{path:x,exact:y,sensitive:E,strict:T}):null,N=!!(m?m(C,n):C),O=N?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,D=N?Object(u.a)({},_,{},f):_,P=Object(u.a)({"aria-current":N&&i||null,className:O,style:D,to:o},k);return g!==b?P.ref=t||I:P.innerRef=I,a.a.createElement(v,P)}))}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"firebase",(function(){return q}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create;var i=n(4);var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create;var f=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),h="[DEFAULT]",d=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=h);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.a;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=o({identifier:h,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService({instanceIdentifier:i});if(!a){if(r)return null;throw Error("Service "+this.name+" is not available")}return a}catch(s){if(r)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:h})}catch(d){}try{for(var r=u(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=c(i.value,2),a=o[0],s=o[1],l=this.normalizeInstanceIdentifier(a);try{var f=this.getOrInitializeService({instanceIdentifier:l});s.resolve(f)}catch(d){}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=h),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return a(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(l(l([],c(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),c(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=h),this.instances.has(e)},e.prototype.initialize=function(e){void 0===e&&(e={});var t=e.instanceIdentifier,n=void 0===t?h:t,r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(n);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:o,options:i})},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===h?void 0:t),options:i}),this.instances.set(n,o)),o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:h:e},e}();var p,y=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new d(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var v,g=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(v||(v={}));var b,w={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},E=v.INFO,T=((p={})[v.DEBUG]="log",p[v.VERBOSE]="log",p[v.INFO]="info",p[v.WARN]="warn",p[v.ERROR]="error",p),_=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=T[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,m(["["+i+"]  "+e.name+":"],n))}},S=function(){function e(e){this.name=e,this._logLevel=E,this._logHandler=_,this._userLogHandler=null,g.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in v))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?w[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,m([this,v.DEBUG],e)),this._logHandler.apply(this,m([this,v.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,m([this,v.VERBOSE],e)),this._logHandler.apply(this,m([this,v.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,m([this,v.INFO],e)),this._logHandler.apply(this,m([this,v.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,m([this,v.WARN],e)),this._logHandler.apply(this,m([this,v.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,m([this,v.ERROR],e)),this._logHandler.apply(this,m([this,v.ERROR],e))},e}();function I(e){g.forEach((function(t){t.setLogLevel(e)}))}var k,x=((b={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",b["bad-app-name"]="Illegal App name: '{$appName}",b["duplicate-app"]="Firebase App named '{$appName}' already exists",b["app-deleted"]="Firebase App named '{$appName}' already deleted",b["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",b["invalid-log-argument"]="First argument to `onLog` must be null or a function.",b),C=new i.b("app","Firebase",x),N="@firebase/app",O="[DEFAULT]",D=((k={})[N]="fire-core",k["@firebase/analytics"]="fire-analytics",k["@firebase/auth"]="fire-auth",k["@firebase/database"]="fire-rtdb",k["@firebase/functions"]="fire-fn",k["@firebase/installations"]="fire-iid",k["@firebase/messaging"]="fire-fcm",k["@firebase/performance"]="fire-perf",k["@firebase/remote-config"]="fire-rc",k["@firebase/storage"]="fire-gcs",k["@firebase/firestore"]="fire-fst",k["fire-js"]="fire-js",k["firebase-wrapper"]="fire-js-all",k),P=new S("@firebase/app"),A=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(i.e)(e),this.container=new y(t.name),this._addComponent(new f("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=O),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=O),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){P.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw C.create("app-deleted",{appName:this.name_})},e}();A.prototype.name&&A.prototype.options||A.prototype.delete||console.log("dc");function R(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!==typeof o||null===o){o={name:o}}var a=o;void 0===a.name&&(a.name=O);var s=a.name;if("string"!==typeof s||!s)throw C.create("bad-app-name",{appName:String(s)});if(Object(i.c)(t,s))throw C.create("duplicate-app",{appName:s});var u=new e(n,a,r);return t[s]=u,u},app:o,registerVersion:function(e,t,n){var r,i=null!==(r=D[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void P.warn(u.join(" "))}a(new f(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:I,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw C.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=w[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:v[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=g;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:a,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function o(e){if(e=e||O,!Object(i.c)(t,e))throw C.create("no-app",{appName:e});return t[e]}function a(a){var s=a.name;if(n.has(s))return P.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===a.type?r[s]:null;if(n.set(s,a),"PUBLIC"===a.type){var u=function(e){if(void 0===e&&(e=o()),"function"!==typeof e[s])throw C.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==a.serviceProps&&Object(i.f)(u,a.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,a.multipleInstances?e:[])}}for(var c=0,l=Object.keys(t);c<l.length;c++){var f=l[c];t[f]._addComponent(a)}return"PUBLIC"===a.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),o.App=e,r}var L=function e(){var t=R(A);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(i.f)(t,e)},createSubscribe:i.d,ErrorFactory:i.b,deepExtend:i.f}),t}(),M=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(i.g)()&&void 0!==self.firebase){P.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var F=self.firebase.SDK_VERSION;F&&F.indexOf("LITE")>=0&&P.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var j=L.initializeApp;L.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i.h)()&&P.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),j.apply(void 0,e)};var U,V,q=L;(U=q).INTERNAL.registerComponent(new f("platform-logger",(function(e){return new M(e)}),"PRIVATE")),U.registerVersion(N,"0.6.17",V),U.registerVersion("fire-js","");t.default=q},function(e,t,n){e.exports=n(36)()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var r=n(1),i=n.n(r),o=n(6),a=n(12),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((i={})[a]=s.a.object,i),{Provider:f,Consumer:h}};t.a=f}).call(this,n(18))},function(e,t,n){var r=n(38);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],y=n[2],m=n[3],v=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=y&&null!=p&&p!==y,T="+"===b||"*"===b,_="?"===b||"*"===b,S=n[2]||l,I=v||g;r.push({name:m||o++,prefix:y||"",delimiter:S,optional:_,repeat:T,partial:E,asterisk:!!w,pattern:I?c(I):w?".*":"[^"+u(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),y=a.slice(-p.length)===p;return i||(a=(y?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&y?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=n(11);n.d(t,"a",(function(){return r.default}));r.default.registerVersion("firebase","8.3.1","app")},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";e.exports=n(39)},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(29)},function(e,t,n){"use strict";var r=n(23),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),y=u(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!y||!y[v])&&(!s||!s[v])){var g=h(n,v);try{c(t,v,g)}catch(b){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";var r=n(22),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function E(){}function T(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var _=T.prototype=new E;_.constructor=T,r(_,w.prototype),_.isPureReactComponent=!0;var S={current:null},I=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var N=/\/+/g,O=[];function D(e,t,n,r){if(O.length){var i=O.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function A(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return n(r,e,""===t?"."+L(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=t+L(i=e[u],u);s+=A(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)s+=A(i=i.value,c=t+L(i,u++),n,r);else if("object"===i)throw n=""+e,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function R(e,t,n){return null==e?0:A(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),R(e,F,t=D(t,o,r,i)),P(t)}var U={current:null};function V(){var e=U.current;if(null===e)throw Error(v(321));return e}var q={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,M,t=D(null,null,t,n)),P(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=T,t.StrictMode=u,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)I.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:y,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return V().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,n){return V().useReducer(e,t,n)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";var r=n(1),i=n(22),o=n(30);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,h={onError:function(e){u=!0,c=e}};function d(e,t,n,r,i,o,a,l,f){u=!1,c=null,s.apply(h,arguments)}var p=null,y=null,m=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,o,s,h,p){if(d.apply(this,arguments),u){if(!u)throw Error(a(198));var y=c;u=!1,c=null,l||(l=!0,f=y)}}(r,t,void 0,e),e.currentTarget=null}var g=null,b={};function w(){if(g)for(var e in b){var t=b[e],n=g.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!T[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in T[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;if(_.hasOwnProperty(u))throw Error(a(99,u));_[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&E(c[i],s,u);i=!0}else o.registrationName?(E(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function E(e,t,n){if(S[e])throw Error(a(100,e));S[e]=t,I[e]=t.eventTypes[n].dependencies}var T=[],_={},S={},I={};function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&w()}var x=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,N=null,O=null;function D(e){if(e=y(e)){if("function"!==typeof C)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function P(e){N?O?O.push(e):O=[e]:N=e}function A(){if(N){var e=N,t=O;if(O=N=null,D(e),t)for(e=0;e<t.length;e++)D(t[e])}}function R(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function M(){}var F=R,j=!1,U=!1;function V(){null===N&&null===O||(M(),A())}function q(e,t,n){if(U)return e(t,n);U=!0;try{return F(e,t,n)}finally{U=!1,V()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,K={},G={};function H(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Q[e]=new H(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Q[t]=new H(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Q[e]=new H(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Q[e]=new H(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Q[e]=new H(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Q[e]=new H(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Q[e]=new H(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Q[e]=new H(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Q[e]=new H(e,5,!1,e.toLowerCase(),null,!1)}));var W=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(W,$);Q[t]=new H(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(W,$);Q[t]=new H(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(W,$);Q[t]=new H(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Q[e]=new H(e,1,!1,e.toLowerCase(),null,!1)})),Q.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Q[e]=new H(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var i=Q.hasOwnProperty(t)?Q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!z.call(G,e)||!z.call(K,e)&&(B.test(e)?G[e]=!0:(K[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ye(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case de:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=me(e.type);n=null,r&&(n=me(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Ie(e,t){Se(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?xe(e,t.type,n):t.hasOwnProperty("defaultValue")&&xe(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function xe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function De(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function Pe(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var je,Ue,Ve=(Ue=function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((je=je||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ue(e,t)}))}:Ue);function qe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ze={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},Ke={},Ge={};function He(e){if(Ke[e])return Ke[e];if(!ze[e])return e;var t,n=ze[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Ke[e]=n[t];return e}x&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);var Qe=He("animationend"),We=He("animationiteration"),$e=He("animationstart"),Ye=He("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(a(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(at=it(at,e)),e=at,at=null,e){if(ot(e,st),at)throw Error(a(95));if(l)throw e=f,l=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!x)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function dt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Dn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<T.length;u++){var c=T[u];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=it(s,c))}ut(s)}}function yt(e,t,n){if(!n.has(e)){switch(e){case"scroll":$t(t,"scroll",!0);break;case"focus":case"blur":$t(t,"focus",!0),$t(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&$t(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Wt(e,t)}n.set(e,null)}}var mt,vt,gt,bt=!1,wt=[],Et=null,Tt=null,_t=null,St=new Map,It=new Map,kt=[],xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Nt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ot(e,t){switch(e){case"focus":case"blur":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Nt(t,n,r,i,o),null!==t&&(null!==(t=Pn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Pt(e){var t=Dn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function At(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Pn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){At(e)&&n.delete(t)}function Lt(){for(bt=!1;0<wt.length;){var e=wt[0];if(null!==e.blockedOn){null!==(e=Pn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:wt.shift()}null!==Et&&At(Et)&&(Et=null),null!==Tt&&At(Tt)&&(Tt=null),null!==_t&&At(_t)&&(_t=null),St.forEach(Rt),It.forEach(Rt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function Ft(e){function t(t){return Mt(t,e)}if(0<wt.length){Mt(wt[0],e);for(var n=1;n<wt.length;n++){var r=wt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Mt(Et,e),null!==Tt&&Mt(Tt,e),null!==_t&&Mt(_t,e),St.forEach(t),It.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Pt(n),null===n.blockedOn&&kt.shift()}var jt={},Ut=new Map,Vt=new Map,qt=["abort","abort",Qe,"animationEnd",We,"animationIteration",$e,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Vt.set(r,t),Ut.set(r,o),jt[i]=o}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(qt,2);for(var zt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Kt=0;Kt<zt.length;Kt++)Vt.set(zt[Kt],0);var Gt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,Qt=!0;function Wt(e,t){$t(t,e,!1)}function $t(e,t,n){var r=Vt.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){j||M();var i=Jt,o=j;j=!0;try{L(i,e,t,n,r)}finally{(j=o)||V()}}function Xt(e,t,n,r){Ht(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Qt)if(0<wt.length&&-1<xt.indexOf(e))e=Nt(null,e,t,n,r),wt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Ot(e,r);else if(-1<xt.indexOf(e))e=Nt(i,e,t,n,r),wt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return Et=Dt(Et,e,t,n,r,i),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,i),!0;case"mouseover":return _t=Dt(_t,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return St.set(o,Dt(St.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Dt(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Ot(e,r),e=dt(e,r,null,t);try{q(pt,e)}finally{ht(e)}}}}function Zt(e,t,n,r){if(null!==(n=Dn(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{q(pt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var on=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(on[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Re;function cn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=I[t];for(var r=0;r<t.length;r++)yt(t[r],e,n)}function ln(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn="$?",gn="$!",bn=null,wn=null;function En(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Tn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,Sn="function"===typeof clearTimeout?clearTimeout:void 0;function In(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function kn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===gn||n===vn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var xn=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+xn,Nn="__reactEventHandlers$"+xn,On="__reactContainere$"+xn;function Dn(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[Cn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=kn(e);null!==e;){if(n=e[Cn])return n;e=kn(e)}return t}n=(e=n).parentNode}return null}function Pn(e){return!(e=e[Cn]||e[On])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function An(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Rn(e){return e[Nn]||null}function Ln(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Fn(e,t,n){(t=Mn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function jn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ln(t);for(t=n.length;0<t--;)Fn(n[t],"captured",e);for(t=0;t<n.length;t++)Fn(n[t],"bubbled",e)}}function Un(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Mn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){e&&e.dispatchConfig.registrationName&&Un(e._targetInst,null,e)}function qn(e){ot(e,jn)}var Bn=null,zn=null,Kn=null;function Gn(){if(Kn)return Kn;var e,t,n=zn,r=n.length,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Kn=i.slice(e,1<t?1-t:void 0)}function Hn(){return!0}function Qn(){return!1}function Wn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:Qn,this.isPropagationStopped=Qn,this}function $n(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Yn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Xn(e){e.eventPool=[],e.getPooled=$n,e.release=Yn}i(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:Qn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Qn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Xn(n),n},Xn(Wn);var Jn=Wn.extend({data:null}),Zn=Wn.extend({data:null}),er=[9,13,27,32],tr=x&&"CompositionEvent"in window,nr=null;x&&"documentMode"in document&&(nr=document.documentMode);var rr=x&&"TextEvent"in window&&!nr,ir=x&&(!tr||nr&&8<nr&&11>=nr),or=String.fromCharCode(32),ar={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sr=!1;function ur(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var lr=!1;var fr={eventTypes:ar,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var o=ar.compositionStart;break e;case"compositionend":o=ar.compositionEnd;break e;case"compositionupdate":o=ar.compositionUpdate;break e}o=void 0}else lr?ur(e,n)&&(o=ar.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ar.compositionStart);return o?(ir&&"ko"!==n.locale&&(lr||o!==ar.compositionStart?o===ar.compositionEnd&&lr&&(i=Gn()):(zn="value"in(Bn=r)?Bn.value:Bn.textContent,lr=!0)),o=Jn.getPooled(o,t,n,r),i?o.data=i:null!==(i=cr(n))&&(o.data=i),qn(o),i=o):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(sr=!0,or);case"textInput":return(e=t.data)===or&&sr?null:e;default:return null}}(e,n):function(e,t){if(lr)return"compositionend"===e||!tr&&ur(e,t)?(e=Gn(),Kn=zn=Bn=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Zn.getPooled(ar.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!hr[e.type]:"textarea"===t}var pr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yr(e,t,n){return(e=Wn.getPooled(pr.change,e,t,n)).type="change",P(n),qn(e),e}var mr=null,vr=null;function gr(e){ut(e)}function br(e){if(Ee(An(e)))return e}function wr(e,t){if("change"===e)return t}var Er=!1;function Tr(){mr&&(mr.detachEvent("onpropertychange",_r),vr=mr=null)}function _r(e){if("value"===e.propertyName&&br(vr))if(e=yr(vr,e,ct(e)),j)ut(e);else{j=!0;try{R(gr,e)}finally{j=!1,V()}}}function Sr(e,t,n){"focus"===e?(Tr(),vr=n,(mr=t).attachEvent("onpropertychange",_r)):"blur"===e&&Tr()}function Ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return br(vr)}function kr(e,t){if("click"===e)return br(t)}function xr(e,t){if("input"===e||"change"===e)return br(t)}x&&(Er=lt("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:pr,_isInputEventSupported:Er,extractEvents:function(e,t,n,r){var i=t?An(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=wr;else if(dr(i))if(Er)a=xr;else{a=Ir;var s=Sr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=kr);if(a&&(a=a(e,t)))return yr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&xe(i,"number",i.value)}},Nr=Wn.extend({view:null,detail:null}),Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Or[e])&&!!t[e]}function Pr(){return Dr}var Ar=0,Rr=0,Lr=!1,Mr=!1,Fr=Nr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ar;return Ar=e.screenX,Lr?"mousemove"===e.type?e.screenX-t:0:(Lr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Rr;return Rr=e.screenY,Mr?"mousemove"===e.type?e.screenY-t:0:(Mr=!0,0)}}),jr=Fr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ur={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Vr={eventTypes:Ur,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Dn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Fr,u=Ur.mouseLeave,c=Ur.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=jr,u=Ur.pointerLeave,c=Ur.pointerEnter,l="pointer");if(e=null==a?o:An(a),o=null==t?o:An(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,a=0,e=s=r;e;e=Ln(e))a++;for(e=0,t=c;t;t=Ln(t))e++;for(;0<a-e;)s=Ln(s),a--;for(;0<e-a;)c=Ln(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Ln(s),c=Ln(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Ln(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=Ln(l);for(l=0;l<s.length;l++)Un(s[l],"bubbled",u);for(l=r.length;0<l--;)Un(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Br=Object.prototype.hasOwnProperty;function zr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Br.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Kr=x&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hr=null,Qr=null,Wr=null,$r=!1;function Yr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $r||null==Hr||Hr!==fn(n)?null:("selectionStart"in(n=Hr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&zr(Wr,n)?null:(Wr=n,(e=Wn.getPooled(Gr.select,Qr,e,t)).type="select",e.target=Hr,qn(e),e))}var Xr={eventTypes:Gr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),o=I.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?An(t):window,e){case"focus":(dr(i)||"true"===i.contentEditable)&&(Hr=i,Qr=t,Wr=null);break;case"blur":Wr=Qr=Hr=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":return $r=!1,Yr(n,r);case"selectionchange":if(Kr)break;case"keydown":case"keyup":return Yr(n,r)}return null}},Jr=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zr=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=Nr.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Nr.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),oi=Fr.extend({dataTransfer:null}),ai=Nr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pr}),si=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=Fr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ci={eventTypes:jt,extractEvents:function(e,t,n,r){var i=Ut.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=oi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ai;break;case Qe:case We:case $e:e=Jr;break;case Ye:e=si;break;case"scroll":e=Nr;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=Zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=jr;break;default:e=Wn}return qn(t=e.getPooled(i,t,n,r)),t}};if(g)throw Error(a(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Rn,y=Pn,m=An,k({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Vr,ChangeEventPlugin:Cr,SelectEventPlugin:Xr,BeforeInputEventPlugin:fr});var li=[],fi=-1;function hi(e){0>fi||(e.current=li[fi],li[fi]=null,fi--)}function di(e,t){fi++,li[fi]=e.current,e.current=t}var pi={},yi={current:pi},mi={current:!1},vi=pi;function gi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function wi(){hi(mi),hi(yi)}function Ei(e,t,n){if(yi.current!==pi)throw Error(a(168));di(yi,t),di(mi,n)}function Ti(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,me(t)||"Unknown",o));return i({},n,{},r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,vi=yi.current,di(yi,e),di(mi,mi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ti(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,hi(mi),hi(yi),di(yi,e)):hi(mi),di(mi,n)}var Ii=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,xi=o.unstable_cancelCallback,Ci=o.unstable_requestPaint,Ni=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Di=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=o.unstable_shouldYield,ji=void 0!==Ci?Ci:function(){},Ui=null,Vi=null,qi=!1,Bi=Ni(),zi=1e4>Bi?Ni:function(){return Ni()-Bi};function Ki(){switch(Oi()){case Di:return 99;case Pi:return 98;case Ai:return 97;case Ri:return 96;case Li:return 95;default:throw Error(a(332))}}function Gi(e){switch(e){case 99:return Di;case 98:return Pi;case 97:return Ai;case 96:return Ri;case 95:return Li;default:throw Error(a(332))}}function Hi(e,t){return e=Gi(e),Ii(e,t)}function Qi(e,t,n){return e=Gi(e),ki(e,t,n)}function Wi(e){return null===Ui?(Ui=[e],Vi=ki(Di,Yi)):Ui.push(e),Mi}function $i(){if(null!==Vi){var e=Vi;Vi=null,xi(e)}Yi()}function Yi(){if(!qi&&null!==Ui){qi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),ki(Di,$i),n}finally{qi=!1}}}function Xi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ji(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Zi={current:null},eo=null,to=null,no=null;function ro(){no=to=eo=null}function io(e){var t=Zi.current;hi(Zi),e.type._context._currentValue=t}function oo(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ao(e,t){eo=e,no=to=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ra=!0),e.firstContext=null)}function so(e,t){if(no!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(no=e,t=1073741823),t={context:e,observedBits:t,next:null},null===to){if(null===eo)throw Error(a(308));to=t,eo.dependencies={expirationTime:0,firstContext:t,responders:null}}else to=to.next=t;return e._currentValue}var uo=!1;function co(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fo(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function po(e,t){var n=e.alternate;null!==n&&lo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function yo(e,t,n,r){var o=e.updateQueue;uo=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,f=null,h=null,d=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var y={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=y,f=c):d=d.next=y,s>l&&(l=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),du(s,p.suspenseConfig);e:{var m=e,v=p;switch(s=t,y=n,v.tag){case 1:if("function"===typeof(m=v.payload)){c=m.call(y,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=v.payload)?m.call(y,c,s):m)||void 0===s)break e;c=i({},c,s);break e;case 2:uo=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===d?f=c:d.next=h,o.baseState=f,o.baseQueue=d,pu(l),e.expirationTime=l,e.memoizedState=c}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var vo=Y.ReactCurrentBatchConfig,go=(new r.Component).refs;function bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var wo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=eu(),i=vo.suspense;(i=fo(r=tu(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ho(e,i),nu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=eu(),i=vo.suspense;(i=fo(r=tu(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ho(e,i),nu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=eu(),r=vo.suspense;(r=fo(n=tu(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ho(e,r),nu(e,n)}};function Eo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!zr(n,r)||!zr(i,o))}function To(e,t,n){var r=!1,i=pi,o=t.contextType;return"object"===typeof o&&null!==o?o=so(o):(i=bi(t)?vi:yi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function So(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,co(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=so(o):(o=bi(t)?vi:yi.current,i.context=gi(e,o)),yo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wo.enqueueReplaceState(i,i.state,null),yo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Io=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Co(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case te:return(t=ju(t,e.mode,n)).return=e,t}if(Io(t)||ye(t))return(t=Mu(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Io(n)||ye(n))return null!==i?null:f(e,t,n,r,null);xo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Io(r)||ye(r))return f(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function y(i,a,s,u){for(var c=null,l=null,f=a,y=a=0,m=null;null!==f&&y<s.length;y++){f.index>y?(m=f,f=null):m=f.sibling;var v=d(i,f,s[y],u);if(null===v){null===f&&(f=m);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,y),null===l?c=v:l.sibling=v,l=v,f=m}if(y===s.length)return n(i,f),c;if(null===f){for(;y<s.length;y++)null!==(f=h(i,s[y],u))&&(a=o(f,a,y),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);y<s.length;y++)null!==(m=p(f,i,y,s[y],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?y:m.key),a=o(m,a,y),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=ye(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,y=s,m=s=0,v=null,g=u.next();null!==y&&!g.done;m++,g=u.next()){y.index>m?(v=y,y=null):v=y.sibling;var b=d(i,y,g.value,c);if(null===b){null===y&&(y=v);break}e&&y&&null===b.alternate&&t(i,y),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,y=v}if(g.done)return n(i,y),l;if(null===y){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(y=r(i,y);!g.done;m++,g=u.next())null!==(g=p(y,i,m,g.value,c))&&(e&&null!==g.alternate&&y.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&y.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case ee:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=ko(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=Mu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Lu(o.type,o.key,o.props,null,e.mode,u)).ref=ko(e,r,o),u.return=e,e=u)}return s(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ju(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Fu(o,e.mode,u)).return=e,e=r),s(e);if(Io(o))return y(e,r,o,u);if(ye(o))return m(e,r,o,u);if(l&&xo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var No=Co(!0),Oo=Co(!1),Do={},Po={current:Do},Ao={current:Do},Ro={current:Do};function Lo(e){if(e===Do)throw Error(a(174));return e}function Mo(e,t){switch(di(Ro,t),di(Ao,e),di(Po,Do),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}hi(Po),di(Po,t)}function Fo(){hi(Po),hi(Ao),hi(Ro)}function jo(e){Lo(Ro.current);var t=Lo(Po.current),n=Fe(t,e.type);t!==n&&(di(Ao,e),di(Po,n))}function Uo(e){Ao.current===e&&(hi(Po),hi(Ao))}var Vo={current:0};function qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===vn||n.data===gn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bo(e,t){return{responder:e,props:t}}var zo=Y.ReactCurrentDispatcher,Ko=Y.ReactCurrentBatchConfig,Go=0,Ho=null,Qo=null,Wo=null,$o=!1;function Yo(){throw Error(a(321))}function Xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function Jo(e,t,n,r,i,o){if(Go=o,Ho=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,zo.current=null===e||null===e.memoizedState?Ea:Ta,e=n(r,i),t.expirationTime===Go){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Wo=Qo=null,t.updateQueue=null,zo.current=_a,e=n(r,i)}while(t.expirationTime===Go)}if(zo.current=wa,t=null!==Qo&&null!==Qo.next,Go=0,Wo=Qo=Ho=null,$o=!1,t)throw Error(a(300));return e}function Zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Ho.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function ea(){if(null===Qo){var e=Ho.alternate;e=null!==e?e.memoizedState:null}else e=Qo.next;var t=null===Wo?Ho.memoizedState:Wo.next;if(null!==t)Wo=t,Qo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Qo=e).memoizedState,baseState:Qo.baseState,baseQueue:Qo.baseQueue,queue:Qo.queue,next:null},null===Wo?Ho.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function ta(e,t){return"function"===typeof t?t(e):t}function na(e){var t=ea(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Qo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.expirationTime;if(l<Go){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,l>Ho.expirationTime&&(Ho.expirationTime=l,pu(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),du(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,qr(r,t.memoizedState)||(Ra=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ra(e){var t=ea(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);qr(o,t.memoizedState)||(Ra=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ia(e){var t=Zo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e}).dispatch=ba.bind(null,Ho,e),[t.memoizedState,e]}function oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ho.updateQueue)?(t={lastEffect:null},Ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function aa(){return ea().memoizedState}function sa(e,t,n,r){var i=Zo();Ho.effectTag|=e,i.memoizedState=oa(1|t,n,void 0,void 0===r?null:r)}function ua(e,t,n,r){var i=ea();r=void 0===r?null:r;var o=void 0;if(null!==Qo){var a=Qo.memoizedState;if(o=a.destroy,null!==r&&Xo(r,a.deps))return void oa(t,n,o,r)}Ho.effectTag|=e,i.memoizedState=oa(1|t,n,o,r)}function ca(e,t){return sa(516,4,e,t)}function la(e,t){return ua(516,4,e,t)}function fa(e,t){return ua(4,2,e,t)}function ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function da(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ua(4,2,ha.bind(null,t,e),n)}function pa(){}function ya(e,t){return Zo().memoizedState=[e,void 0===t?null:t],e}function ma(e,t){var n=ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function va(e,t){var n=ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ga(e,t,n){var r=Ki();Hi(98>r?98:r,(function(){e(!0)})),Hi(97<r?97:r,(function(){var r=Ko.suspense;Ko.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ko.suspense=r}}))}function ba(e,t,n){var r=eu(),i=vo.suspense;i={expirationTime:r=tu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Ho||null!==o&&o===Ho)$o=!0,i.expirationTime=Go,Ho.expirationTime=Go;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,qr(s,a))return}catch(u){}nu(e,r)}}var wa={readContext:so,useCallback:Yo,useContext:Yo,useEffect:Yo,useImperativeHandle:Yo,useLayoutEffect:Yo,useMemo:Yo,useReducer:Yo,useRef:Yo,useState:Yo,useDebugValue:Yo,useResponder:Yo,useDeferredValue:Yo,useTransition:Yo},Ea={readContext:so,useCallback:ya,useContext:so,useEffect:ca,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,sa(4,2,ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sa(4,2,e,t)},useMemo:function(e,t){var n=Zo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ba.bind(null,Ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Zo().memoizedState=e},useState:ia,useDebugValue:pa,useResponder:Bo,useDeferredValue:function(e,t){var n=ia(e),r=n[0],i=n[1];return ca((function(){var n=Ko.suspense;Ko.suspense=void 0===t?null:t;try{i(e)}finally{Ko.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ia(!1),n=t[0];return t=t[1],[ya(ga.bind(null,t,e),[t,e]),n]}},Ta={readContext:so,useCallback:ma,useContext:so,useEffect:la,useImperativeHandle:da,useLayoutEffect:fa,useMemo:va,useReducer:na,useRef:aa,useState:function(){return na(ta)},useDebugValue:pa,useResponder:Bo,useDeferredValue:function(e,t){var n=na(ta),r=n[0],i=n[1];return la((function(){var n=Ko.suspense;Ko.suspense=void 0===t?null:t;try{i(e)}finally{Ko.suspense=n}}),[e,t]),r},useTransition:function(e){var t=na(ta),n=t[0];return t=t[1],[ma(ga.bind(null,t,e),[t,e]),n]}},_a={readContext:so,useCallback:ma,useContext:so,useEffect:la,useImperativeHandle:da,useLayoutEffect:fa,useMemo:va,useReducer:ra,useRef:aa,useState:function(){return ra(ta)},useDebugValue:pa,useResponder:Bo,useDeferredValue:function(e,t){var n=ra(ta),r=n[0],i=n[1];return la((function(){var n=Ko.suspense;Ko.suspense=void 0===t?null:t;try{i(e)}finally{Ko.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ra(ta),n=t[0];return t=t[1],[ma(ga.bind(null,t,e),[t,e]),n]}},Sa=null,Ia=null,ka=!1;function xa(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Na(e){if(ka){var t=Ia;if(t){var n=t;if(!Ca(e,t)){if(!(t=In(n.nextSibling))||!Ca(e,t))return e.effectTag=-1025&e.effectTag|2,ka=!1,void(Sa=e);xa(Sa,n)}Sa=e,Ia=In(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,ka=!1,Sa=e}}function Oa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Sa=e}function Da(e){if(e!==Sa)return!1;if(!ka)return Oa(e),ka=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Tn(t,e.memoizedProps))for(t=Ia;t;)xa(e,t),t=In(t.nextSibling);if(Oa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ia=In(e.nextSibling);break e}t--}else"$"!==n&&n!==gn&&n!==vn||t++}e=e.nextSibling}Ia=null}}else Ia=Sa?In(e.stateNode.nextSibling):null;return!0}function Pa(){Ia=Sa=null,ka=!1}var Aa=Y.ReactCurrentOwner,Ra=!1;function La(e,t,n,r){t.child=null===e?Oo(t,null,n,r):No(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var o=t.ref;return ao(t,i),r=Jo(e,t,n,r,o,i),null===e||Ra?(t.effectTag|=1,La(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ja(e,t,i))}function Fa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Au(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:zr)(i,r)&&e.ref===t.ref)?Ja(e,t,o):(t.effectTag|=1,(e=Ru(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){return null!==e&&zr(e.memoizedProps,r)&&e.ref===t.ref&&(Ra=!1,i<o)?(t.expirationTime=e.expirationTime,Ja(e,t,o)):Va(e,t,n,r,o)}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Va(e,t,n,r,i){var o=bi(n)?vi:yi.current;return o=gi(t,o),ao(t,i),n=Jo(e,t,n,r,o,i),null===e||Ra?(t.effectTag|=1,La(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ja(e,t,i))}function qa(e,t,n,r,i){if(bi(n)){var o=!0;_i(t)}else o=!1;if(ao(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),To(t,n,r),So(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=so(c):c=gi(t,c=bi(n)?vi:yi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),uo=!1;var h=t.memoizedState;a.state=h,yo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||mi.current||uo?("function"===typeof l&&(bo(t,n,l,r),u=t.memoizedState),(s=uo||Eo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,lo(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Ji(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=so(c):c=gi(t,c=bi(n)?vi:yi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),uo=!1,u=t.memoizedState,a.state=u,yo(t,r,a,i),h=t.memoizedState,s!==r||u!==h||mi.current||uo?("function"===typeof l&&(bo(t,n,l,r),h=t.memoizedState),(l=uo||Eo(t,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Ba(e,t,n,r,o,i)}function Ba(e,t,n,r,i,o){Ua(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&Si(t,n,!1),Ja(e,t,o);r=t.stateNode,Aa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=No(t,e.child,null,o),t.child=No(t,null,s,o)):La(e,t,s,o),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?Ei(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ei(0,t.context,!1),Mo(e,t.containerInfo)}var Ka,Ga,Ha,Qa={dehydrated:null,retryTime:0};function Wa(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Vo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),di(Vo,1&a),null===e){if(void 0!==o.fallback&&Na(t),s){if(s=o.fallback,(o=Mu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Mu(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Qa,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Oo(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Ru(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Ru(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Qa,t.child=n,i}return n=No(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Mu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Mu(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Qa,t.child=o,n}return t.memoizedState=null,t.child=No(t,e,o.children,n)}function $a(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),oo(e.return,t)}function Ya(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Xa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(La(e,t,r.children,n),0!==(2&(r=Vo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Vo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===qo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ya(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===qo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ya(t,!0,n,null,o,t.lastEffect);break;case"together":Ya(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ja(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&pu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Za(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function es(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return bi(t.type)&&wi(),null;case 3:return Fo(),hi(mi),hi(yi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Da(t)||(t.effectTag|=4),null;case 5:Uo(t),n=Lo(Ro.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ga(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Lo(Po.current),Da(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[Cn]=t,r[Nn]=s,o){case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Wt(Xe[e],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"form":Wt("reset",r),Wt("submit",r);break;case"details":Wt("toggle",r);break;case"input":_e(r,s),Wt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Wt("invalid",r),cn(n,"onChange");break;case"textarea":De(r,s),Wt("invalid",r),cn(n,"onChange")}for(var u in an(o,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):S.hasOwnProperty(u)&&null!=c&&cn(n,u)}switch(o){case"input":we(r),ke(r,s,!0);break;case"textarea":we(r),Ae(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===un&&(e=Me(o)),e===un?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[Cn]=t,e[Nn]=r,Ka(e,t),t.stateNode=e,u=sn(o,r),o){case"iframe":case"object":case"embed":Wt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Xe.length;c++)Wt(Xe[c],e);c=r;break;case"source":Wt("error",e),c=r;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),c=r;break;case"form":Wt("reset",e),Wt("submit",e),c=r;break;case"details":Wt("toggle",e),c=r;break;case"input":_e(e,r),c=Te(e,r),Wt("invalid",e),cn(n,"onChange");break;case"option":c=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Wt("invalid",e),cn(n,"onChange");break;case"textarea":De(e,r),c=Oe(e,r),Wt("invalid",e),cn(n,"onChange");break;default:c=r}an(o,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?rn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Ve(e,f):"children"===s?"string"===typeof f?("textarea"!==o||""!==f)&&qe(e,f):"number"===typeof f&&qe(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=f&&cn(n,s):null!=f&&X(e,s,f,u))}switch(o){case"input":we(e),ke(e,r,!1);break;case"textarea":we(e),Ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ne(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ln)}En(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Lo(Ro.current),Lo(Po.current),Da(t)?(n=t.stateNode,r=t.memoizedProps,n[Cn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Cn]=t,t.stateNode=n)}return null;case 13:return hi(Vo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Da(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Vo.current)?Ls===Cs&&(Ls=Ns):(Ls!==Cs&&Ls!==Ns||(Ls=Os),0!==Vs&&null!==Ps&&(qu(Ps,Rs),Bu(Ps,Vs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Fo(),null;case 10:return io(t),null;case 17:return bi(t.type)&&wi(),null;case 19:if(hi(Vo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)Za(r,!1);else if(Ls!==Cs||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=qo(s))){for(t.effectTag|=64,Za(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return di(Vo,1&Vo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=qo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Za(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Za(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=zi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Vo.current,di(Vo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function ts(e){switch(e.tag){case 1:bi(e.type)&&wi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fo(),hi(mi),hi(yi),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Uo(e),null;case 13:return hi(Vo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return hi(Vo),null;case 4:return Fo(),null;case 10:return io(e),null;default:return null}}function ns(e,t){return{value:e,source:t,stack:ve(t)}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,c=t.stateNode;switch(Lo(Po.current),e=null,n){case"input":a=Te(c,a),r=Te(c,r),e=[];break;case"option":a=Ce(c,a),r=Ce(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Oe(c,a),r=Oe(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=ln)}for(s in an(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=l&&cn(o,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ha=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var rs="function"===typeof WeakSet?WeakSet:Set;function is(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function os(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ku(e,n)}else t.current=null}function as(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ss(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function us(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void us(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&En(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function ls(e,t,n){switch("function"===typeof Ou&&Ou(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Hi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){ku(i,o)}}e=e.next}while(e!==r)}))}break;case 1:os(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){ku(e,n)}}(t,n);break;case 5:os(t);break;case 4:ms(e,t,n)}}function fs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&fs(t)}function hs(e){return 5===e.tag||3===e.tag||4===e.tag}function ds(e){e:{for(var t=e.return;null!==t;){if(hs(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(qe(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?ps(e,n,t):ys(e,n,t)}function ps(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(ps(e,t,n),e=e.sibling;null!==e;)ps(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function ms(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,f=c;;)if(ls(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ls(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function vs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ss(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Nn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),sn(e,i),t=sn(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?rn(n,u):"dangerouslySetInnerHTML"===s?Ve(n,u):"children"===s?qe(n,u):X(n,s,u,t)}switch(e){case"input":Ie(n,r);break;case"textarea":Pe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ne(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ne(n,!!r.multiple,r.defaultValue,!0):Ne(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Bs=zi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void gs(t);case 19:return void gs(t);case 17:return}throw Error(a(163))}function gs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rs),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var bs="function"===typeof WeakMap?WeakMap:Map;function ws(e,t,n){(n=fo(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),is(e,t)},n}function Es(e,t,n){(n=fo(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return is(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this),is(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ts,_s=Math.ceil,Ss=Y.ReactCurrentDispatcher,Is=Y.ReactCurrentOwner,ks=16,xs=32,Cs=0,Ns=3,Os=4,Ds=0,Ps=null,As=null,Rs=0,Ls=Cs,Ms=null,Fs=1073741823,js=1073741823,Us=null,Vs=0,qs=!1,Bs=0,zs=null,Ks=!1,Gs=null,Hs=null,Qs=!1,Ws=null,$s=90,Ys=null,Xs=0,Js=null,Zs=0;function eu(){return 0!==(48&Ds)?1073741821-(zi()/10|0):0!==Zs?Zs:Zs=1073741821-(zi()/10|0)}function tu(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Ki();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(Ds&ks))return Rs;if(null!==n)e=Xi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Xi(e,150,100);break;case 97:case 96:e=Xi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ps&&e===Rs&&--e,e}function nu(e,t){if(50<Xs)throw Xs=0,Js=null,Error(a(185));if(null!==(e=ru(e,t))){var n=Ki();1073741823===t?0!==(8&Ds)&&0===(48&Ds)?su(e):(ou(e),0===Ds&&$i()):ou(e),0===(4&Ds)||98!==n&&99!==n||(null===Ys?Ys=new Map([[e,t]]):(void 0===(n=Ys.get(e))||n>t)&&Ys.set(e,t))}}function ru(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ps===i&&(pu(t),Ls===Os&&qu(i,Rs)),Bu(i,t)),i}function iu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Vu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function ou(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wi(su.bind(null,e));else{var t=iu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=eu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Mi&&xi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wi(su.bind(null,e)):Qi(r,au.bind(null,e),{timeout:10*(1073741821-t)-zi()}),e.callbackNode=t}}}function au(e,t){if(Zs=0,t)return zu(e,t=eu()),ou(e),null;var n=iu(e);if(0!==n){if(t=e.callbackNode,0!==(48&Ds))throw Error(a(327));if(_u(),e===Ps&&n===Rs||lu(e,n),null!==As){var r=Ds;Ds|=ks;for(var i=hu();;)try{mu();break}catch(u){fu(e,u)}if(ro(),Ds=r,Ss.current=i,1===Ls)throw t=Ms,lu(e,n),qu(e,n),ou(e),t;if(null===As)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ls,Ps=null,r){case Cs:case 1:throw Error(a(345));case 2:zu(e,2<n?2:n);break;case Ns:if(qu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bu(i)),1073741823===Fs&&10<(i=Bs+500-zi())){if(qs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,lu(e,n);break}}if(0!==(o=iu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=_n(wu.bind(null,e),i);break}wu(e);break;case Os:if(qu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bu(i)),qs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,lu(e,n);break}if(0!==(i=iu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==js?r=10*(1073741821-js)-zi():1073741823===Fs?r=0:(r=10*(1073741821-Fs)-5e3,0>(r=(i=zi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=_n(wu.bind(null,e),r);break}wu(e);break;case 5:if(1073741823!==Fs&&null!==Us){o=Fs;var s=Us;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=zi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){qu(e,n),e.timeoutHandle=_n(wu.bind(null,e),r);break}}wu(e);break;default:throw Error(a(329))}if(ou(e),e.callbackNode===t)return au.bind(null,e)}}return null}function su(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ds))throw Error(a(327));if(_u(),e===Ps&&t===Rs||lu(e,t),null!==As){var n=Ds;Ds|=ks;for(var r=hu();;)try{yu();break}catch(i){fu(e,i)}if(ro(),Ds=n,Ss.current=r,1===Ls)throw n=Ms,lu(e,t),qu(e,t),ou(e),n;if(null!==As)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ps=null,wu(e),ou(e)}return null}function uu(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{0===(Ds=n)&&$i()}}function cu(e,t){var n=Ds;Ds&=-2,Ds|=8;try{return e(t)}finally{0===(Ds=n)&&$i()}}function lu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Sn(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&wi();break;case 3:Fo(),hi(mi),hi(yi);break;case 5:Uo(r);break;case 4:Fo();break;case 13:case 19:hi(Vo);break;case 10:io(r)}n=n.return}Ps=e,As=Ru(e.current,null),Rs=t,Ls=Cs,Ms=null,js=Fs=1073741823,Us=null,Vs=0,qs=!1}function fu(e,t){for(;;){try{if(ro(),zo.current=wa,$o)for(var n=Ho.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Go=0,Wo=Qo=Ho=null,$o=!1,null===As||null===As.return)return Ls=1,Ms=t,As=null;e:{var i=e,o=As.return,a=As,s=t;if(t=Rs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&Vo.current),f=o;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var y=f.updateQueue;if(null===y){var m=new Set;m.add(u),f.updateQueue=m}else y.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=fo(1073741823,null);v.tag=2,ho(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new bs,s=new Set,g.set(u,s)):void 0===(s=g.get(u))&&(s=new Set,g.set(u,s)),!s.has(a)){s.add(a);var b=xu.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((me(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==Ls&&(Ls=2),s=ns(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,po(f,ws(f,u,t));break e;case 1:u=s;var w=f.type,E=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Hs||!Hs.has(E)))){f.effectTag|=4096,f.expirationTime=t,po(f,Es(f,u,t));break e}}f=f.return}while(null!==f)}As=gu(As)}catch(T){t=T;continue}break}}function hu(){var e=Ss.current;return Ss.current=wa,null===e?wa:e}function du(e,t){e<Fs&&2<e&&(Fs=e),null!==t&&e<js&&2<e&&(js=e,Us=t)}function pu(e){e>Vs&&(Vs=e)}function yu(){for(;null!==As;)As=vu(As)}function mu(){for(;null!==As&&!Fi();)As=vu(As)}function vu(e){var t=Ts(e.alternate,e,Rs);return e.memoizedProps=e.pendingProps,null===t&&(t=gu(e)),Is.current=null,t}function gu(e){As=e;do{var t=As.alternate;if(e=As.return,0===(2048&As.effectTag)){if(t=es(t,As,Rs),1===Rs||1!==As.childExpirationTime){for(var n=0,r=As.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}As.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=As.firstEffect),null!==As.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=As.firstEffect),e.lastEffect=As.lastEffect),1<As.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=As:e.firstEffect=As,e.lastEffect=As))}else{if(null!==(t=ts(As)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=As.sibling))return t;As=e}while(null!==As);return Ls===Cs&&(Ls=5),null}function bu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function wu(e){var t=Ki();return Hi(99,Eu.bind(null,e,t)),null}function Eu(e,t){do{_u()}while(null!==Ws);if(0!==(48&Ds))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=bu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ps&&(As=Ps=null,Rs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ds;Ds|=xs,Is.current=null,bn=Qt;var s=yn();if(mn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(k){u=null;break e}var h=0,d=-1,p=-1,y=0,m=0,v=s,g=null;t:for(;;){for(var b;v!==u||0!==l&&3!==v.nodeType||(d=h+l),v!==f||0!==c&&3!==v.nodeType||(p=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)g=v,v=b;for(;;){if(v===s)break t;if(g===u&&++y===l&&(d=h),g===f&&++m===c&&(p=h),null!==(b=v.nextSibling))break;g=(v=g).parentNode}v=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;wn={activeElementDetached:null,focusedElem:s,selectionRange:u},Qt=!1,zs=i;do{try{Tu()}catch(k){if(null===zs)throw Error(a(330));ku(zs,k),zs=zs.nextEffect}}while(null!==zs);zs=i;do{try{for(s=e,u=t;null!==zs;){var w=zs.effectTag;if(16&w&&qe(zs.stateNode,""),128&w){var E=zs.alternate;if(null!==E){var T=E.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(1038&w){case 2:ds(zs),zs.effectTag&=-3;break;case 6:ds(zs),zs.effectTag&=-3,vs(zs.alternate,zs);break;case 1024:zs.effectTag&=-1025;break;case 1028:zs.effectTag&=-1025,vs(zs.alternate,zs);break;case 4:vs(zs.alternate,zs);break;case 8:ms(s,l=zs,u),fs(l)}zs=zs.nextEffect}}catch(k){if(null===zs)throw Error(a(330));ku(zs,k),zs=zs.nextEffect}}while(null!==zs);if(T=wn,E=yn(),w=T.focusedElem,u=T.selectionRange,E!==w&&w&&w.ownerDocument&&pn(w.ownerDocument.documentElement,w)){null!==u&&mn(w)&&(E=u.start,void 0===(T=u.end)&&(T=E),"selectionStart"in w?(w.selectionStart=E,w.selectionEnd=Math.min(T,w.value.length)):(T=(E=w.ownerDocument||document)&&E.defaultView||window).getSelection&&(T=T.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!T.extend&&s>u&&(l=u,u=s,s=l),l=dn(w,s),f=dn(w,u),l&&f&&(1!==T.rangeCount||T.anchorNode!==l.node||T.anchorOffset!==l.offset||T.focusNode!==f.node||T.focusOffset!==f.offset)&&((E=E.createRange()).setStart(l.node,l.offset),T.removeAllRanges(),s>u?(T.addRange(E),T.extend(f.node,f.offset)):(E.setEnd(f.node,f.offset),T.addRange(E))))),E=[];for(T=w;T=T.parentNode;)1===T.nodeType&&E.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<E.length;w++)(T=E[w]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Qt=!!bn,wn=bn=null,e.current=n,zs=i;do{try{for(w=e;null!==zs;){var _=zs.effectTag;if(36&_&&cs(w,zs.alternate,zs),128&_){E=void 0;var S=zs.ref;if(null!==S){var I=zs.stateNode;switch(zs.tag){case 5:E=I;break;default:E=I}"function"===typeof S?S(E):S.current=E}}zs=zs.nextEffect}}catch(k){if(null===zs)throw Error(a(330));ku(zs,k),zs=zs.nextEffect}}while(null!==zs);zs=null,ji(),Ds=o}else e.current=n;if(Qs)Qs=!1,Ws=e,$s=t;else for(zs=i;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,zs=t;if(0===(t=e.firstPendingTime)&&(Hs=null),1073741823===t?e===Js?Xs++:(Xs=0,Js=e):Xs=0,"function"===typeof Nu&&Nu(n.stateNode,r),ou(e),Ks)throw Ks=!1,e=Gs,Gs=null,e;return 0!==(8&Ds)||$i(),null}function Tu(){for(;null!==zs;){var e=zs.effectTag;0!==(256&e)&&as(zs.alternate,zs),0===(512&e)||Qs||(Qs=!0,Qi(97,(function(){return _u(),null}))),zs=zs.nextEffect}}function _u(){if(90!==$s){var e=97<$s?97:$s;return $s=90,Hi(e,Su)}}function Su(){if(null===Ws)return!1;var e=Ws;if(Ws=null,0!==(48&Ds))throw Error(a(331));var t=Ds;for(Ds|=xs,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ss(5,n),us(5,n)}}catch(r){if(null===e)throw Error(a(330));ku(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ds=t,$i(),!0}function Iu(e,t,n){ho(e,t=ws(e,t=ns(n,t),1073741823)),null!==(e=ru(e,1073741823))&&ou(e)}function ku(e,t){if(3===e.tag)Iu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Iu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){ho(n,e=Es(n,e=ns(t,e),1073741823)),null!==(n=ru(n,1073741823))&&ou(n);break}}n=n.return}}function xu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ps===e&&Rs===n?Ls===Os||Ls===Ns&&1073741823===Fs&&zi()-Bs<500?lu(e,Rs):qs=!0:Vu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,ou(e)))}function Cu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=tu(t=eu(),e,null)),null!==(e=ru(e,t))&&ou(e)}Ts=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||mi.current)Ra=!0;else{if(r<n){switch(Ra=!1,t.tag){case 3:za(t),Pa();break;case 5:if(jo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bi(t.type)&&_i(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,di(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Wa(e,t,n):(di(Vo,1&Vo.current),null!==(t=Ja(e,t,n))?t.sibling:null);di(Vo,1&Vo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Xa(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),di(Vo,Vo.current),!r)return null}return Ja(e,t,n)}Ra=!1}}else Ra=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=gi(t,yi.current),ao(t,n),i=Jo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,co(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&bo(t,r,s,e),i.updater=wo,t.stateNode=i,i._reactInternalFiber=t,So(t,r,e,n),t=Ba(null,t,r,!0,o,n)}else t.tag=0,La(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Au(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Va(null,t,i,e,n);break e;case 1:t=qa(null,t,i,e,n);break e;case 11:t=Ma(null,t,i,e,n);break e;case 14:t=Fa(null,t,i,Ji(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),yo(t,r,null,n),(r=t.memoizedState.element)===i)Pa(),t=Ja(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ia=In(t.stateNode.containerInfo.firstChild),Sa=t,i=ka=!0),i)for(n=Oo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else La(e,t,r,n),Pa();t=t.child}return t;case 5:return jo(t),null===e&&Na(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Tn(r,i)?s=null:null!==o&&Tn(r,o)&&(t.effectTag|=16),Ua(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(La(e,t,s,n),t=t.child),t;case 6:return null===e&&Na(t),null;case 13:return Wa(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=No(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(di(Zi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=qr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!mi.current){t=Ja(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=fo(n,null)).tag=2,ho(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),oo(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}La(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,ao(t,n),r=r(i=so(i,o.unstable_observedBits)),t.effectTag|=1,La(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),Fa(e,t,i,o=Ji(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bi(r)?(e=!0,_i(t)):e=!1,ao(t,n),To(t,r,i),So(t,r,i,n),Ba(null,t,r,!0,e,n);case 19:return Xa(e,t,n)}throw Error(a(156,t.tag))};var Nu=null,Ou=null;function Du(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Pu(e,t,n,r){return new Du(e,t,n,r)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Au(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Mu(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Pu(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=Pu(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case le:return(e=Pu(19,n,t,i)).elementType=le,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case he:s=16,r=null;break e;case de:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Mu(e,t,n,r){return(e=Pu(7,e,r,t)).expirationTime=n,e}function Fu(e,t,n){return(e=Pu(6,e,null,t)).expirationTime=n,e}function ju(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Vu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function qu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Bu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function zu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ku(e,t,n,r){var i=t.current,o=eu(),s=vo.suspense;o=tu(o,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(bi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(bi(c)){n=Ti(n,c,u);break e}}n=u}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=fo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),nu(i,o),o}function Gu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Hu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Qu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}function Wu(e,t,n){var r=new Uu(e,t,n=null!=n&&!0===n.hydrate),i=Pu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,co(i),e[On]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);xt.forEach((function(e){yt(e,t,n)})),Ct.forEach((function(e){yt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Gu(a);s.call(e)}}Ku(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Wu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Gu(a);u.call(e)}}cu((function(){Ku(t,a,e,i)}))}return Gu(a)}function Xu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ju(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(a(200));return Xu(e,t,null,n)}Wu.prototype.render=function(e){Ku(e,this._internalRoot,null,null)},Wu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ku(null,e,null,(function(){t[On]=null}))},mt=function(e){if(13===e.tag){var t=Xi(eu(),150,100);nu(e,t),Qu(e,t)}},vt=function(e){13===e.tag&&(nu(e,3),Qu(e,3))},gt=function(e){if(13===e.tag){var t=eu();nu(e,t=tu(t,e,null)),Qu(e,t)}},C=function(e,t,n){switch(t){case"input":if(Ie(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Rn(r);if(!i)throw Error(a(90));Ee(r),Ie(r,i)}}}break;case"textarea":Pe(e,n);break;case"select":null!=(t=n.value)&&Ne(e,!!n.multiple,t,!1)}},R=uu,L=function(e,t,n,r,i){var o=Ds;Ds|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ds=o)&&$i()}},M=function(){0===(49&Ds)&&(function(){if(null!==Ys){var e=Ys;Ys=null,e.forEach((function(e,t){zu(t,e),ou(t)})),$i()}}(),_u())},F=function(e,t){var n=Ds;Ds|=2;try{return e(t)}finally{0===(Ds=n)&&$i()}};var Zu={Events:[Pn,An,Rn,k,_,qn,function(e){ot(e,Vn)},P,A,Jt,ut,_u,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Nu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ou=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Dn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zu,t.createPortal=Ju,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ds))throw Error(a(187));var n=Ds;Ds|=1;try{return Hi(99,e.bind(null,t))}finally{Ds=n,$i()}},t.hydrate=function(e,t,n){if(!$u(t))throw Error(a(200));return Yu(null,e,t,!0,n)},t.render=function(e,t,n){if(!$u(t))throw Error(a(200));return Yu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){Yu(null,null,e,!1,(function(){e._reactRootContainer=null,e[On]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_createPortal=function(e,t){return Ju(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$u(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Yu(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(31)},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,y=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var v=d.now();t.unstable_now=function(){return d.now()-v}}var g=!1,b=null,w=-1,E=5,T=0;a=function(){return t.unstable_now()>=T},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,S=_.port2;_.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();T=e+E;try{b(!0,e)?S.postMessage(null):(g=!1,b=null)}catch(n){throw S.postMessage(null),n}}else g=!1},r=function(e){b=e,g||(g=!0,S.postMessage(null))},i=function(e,n){w=p((function(){e(t.unstable_now())}),n)},o=function(){y(w),w=-1}}function I(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>C(a,n))void 0!==u&&0>C(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var N=[],O=[],D=1,P=null,A=3,R=!1,L=!1,M=!1;function F(e){for(var t=k(O);null!==t;){if(null===t.callback)x(O);else{if(!(t.startTime<=e))break;x(O),t.sortIndex=t.expirationTime,I(N,t)}t=k(O)}}function j(e){if(M=!1,F(e),!L)if(null!==k(N))L=!0,r(U);else{var t=k(O);null!==t&&i(j,t.startTime-e)}}function U(e,n){L=!1,M&&(M=!1,o()),R=!0;var r=A;try{for(F(n),P=k(N);null!==P&&(!(P.expirationTime>n)||e&&!a());){var s=P.callback;if(null!==s){P.callback=null,A=P.priorityLevel;var u=s(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?P.callback=u:P===k(N)&&x(N),F(n)}else x(N);P=k(N)}if(null!==P)var c=!0;else{var l=k(O);null!==l&&i(j,l.startTime-n),c=!1}return c}finally{P=null,A=r,R=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||R||(L=!0,r(U))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return k(N)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=q,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:V(e)}else a=V(e),u=s;return e={id:D++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,I(O,e),null===k(N)&&e===k(O)&&(M?o():M=!0,i(j,u-s))):(e.sortIndex=a,I(N,e),L||R||(L=!0,r(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=k(N);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},,,function(e,t,n){"use strict";var r=n(1),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},,function(e,t,n){"use strict";var r=n(37);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function T(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case m:case c:return e;default:return t}}case o:return t}}}function _(e){return T(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||T(e)===f},t.isConcurrentMode=_,t.isContextConsumer=function(e){return T(e)===l},t.isContextProvider=function(e){return T(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return T(e)===d},t.isFragment=function(e){return T(e)===a},t.isLazy=function(e){return T(e)===v},t.isMemo=function(e){return T(e)===m},t.isPortal=function(e){return T(e)===o},t.isProfiler=function(e){return T(e)===u},t.isStrictMode=function(e){return T(e)===s},t.isSuspense=function(e){return T(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===u||e===s||e===p||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===w||e.$$typeof===E||e.$$typeof===g)},t.typeOf=T},,,,,function(e,t,n){(function(e,t){!function(n){"use strict";try{(function(){function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i,o=r(n),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function f(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=p[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,l(["["+i+"]  "+e.name+":"],n))}}(St=i=i||{})[St.DEBUG=0]="DEBUG",St[St.VERBOSE=1]="VERBOSE",St[St.INFO=2]="INFO",St[St.WARN=3]="WARN",St[St.ERROR=4]="ERROR",St[St.SILENT=5]="SILENT";var h={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},d=i.INFO,p=((It={})[i.DEBUG]="log",It[i.VERBOSE]="log",It[i.INFO]="info",It[i.WARN]="warn",It[i.ERROR]="error",It),y=(Object.defineProperty(m.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),m.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?h[e]:e},Object.defineProperty(m.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),m.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,l([this,i.DEBUG],e)),this._logHandler.apply(this,l([this,i.DEBUG],e))},m.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,l([this,i.VERBOSE],e)),this._logHandler.apply(this,l([this,i.VERBOSE],e))},m.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,l([this,i.INFO],e)),this._logHandler.apply(this,l([this,i.INFO],e))},m.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,l([this,i.WARN],e)),this._logHandler.apply(this,l([this,i.WARN],e))},m.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,l([this,i.ERROR],e)),this._logHandler.apply(this,l([this,i.ERROR],e))},m);function m(e){this.name=e,this._logLevel=d,this._logHandler=f,this._userLogHandler=null}function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var g,b="FirebaseError",w=(s(E,g=Error),E);function E(e,t,n){return(t=g.call(this,t)||this).code=e,t.customData=n,t.name=b,Object.setPrototypeOf(t,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(t,T.prototype.create),t}var T=(_.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=t[0]||{},o=this.service+"/"+e;return e=(e=this.errors[e])?(r=i,e.replace(S,(function(e,t){var n=r[t];return null!=n?String(n):"<"+t+"?>"}))):"Error",e=this.serviceName+": "+e+" ("+o+").",new w(o,e,i)},_);function _(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var S=/\{\$([^}]+)}/g,I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function k(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var x,C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},N={},O=C||self;function D(){}function P(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function A(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var R="closure_uid_"+(1e9*Math.random()>>>0),L=0;function M(e,t,n){return e.call.apply(e.bind,arguments)}function F(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function j(e,t,n){return(j=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?M:F).apply(null,arguments)}function U(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function V(){return Date.now()}function q(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,(e.prototype.constructor=e).Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function B(){this.j=this.j,this.i=this.i}B.prototype.j=!1,B.prototype.ja=function(){var e;!this.j&&(this.j=!0,this.G(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,R)&&e[R]||(e[R]=++L))},B.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},K=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function G(){return Array.prototype.concat.apply([],arguments)}function H(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Q(e){return/^[\s\xa0]*$/.test(e)}var W,$=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Y(e,t){return-1!=e.indexOf(t)}function X(e,t){return e<t?-1:t<e?1:0}var J=O.navigator;function Z(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ee(e){var t,n={};for(t in e)n[t]=e[t];return n}W=J&&(J=J.userAgent)?J:"";var te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<te.length;i++)t=te[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function re(e){return re[" "](e),e}re[" "]=D;var ie,oe=Y(W,"Opera"),ae=Y(W,"Trident")||Y(W,"MSIE"),se=Y(W,"Edge"),ue=se||ae,ce=Y(W,"Gecko")&&!(Y(W.toLowerCase(),"webkit")&&!Y(W,"Edge"))&&!(Y(W,"Trident")||Y(W,"MSIE"))&&!Y(W,"Edge"),le=Y(W.toLowerCase(),"webkit")&&!Y(W,"Edge");function fe(){var e=O.document;return e?e.documentMode:void 0}var he="",de=(de=W,ce?/rv:([^\);]+)(\)|;)/.exec(de):se?/Edge\/([\d\.]+)/.exec(de):ae?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(de):le?/WebKit\/(\S+)/.exec(de):oe?/(?:Version)[ \/]?(\S+)/.exec(de):void 0);de&&(he=de?de[1]:""),ie=ae&&null!=(de=fe())&&de>parseFloat(he)?String(de):he;var pe={};function ye(e){return t=e,n=function(){for(var t=0,n=$(String(ie)).split("."),r=$(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++)for(var a=n[o]||"",s=r[o]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(t=X(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||X(0==a[2].length,0==s[2].length)||X(a[2],s[2]),a=a[3],s=s[3],0==t););return 0<=t},r=pe,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n(t);var t,n,r}var me=O.document&&ae&&(fe()||parseInt(ie,10))||void 0,ve=!ae||9<=Number(me),ge=ae&&!ye("9"),be=function(){if(!O.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{O.addEventListener("test",D,t),O.removeEventListener("test",D,t)}catch(e){}return e}();function we(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function Ee(e,t){if(we.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(ce){e:{try{re(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Te[e.pointerType]||"",(this.c=e).defaultPrevented&&this.b()}}we.prototype.b=function(){this.defaultPrevented=!0},q(Ee,we);var Te={2:"touch",3:"pen",4:"mouse"};Ee.prototype.b=function(){Ee.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ge)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var _e="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ie(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++Se,this.Y=this.Z=!1}function ke(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function xe(e){this.src=e,this.a={},this.b=0}function Ce(e,t){var n,r,i,o=t.type;o in e.a&&(n=e.a[o],(i=0<=(r=z(n,t)))&&Array.prototype.splice.call(n,r,1),i&&(ke(t),0==e.a[o].length&&(delete e.a[o],e.b--)))}function Ne(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}xe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Ne(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new Ie(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var Oe="closure_lm_"+(1e6*Math.random()|0),De={};function Pe(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Ve(r),t&&t[_e]?t.wa(n,r,A(i)?!!i.capture:!!i,o):Ae(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Pe(e,t[o],n,r,i);return null}return n=Ve(n),e&&e[_e]?e.va(t,n,A(r)?!!r.capture:!!r,i):Ae(e,t,n,!1,r,i)}function Ae(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=A(i)?!!i.capture:!!i;if(a&&!ve)return null;var s,u,c=je(e);if(c||(e[Oe]=c=new xe(e)),(n=c.add(t,n,r,a,o)).proxy)return n;if(s=Fe,r=u=ve?function(e){return s.call(u.src,u.listener,e)}:function(e){if(!(e=s.call(u.src,u.listener,e)))return e},(n.proxy=r).src=e,r.listener=n,e.addEventListener)void 0===(i=be?i:a)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Le(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Re(e){var t,n,r;"number"!=typeof e&&e&&!e.Y&&((t=e.src)&&t[_e]?Ce(t.c,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Le(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=je(t))?(Ce(n,e),0==n.b&&(n.src=null,t[Oe]=null)):ke(e)))}function Le(e){return e in De?De[e]:De[e]="on"+e}function Me(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Re(e),n.call(r,t)}function Fe(e,t){if(e.Y)return!0;if(ve)return Me(e,new Ee(t,this));if(!t)e:{t=["window","event"];for(var n=O,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Me(e,t=new Ee(t,this))}function je(e){return(e=e[Oe])instanceof xe?e:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(e){return"function"==typeof e?e:(e[Ue]||(e[Ue]=function(t){return e.handleEvent(t)}),e[Ue])}function qe(){B.call(this),this.c=new xe(this),(this.J=this).C=null}function Be(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t?t=new we(t,e):t instanceof we?t.target=t.target||e:(a=t,ne(t=new we(r,e),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=t.a=n[i],a=ze(o,r,!0,t)&&a;if(a=ze(o=t.a=e,r,!0,t)&&a,a=ze(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=ze(o=t.a=n[i],r,!1,t)&&a}function ze(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.Y&&u.capture==n&&(a=u.listener,s=u.ca||u.src,u.Z&&Ce(e.c,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}q(qe,B),qe.prototype[_e]=!0,(x=qe.prototype).addEventListener=function(e,t,n,r){Pe(this,e,t,n,r)},x.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=A(i)?!!i.capture:!!i,r=Ve(r),t&&t[_e]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=Ne(a=t.a[n],r,i,o))&&(ke(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):(t=t&&je(t))&&(n=t.a[n.toString()],(r=(t=-1)<(t=n?Ne(n,r,i,o):t)?n[t]:null)&&Re(r))}(this,e,t,n,r)},x.G=function(){if(qe.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ke(n[r]);delete t.a[e],t.b--}}this.C=null},x.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},x.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ke=O.JSON.stringify;function Ge(){this.b=this.a=null}var He,Qe=(We.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},new We((function(){return new $e}),(function(e){e.reset()})));function We(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function $e(){this.next=this.b=this.a=null}function Ye(e,t){var n;He||(n=O.Promise.resolve(void 0),He=function(){n.then(Ze)}),Xe||(He(),Xe=!0),Je.add(e,t)}Ge.prototype.add=function(e,t){var n=Qe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},$e.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};var Xe=!($e.prototype.reset=function(){this.next=this.b=this.a=null}),Je=new Ge;function Ze(){for(var e,t;n=t=void 0,n=null,(t=Je).a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),e=n;){try{e.a.call(e.b)}catch(e){!function(e){O.setTimeout((function(){throw e}),0)}(e)}var n=Qe;n.f(e),n.b<100&&(n.b++,e.next=n.a,n.a=e)}Xe=!1}function et(e,t){qe.call(this),this.b=e||1,this.a=t||O,this.f=j(this.Za,this),this.g=V()}function tt(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function nt(e,t,n){if("function"==typeof e)n&&(e=j(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=j(e.handleEvent,e)}return 2147483647<Number(t)?-1:O.setTimeout(e,t||0)}q(et,qe),(x=et.prototype).aa=!1,x.M=null,x.Za=function(){var e;this.aa&&(0<(e=V()-this.g)&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Be(this,"tick"),this.aa&&(tt(this),this.start())))},x.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=V())},x.G=function(){et.X.G.call(this),tt(this),delete this.a};var rt,it,ot,at=(I(it=ut,ot=rt=B),it.prototype=null===ot?Object.create(ot):(st.prototype=ot.prototype,new st),ut.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:function e(t){t.a=nt((function(){t.a=null,t.c&&(t.c=!1,e(t))}),t.h);var n=t.b;t.b=null,t.g.apply(null,n)}(this)},ut.prototype.G=function(){rt.prototype.G.call(this),this.a&&(O.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},ut);function st(){this.constructor=it}function ut(e,t){var n=rt.call(this)||this;return n.g=e,n.h=t,n.b=null,n.c=!1,n.a=null,n}function ct(e){B.call(this),this.b=e,this.a={}}q(ct,B);var lt=[];function ft(e,t,n,r){Array.isArray(n)||(n&&(lt[0]=n.toString()),n=lt);for(var i=0;i<n.length;i++){var o=Pe(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function ht(e){Z(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Re(e)}),e),e.a={}}function dt(){this.a=!0}function pt(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)&&"noop"!=(r=i[0])&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}return Ke(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}ct.prototype.G=function(){ct.X.G.call(this),ht(this)},ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dt.prototype.info=function(){};var yt={},mt=null;function vt(){return mt=mt||new qe}function gt(e){we.call(this,yt.Fa,e)}function bt(e){var t=vt();Be(t,new gt(t))}function wt(e,t){we.call(this,yt.STAT_EVENT,e),this.stat=t}function Et(e){var t=vt();Be(t,new wt(t,e))}function Tt(e){we.call(this,yt.Ga,e)}function _t(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return O.setTimeout((function(){e()}),t)}yt.Fa="serverreachability",q(gt,we),yt.STAT_EVENT="statevent",q(wt,we),yt.Ga="timingevent",q(Tt,we);var St={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},It={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function kt(){}function xt(e){var t;return(t=e.a)?t:e.a={}}function Ct(){}function Nt(){we.call(this,"d")}function Ot(){we.call(this,"c")}function Dt(){}function Pt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new ct(this),this.P=Rt,e=ue?125:void 0,this.R=new et(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}kt.prototype.a=null,C={OPEN:"a",eb:"b",Ea:"c",qb:"d"},q(Nt,we),q(Ot,we),q(Dt,kt);var At=new Dt,Rt=45e3,Lt={},Mt={};function Ft(e,t,n){e.H=1,e.i=on(Jt(t)),e.j=n,e.I=!0,jt(e,null)}function jt(e,t){e.u=V(),Vt(e),e.l=Jt(e.i);var n,r,i,o,a,s,u=e.l,c=e.S;Array.isArray(c)||(c=[String(c)]),gn(u.b,"t",c),e.D=0,e.a=fr(e.g,e.g.C?t:null),0<e.O&&(e.F=new at(j(e.Ca,e,e.a),e.O)),ft(e.J,e.a,"readystatechange",e.Xa),t=e.B?ee(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),bt(1),n=e.c,r=e.m,i=e.l,o=e.f,a=e.S,s=e.j,n.info((function(){if(n.a)if(s)for(var e="",t=s.split("&"),u=0;u<t.length;u++){var c,l,f=t[u].split("=");1<f.length&&(c=f[0],f=f[1],e=2<=(l=c.split("_")).length&&"type"==l[1]?e+(c+"=")+f+"&":e+(c+"=redacted&"))}else e=null;else e=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+e}))}function Ut(e,t,n){for(var r,i,o,a=!0;!e.A&&e.D<n.length;){var s=(s=n,o=i=void 0,i=(r=e).D,-1==(o=s.indexOf("\n",i))?Mt:(i=Number(s.substring(i,o)),isNaN(i)?Lt:(o+=1)+i>s.length?Mt:(s=s.substr(o,i),r.D=o+i,s)));if(s==Mt){4==t&&(e.h=4,Et(14),a=!1),pt(e.c,e.f,null,"[Incomplete Response]");break}if(s==Lt){e.h=4,Et(15),pt(e.c,e.f,n,"[Invalid Chunk]"),a=!1;break}pt(e.c,e.f,s,null),Gt(e,s)}4==t&&0==n.length&&(e.h=1,Et(16),a=!1),e.b=e.b&&a,a?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),rr(t),t.F=!0,Et(11))):(pt(e.c,e.f,n,"[Invalid Chunked Response]"),Kt(e),zt(e))}function Vt(e){e.T=V()+e.P,qt(e,e.P)}function qt(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=_t(j(e.Va,e),t)}function Bt(e){e.o&&(O.clearTimeout(e.o),e.o=null)}function zt(e){0==e.g.v||e.A||ar(e.g,e)}function Kt(e){Bt(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,tt(e.R),ht(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Gt(e,t){try{var n,r,i,o,a,s=e.g;if(0!=s.v&&(s.a==e||In(s.b,e)))if(s.I=e.N,!e.C&&In(s.b,e)&&3==s.v){try{var u=s.ka.a.parse(t)}catch(e){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){e:if(!s.j){if(s.a){if(!(s.a.u+3e3<e.u))break e;or(s),Wn(s)}nr(s),Et(18)}}else s.oa=c[1],0<s.oa-s.P&&c[2]<37500&&s.H&&0==s.o&&!s.m&&(s.m=_t(j(s.Sa,s),6e3));if(Sn(s.b)<=1&&s.ea){try{s.ea()}catch(e){}s.ea=void 0}}else ur(s,11)}else if(!e.C&&s.a!=e||or(s),!Q(t))for(t=u=s.ka.a.parse(t),u=0;u<t.length;u++)c=t[u],s.P=c[0],c=c[1],2==s.v?"c"==c[0]?(s.J=c[1],s.ga=c[2],null!=(r=c[3])&&(s.ha=r,s.c.info("VER="+s.ha)),null!=(o=c[4])&&(s.pa=o,s.c.info("SVER="+s.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,s.D=n,s.c.info("backChannelRequestTimeoutMs_="+n)),n=s,(o=e.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(Y(r,"spdy")||Y(r,"quic")||Y(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(kn(i,i.b),i.b=null)),!n.A||(a=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=a,rn(n.B,n.A,a))),s.v=3,s.f&&s.f.ta(),s.U&&(s.N=V()-e.u,s.c.info("Handshake RTT: "+s.N+"ms")),i=e,(n=s).la=lr(n,n.C?n.ga:null,n.fa),i.C?(xn(n.b,i),o=i,(a=n.D)&&o.setTimeout(a),o.o&&(Bt(o),Vt(o)),n.a=i):tr(n),0<s.g.length&&Xn(s)):"stop"!=c[0]&&"close"!=c[0]||ur(s,7):3==s.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ur(s,7):Qn(s):"noop"!=c[0]&&s.f&&s.f.sa(c),s.o=0);bt(4)}catch(e){}}function Ht(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(P(e)||"string"==typeof e)K(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(P(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(P(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Qt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Qt)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Wt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];$t(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)$t(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function $t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(x=Pt.prototype).setTimeout=function(e){this.P=e},x.Xa=function(e){e=e.target;var t=this.F;t&&3==zn(e)?t.f():this.Ca(e)},x.Ca=function(e){try{if(e==this.a)e:{var t=zn(this.a),n=this.a.ua(),r=this.a.W();if(!(t<3||3==t&&!ue&&!this.a.$())){this.A||4!=t||7==n||bt(8==n||r<=0?3:2),Bt(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,r=this.c,u=this.m,c=this.l,l=this.f,f=this.S,h=t,d=i,r.info((function(){return"XMLHTTP RESP ("+l+") [ attempt "+f+"]: "+u+"\n"+c+"\n"+h+" "+d})),this.b){if(this.U&&!this.C){t:{if(this.a){var a=this.a;if((a=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.h=3,Et(12),Kt(this),zt(this);break e}pt(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Gt(this,s)}this.I?(Ut(this,t,o),ue&&this.b&&3==t&&(ft(this.J,this.R,"tick",this.Wa),this.R.start())):(pt(this.c,this.f,o,null),Gt(this,o)),4==t&&Kt(this),this.b&&!this.A&&(4==t?ar(this.g,this):(this.b=!1,Vt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Et(12)):(this.h=0,Et(13)),Kt(this),zt(this)}}}catch(e){}var u,c,l,f,h,d},x.Wa=function(){var e,t;this.a&&(e=zn(this.a),t=this.a.$(),this.D<t.length&&(Bt(this),Ut(this,e,t),this.b&&4!=e&&Vt(this)))},x.cancel=function(){this.A=!0,Kt(this)},x.Va=function(){this.o=null;var e,t,n=V();0<=n-this.T?(e=this.c,t=this.l,e.info((function(){return"TIMEOUT: "+t})),2!=this.H&&(bt(3),Et(17)),Kt(this),this.h=2,zt(this)):qt(this,this.T-n)},(x=Qt.prototype).K=function(){Wt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},x.L=function(){return Wt(this),this.a.concat()},x.get=function(e,t){return $t(this.b,e)?this.b[e]:t},x.set=function(e,t){$t(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},x.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Yt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xt(e,t){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Xt?(this.a=void 0!==t?t:e.a,Zt(this,e.f),this.j=e.j,en(this,e.c),tn(this,e.h),this.g=e.g,t=e.b,(n=new pn).c=t.c,t.a&&(n.a=new Qt(t.a),n.b=t.b),nn(this,n),this.i=e.i):e&&(n=String(e).match(Yt))?(this.a=!!t,Zt(this,n[1]||"",!0),this.j=an(n[2]||""),en(this,n[3]||"",!0),tn(this,n[4]),this.g=an(n[5]||"",!0),nn(this,n[6]||"",!0),this.i=an(n[7]||"")):(this.a=!!t,this.b=new pn(null,this.a))}function Jt(e){return new Xt(e)}function Zt(e,t,n){e.f=n?an(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function en(e,t,n){e.c=n?an(t,!0):t}function tn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.h=t}else e.h=null}function nn(e,t,n){var r,i;t instanceof pn?(e.b=t,r=e.b,(i=e.a)&&!r.f&&(yn(r),r.c=null,r.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mn(this,t),gn(this,n,e))}),r)),r.f=i):(n||(t=sn(t,hn)),e.b=new pn(t,e.a))}function rn(e,t,n){e.b.set(t,n)}function on(e){return rn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^V()).toString(36)),e}function an(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,un),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function un(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(sn(t,cn,!0),":");var n=this.c;return!n&&"file"!=t||(e.push("//"),(t=this.j)&&e.push(sn(t,cn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(sn(n,"/"==n.charAt(0)?fn:ln,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",sn(n,dn)),e.join("")};var cn=/[#\/\?@]/g,ln=/[#\?:]/g,fn=/[#\?]/g,hn=/[#\?@]/g,dn=/#/g;function pn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function yn(e){e.a||(e.a=new Qt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mn(e,t){yn(e),t=bn(e,t),$t(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,$t((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Wt(e)))}function vn(e,t){return yn(e),t=bn(e,t),$t(e.a.b,t)}function gn(e,t,n){mn(e,t),0<n.length&&(e.c=null,e.a.set(bn(e,t),H(n)),e.b+=n.length)}function bn(e,t){return t=String(t),e.f?t.toLowerCase():t}(x=pn.prototype).add=function(e,t){yn(this),this.c=null,e=bn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},x.forEach=function(e,t){yn(this),this.a.forEach((function(n,r){K(n,(function(n){e.call(t,n,r,this)}),this)}),this)},x.L=function(){yn(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},x.K=function(e){yn(this);var t=[];if("string"==typeof e)vn(this,e)&&(t=G(t,this.a.get(bn(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=G(t,e[n])}return t},x.set=function(e,t){return yn(this),this.c=null,vn(this,e=bn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},x.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},x.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.K(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.c=e.join("&")};var wn=function(e,t){this.b=e,this.a=t};function En(e){this.g=e||Tn,e=O.PerformanceNavigationTiming?0<(e=O.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(O.ia&&O.ia.ya&&O.ia.ya()&&O.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Tn=10;function _n(e){return e.b||e.a&&e.a.size>=e.f}function Sn(e){return e.b?1:e.a?e.a.size:0}function In(e,t){return e.b?e.b==t:e.a&&e.a.has(t)}function kn(e,t){e.a?e.a.add(t):e.b=t}function xn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function Cn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null==e.a||0===e.a.size)return H(e.c);var r=e.c;try{for(var i=k(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Nn(){}function On(){this.a=new Nn}function Dn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}En.prototype.cancel=function(){var e,t;if(this.c=Cn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=k(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},Nn.prototype.stringify=function(e){return O.JSON.stringify(e,void 0)},Nn.prototype.parse=function(e){return O.JSON.parse(e,void 0)};var Pn=O.JSON.parse;function An(e){qe.call(this),this.headers=new Qt,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Rn,this.D=this.F=!1}q(An,qe);var Rn="",Ln=/^https?$/i,Mn=["POST","PUT"];function Fn(e){return"content-type"==e.toLowerCase()}function jn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Un(e),qn(e)}function Un(e){e.u||(e.u=!0,Be(e,"complete"),Be(e,"error"))}function Vn(e){if(e.b&&void 0!==N&&(!e.s[1]||4!=zn(e)||2!=e.W()))if(e.l&&4==zn(e))nt(e.za,0,e);else if(Be(e,"readystatechange"),4==zn(e)){e.b=!1;try{var t,n,r,i,o=e.W();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if((t=a)||((n=0===o)&&(!(i=String(e.B).match(Yt)[1]||null)&&O.self&&O.self.location&&(i=(r=O.self.location.protocol).substr(0,r.length-1)),n=!Ln.test(i?i.toLowerCase():"")),t=n),t)Be(e,"complete"),Be(e,"success");else{e.h=6;try{var s=2<zn(e)?e.a.statusText:""}catch(o){s=""}e.f=s+" ["+e.W()+"]",Un(e)}}finally{qn(e)}}}function qn(e,t){if(e.a){Bn(e);var n=e.a,r=e.s[0]?D:null;e.a=null,e.s=null,t||Be(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Bn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(O.clearTimeout(e.m),e.m=null)}function zn(e){return e.a?e.a.readyState:0}function Kn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}var i;r||(i="",Z(n,(function(e,t){i+=t,i+=":",i+=e,i+="\r\n"})),n=i,"string"==typeof e?null!=n&&encodeURIComponent(String(n)):rn(e,t,n))}function Gn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Hn(e){this.pa=0,this.g=[],this.c=new dt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Gn("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Gn("baseRetryDelayMs",5e3,e),this.Ra=Gn("retryDelaySeedMs",1e4,e),this.Ma=Gn("forwardChannelMaxRetries",2,e),this.ma=Gn("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new En(e&&e.concurrentRequestLimit),this.ka=new On,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Qn(e){var t,n;$n(e),3==e.v&&(t=e.R++,rn(n=Jt(e.B),"SID",e.J),rn(n,"RID",t),rn(n,"TYPE","terminate"),Zn(e,n),(t=new Pt(e,e.c,t,void 0)).H=2,t.i=on(Jt(n)),n=!1,!(n=O.navigator&&O.navigator.sendBeacon?O.navigator.sendBeacon(t.i.toString(),""):n)&&O.Image&&((new Image).src=t.i,n=!0),n||(t.a=fr(t.g,null),t.a.ba(t.i)),t.u=V(),Vt(t)),cr(e)}function Wn(e){e.a&&(rr(e),e.a.cancel(),e.a=null)}function $n(e){Wn(e),e.j&&(O.clearTimeout(e.j),e.j=null),or(e),e.b.cancel(),e.h&&("number"==typeof e.h&&O.clearTimeout(e.h),e.h=null)}function Yn(e,t){e.g.push(new wn(e.Oa++,t)),3==e.v&&Xn(e)}function Xn(e){_n(e.b)||e.h||(e.h=!0,Ye(e.Ba,e),e.u=0)}function Jn(e,t){var n=t?t.f:e.R++,r=Jt(e.B);rn(r,"SID",e.J),rn(r,"RID",n),rn(r,"AID",e.P),Zn(e,r),e.i&&e.l&&Kn(r,e.i,e.l),n=new Pt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=er(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),kn(e.b,n),Ft(n,r,t)}function Zn(e,t){e.f&&Ht({},(function(e,n){rn(t,n,e)}))}function er(e,t,n){n=Math.min(e.g.length,n);var r=e.f?j(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{!function(e,t,n){var r=n||"";try{Ht(e,(function(e,n){var i=e;A(e)&&(i=Ke(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function tr(e){e.a||e.j||(e.T=1,Ye(e.Aa,e),e.o=0)}function nr(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=_t(j(e.Aa,e),sr(e,e.o)),e.o++,1)}function rr(e){null!=e.s&&(O.clearTimeout(e.s),e.s=null)}function ir(e){e.a=new Pt(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Jt(e.la);rn(t,"RID","rpc"),rn(t,"SID",e.J),rn(t,"CI",e.H?"0":"1"),rn(t,"AID",e.P),Zn(e,t),rn(t,"TYPE","xmlhttp"),e.i&&e.l&&Kn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=on(Jt(t)),n.j=null,n.I=!0,jt(n,e)}function or(e){null!=e.m&&(O.clearTimeout(e.m),e.m=null)}function ar(e,t){var n,r,i,o=null;if(e.a==t){or(e),rr(e),e.a=null;var a=2}else{if(!In(e.b,t))return;o=t.s,xn(e.b,t),a=1}if(e.I=t.N,0!=e.v)if(t.b)1==a?(o=t.j?t.j.length:0,t=V()-t.u,n=e.u,Be(a=vt(),new Tt(a)),Xn(e)):tr(e);else if(3==(n=t.h)||0==n&&0<e.I||(1!=a||(i=t,Sn((r=e).b)>=r.b.f-(r.h?1:0)||(r.h?(r.g=i.s.concat(r.g),0):1==r.v||2==r.v||r.u>=(r.La?0:r.Ma)||(r.h=_t(j(r.Ba,r,i),sr(r,r.u)),r.u++,0))))&&(2!=a||!nr(e)))switch(o&&0<o.length&&(t=e.b,t.c=t.c.concat(o)),n){case 1:ur(e,5);break;case 4:ur(e,10);break;case 3:ur(e,6);break;default:ur(e,2)}}function sr(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function ur(e,t){var n,r,i,o;e.c.info("Error code "+t),2==t?(r=null,e.f&&(r=null),o=j(e.Ya,e),r||(r=new Xt("//www.google.com/images/cleardot.gif"),O.location&&"http"==O.location.protocol||Zt(r,"https"),on(r)),n=r.toString(),r=o,o=new dt,O.Image?((i=new Image).onload=U(Dn,o,i,"TestLoadImage: loaded",!0,r),i.onerror=U(Dn,o,i,"TestLoadImage: error",!1,r),i.onabort=U(Dn,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=U(Dn,o,i,"TestLoadImage: timeout",!1,r),O.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):Et(2),e.v=0,e.f&&e.f.ra(t),cr(e),$n(e)}function cr(e){e.v=0,e.I=-1,e.f&&(0==Cn(e.b).length&&0==e.g.length||(e.b.c.length=0,H(e.g),e.g.length=0),e.f.qa())}function lr(e,t,n){var r,i,o,a,s,u=(a=n)instanceof Xt?Jt(a):new Xt(a,void 0);return""!=u.c?(t&&en(u,t+"."+u.c),tn(u,u.h)):(r=(s=O.location).protocol,i=t?t+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new Xt(null,void 0),r&&Zt(s,r),i&&en(s,i),o&&tn(s,o),a&&(s.g=a),u=s),e.V&&Z(e.V,(function(e,t){rn(u,t,e)})),t=e.A,n=e.na,t&&n&&rn(u,t,n),rn(u,"VER",e.ha),Zn(e,u),u}function fr(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new An(e.Na)).F=e.C,t}function hr(){}function dr(){if(ae&&!(10<=Number(me)))throw Error("Environmental error: no available transport.")}function pr(e,t){qe.call(this),this.a=new Hn(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Q(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Q(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new vr(this)}function yr(e){Nt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function mr(){Ot.call(this),this.status=1}function vr(e){this.a=e}(x=An.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?xt(this.H):xt(At),this.a.onreadystatechange=j(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void jn(this,e)}e=n||"";var i,o=new Qt(this.headers);r&&Ht(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=Fn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(o.L()),n=O.FormData&&e instanceof O.FormData,0<=z(Mn,t)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Bn(this),0<this.o&&((this.D=(i=this.a,ae&&ye(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=j(this.xa,this)):this.m=nt(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){jn(this,e)}},x.xa=function(){void 0!==N&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Be(this,"timeout"),this.abort(8))},x.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Be(this,"complete"),Be(this,"abort"),qn(this))},x.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qn(this,!0)),An.X.G.call(this)},x.za=function(){this.j||(this.A||this.l||this.g?Vn(this):this.Ua())},x.Ua=function(){Vn(this)},x.W=function(){try{return 2<zn(this)?this.a.status:-1}catch(r){return-1}},x.$=function(){try{return this.a?this.a.responseText:""}catch(r){return""}},x.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Pn(t)}},x.ua=function(){return this.h},x.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(x=Hn.prototype).ha=8,x.v=1,x.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new Pt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?ne(r=ee(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=er(this,n,t),rn(i=Jt(this.B),"RID",e),rn(i,"CVER",22),this.A&&rn(i,"X-HTTP-Session-Id",this.A),Zn(this,i),this.i&&r&&Kn(i,this.i,r),kn(this.b,n),this.Ia&&rn(i,"TYPE","init"),this.da?(rn(i,"$req",t),rn(i,"SID","null"),n.U=!0,Ft(n,i,null)):Ft(n,i,t),this.v=2}}else 3==this.v&&(e?Jn(this,e):0==this.g.length||_n(this.b)||Jn(this))},x.Aa=function(){var e;this.j=null,ir(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(e=2*this.N,this.c.info("BP detection timer enabled: "+e),this.s=_t(j(this.Ta,this),e))},x.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Et(10),Wn(this),ir(this))},x.Sa=function(){null!=this.m&&(this.m=null,Wn(this),nr(this),Et(19))},x.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),Et(2)):(this.c.info("Failed to ping google.com"),Et(1))},(x=hr.prototype).ta=function(){},x.sa=function(){},x.ra=function(){},x.qa=function(){},x.Ja=function(){},dr.prototype.a=function(e,t){return new pr(e,t)},q(pr,qe),pr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;Et(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=lr(e,null,e.fa),Xn(e)},pr.prototype.close=function(){Qn(this.a)},pr.prototype.h=function(e){var t;"string"==typeof e?((t={}).__data__=e,Yn(this.a,t)):this.l?((t={}).__data__=Ke(e),Yn(this.a,t)):Yn(this.a,e)},pr.prototype.G=function(){this.a.f=null,delete this.f,Qn(this.a),delete this.a,pr.X.G.call(this)},q(yr,Nt),q(mr,Ot),q(vr,hr),vr.prototype.ta=function(){Be(this.a,"a")},vr.prototype.sa=function(e){Be(this.a,new yr(e))},vr.prototype.ra=function(e){Be(this.a,new mr)},vr.prototype.qa=function(){Be(this.a,"b")},dr.prototype.createWebChannel=dr.prototype.a,pr.prototype.send=pr.prototype.h,pr.prototype.open=pr.prototype.g,St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,It.COMPLETE="complete",(Ct.EventType=C).OPEN="a",C.CLOSE="b",C.ERROR="c",C.MESSAGE="d",qe.prototype.listen=qe.prototype.va,An.prototype.listenOnce=An.prototype.wa,An.prototype.getLastError=An.prototype.Qa,An.prototype.getLastErrorCode=An.prototype.ua,An.prototype.getStatus=An.prototype.W,An.prototype.getResponseJson=An.prototype.Pa,An.prototype.getResponseText=An.prototype.$,An.prototype.send=An.prototype.ba;var gr=vt,br=St,wr=It,Er=yt,Tr=10,_r=11,Sr=Ct,Ir=An,kr=(xr.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},xr.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},xr);function xr(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}kr.o=-1;var Cr=new y("@firebase/firestore");function Nr(){return Cr.logLevel}function Or(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Cr.logLevel<=i.DEBUG&&(t=n.map(Ar),Cr.debug.apply(Cr,l(["Firestore (8.3.1): "+e],t)))}function Dr(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Cr.logLevel<=i.ERROR&&(t=n.map(Ar),Cr.error.apply(Cr,l(["Firestore (8.3.1): "+e],t)))}function Pr(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Cr.logLevel<=i.WARN&&(t=n.map(Ar),Cr.warn.apply(Cr,l(["Firestore (8.3.1): "+e],t)))}function Ar(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(r){return e}}function Rr(e){throw Dr(e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+(e=void 0===e?"Unexpected state":e)),new Error(e)}function Lr(e){e||Rr()}var Mr=(Fr.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},Fr);function Fr(){}function jr(e,t){return e<t?-1:t<e?1:0}function Ur(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Vr(e){return e+"\0"}function qr(e){var t,n=0;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n++;return n}function Br(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Kr(e){return null==e}function Gr(e){return 0===e&&1/e==-1/0}function Hr(e){return"number"==typeof e&&Number.isInteger(e)&&!Gr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Qr,Wr,$r,Yr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xr=(s(ui,$r=Error),ui),Jr=(Object.defineProperty(si.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),si.prototype.isEqual=function(e){return 0===si.comparator(this,e)},si.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},si.prototype.limit=function(){return this.offset+this.length},si.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},si.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},si.prototype.firstSegment=function(){return this.segments[this.offset]},si.prototype.lastSegment=function(){return this.get(this.length-1)},si.prototype.get=function(e){return this.segments[this.offset+e]},si.prototype.isEmpty=function(){return 0===this.length},si.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},si.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},si.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},si.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},si.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(o<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},s(ai,Wr=It=si),ai.prototype.construct=function(e,t,n){return new ai(e,t,n)},ai.prototype.canonicalString=function(){return this.toArray().join("/")},ai.prototype.toString=function(){return this.canonicalString()},ai.fromString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(e){return 0<e.length})))}return new ai(n)},ai.emptyPath=function(){return new ai([])},ai),Zr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ei=(s(oi,Qr=It),oi.prototype.construct=function(e,t,n){return new oi(e,t,n)},oi.isValidIdentifier=function(e){return Zr.test(e)},oi.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oi.isValidIdentifier(e)?e:"`"+e+"`"})).join(".")},oi.prototype.toString=function(){return this.canonicalString()},oi.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},oi.keyField=function(){return new oi(["__name__"])},oi.fromServerFormat=function(e){for(var t=[],n="",r=0,i=function(){if(0===n.length)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new Xr(Yr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Xr(Yr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Xr(Yr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oi(t)},oi.emptyPath=function(){return new oi([])},oi),ti=(ii.fromPath=function(e){return new ii(Jr.fromString(e))},ii.fromName=function(e){return new ii(Jr.fromString(e).popFirst(5))},ii.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},ii.prototype.isEqual=function(e){return null!==e&&0===Jr.comparator(this.path,e.path)},ii.prototype.toString=function(){return this.path.toString()},ii.comparator=function(e,t){return Jr.comparator(e.path,t.path)},ii.isDocumentKey=function(e){return e.length%2==0},ii.fromSegments=function(e){return new ii(new Jr(e.slice()))},ii),ni=(ri.fromBase64String=function(e){return new ri(atob(e))},ri.fromUint8Array=function(e){return new ri(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))},ri.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},ri.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},ri.prototype.approximateByteSize=function(){return 2*this.binaryString.length},ri.prototype.compareTo=function(e){return jr(this.binaryString,e.binaryString)},ri.prototype.isEqual=function(e){return this.binaryString===e.binaryString},ri);function ri(e){this.binaryString=e}function ii(e){this.path=e}function oi(){return null!==Qr&&Qr.apply(this,arguments)||this}function ai(){return null!==Wr&&Wr.apply(this,arguments)||this}function si(e,t,n){void 0===t?t=0:t>e.length&&Rr(),void 0===n?n=e.length-t:n>e.length-t&&Rr(),this.segments=e,this.offset=t,this.len=n}function ui(e,t){var n=this;return(n=$r.call(this,t)||this).code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}ni.EMPTY_BYTE_STRING=new ni("");var ci=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(e){if(Lr(!!e),"string"!=typeof e)return{seconds:fi(e.seconds),nanos:fi(e.nanos)};var t=0,n=ci.exec(e);return Lr(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),t=Number(n)),e=new Date(e),{seconds:Math.floor(e.getTime()/1e3),nanos:t}}function fi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hi(e){return"string"==typeof e?ni.fromBase64String(e):ni.fromUint8Array(e)}var di=(pi.now=function(){return pi.fromMillis(Date.now())},pi.fromDate=function(e){return pi.fromMillis(e.getTime())},pi.fromMillis=function(e){var t=Math.floor(e/1e3);return new pi(t,1e6*(e-1e3*t))},pi.prototype.toDate=function(){return new Date(this.toMillis())},pi.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},pi.prototype._compareTo=function(e){return this.seconds===e.seconds?jr(this.nanoseconds,e.nanoseconds):jr(this.seconds,e.seconds)},pi.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},pi.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},pi.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},pi.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},pi);function pi(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new Xr(Yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new Xr(Yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Xr(Yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new Xr(Yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}function yi(e){return"server_timestamp"===(null===(e=((null===(e=null==e?void 0:e.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function mi(e){return e=li(e.mapValue.fields.__local_write_time__.timestampValue),new di(e.seconds,e.nanos)}function vi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yi(e)?4:10:Rr()}function gi(e,t){var n,r,i=vi(e);if(i!==vi(t))return!1;switch(i){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mi(e).isEqual(mi(t));case 3:return function(t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=li(e.timestampValue);return t=li(t.timestampValue),n.seconds===t.seconds&&n.nanos===t.nanos}(t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,hi(e.bytesValue).isEqual(hi(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return n=t,fi((r=e).geoPointValue.latitude)===fi(n.geoPointValue.latitude)&&fi(r.geoPointValue.longitude)===fi(n.geoPointValue.longitude);case 2:return function(e,t){return"integerValue"in e&&"integerValue"in t?fi(e.integerValue)===fi(t.integerValue):"doubleValue"in e&&"doubleValue"in t&&((e=fi(e.doubleValue))===(t=fi(t.doubleValue))?Gr(e)===Gr(t):isNaN(e)&&isNaN(t))}(e,t);case 9:return Ur(e.arrayValue.values||[],t.arrayValue.values||[],gi);case 10:return function(){var n,r=e.mapValue.fields||{},i=t.mapValue.fields||{};if(qr(r)!==qr(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!gi(r[n],i[n])))return!1;return!0}();default:return Rr()}}function bi(e,t){return void 0!==(e.values||[]).find((function(e){return gi(e,t)}))}function wi(e,t){var n,r,i,o=vi(e),a=vi(t);if(o!==a)return jr(o,a);switch(o){case 0:return 0;case 1:return jr(e.booleanValue,t.booleanValue);case 2:return r=t,(i=fi(e.integerValue||e.doubleValue))<(r=fi(r.integerValue||r.doubleValue))?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return Ei(e.timestampValue,t.timestampValue);case 4:return Ei(mi(e),mi(t));case 5:return jr(e.stringValue,t.stringValue);case 6:return function(e,t){return e=hi(e),t=hi(t),e.compareTo(t)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=jr(n[i],r[i]);if(0!==o)return o}return jr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return n=e.geoPointValue,i=t.geoPointValue,0!==(r=jr(fi(n.latitude),fi(i.latitude)))?r:jr(fi(n.longitude),fi(i.longitude));case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=wi(n[i],r[i]);if(o)return o}return jr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=jr(r[a],o[a]);if(0!==s)return s;if(0!==(s=wi(n[r[a]],i[o[a]])))return s}return jr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Rr()}}function Ei(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return jr(e,t);var n=li(e);return e=li(t),0!==(t=jr(n.seconds,e.seconds))?t:jr(n.nanos,e.nanos)}function Ti(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){return"time("+(e=li(e)).seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?hi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ti.fromName(n).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):Rr();var n}(e)}function _i(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Si(e){return e&&"integerValue"in e}function Ii(e){return!!e&&"arrayValue"in e}function ki(e){return e&&"nullValue"in e}function xi(e){return e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ci(e){return e&&"mapValue"in e}var Ni,Oi,Di,Pi=(s(ji,Di=y=function(e,t){this.key=e,this.version=t}),ji.prototype.field=function(e){return this.objectValue.field(e)},ji.prototype.data=function(){return this.objectValue},ji.prototype.toProto=function(){return this.objectValue.proto},ji.prototype.isEqual=function(e){return e instanceof ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.objectValue.isEqual(e.objectValue)},ji.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(ji.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),ji),Ai=(s(Fi,Oi=y),Fi.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Fi.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),Fi.prototype.isEqual=function(e){return e instanceof Fi&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Fi),Ri=(s(Mi,Ni=y),Mi.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Mi.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),Mi.prototype.isEqual=function(e){return e instanceof Mi&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Mi),Li=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Mi(){return null!==Ni&&Ni.apply(this,arguments)||this}function Fi(e,t,n){var r=this;return(r=Oi.call(this,e,t)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function ji(e,t,n,r){var i=this;return(i=Di.call(this,e,t)||this).objectValue=n,i.hasLocalMutations=!!r.hasLocalMutations,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function Ui(e,t,n,r,i,o,a){return new Li(e,t=void 0===t?null:t,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,a=void 0===a?null:a)}function Vi(e){var t=e;return null===t.h&&(e=t.path.canonicalString(),null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((function(e){return(e=e).field.canonicalString()+e.op.toString()+Ti(e.value)})).join(","),e+="|ob:",e+=t.orderBy.map((function(e){return(e=e).field.canonicalString()+e.dir})).join(","),Kr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=mo(t.startAt)),t.endAt&&(e+="|ub:",e+=mo(t.endAt)),t.h=e),t.h}function qi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n,r,i=0;i<e.orderBy.length;i++)if(n=e.orderBy[i],r=t.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(e.filters.length!==t.filters.length)return!1;for(var o,a,s=0;s<e.filters.length;s++)if(o=e.filters[s],a=t.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!gi(o.value,a.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bo(e.startAt,t.startAt)&&bo(e.endAt,t.endAt)}function Bi(e){return ti.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var zi,Ki=(s(Gi,zi=function(){}),Gi.create=function(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.l(e,t,n):new $i(e,t,n):"array-contains"===t?new ao(e,n):"in"===t?new so(e,n):"not-in"===t?new uo(e,n):"array-contains-any"===t?new co(e,n):new Gi(e,t,n)},Gi.l=function(e,t,n){return new("in"===t?Yi:Xi)(e,n)},Gi.prototype.matches=function(e){return e=e.field(this.field),"!="===this.op?null!==e&&this.m(wi(e,this.value)):null!==e&&vi(this.value)===vi(e)&&this.m(wi(e,this.value))},Gi.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return 0<e;case">=":return 0<=e;default:return Rr()}},Gi.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},Gi);function Gi(e,t,n){var r=this;return(r=zi.call(this)||this).field=e,r.op=t,r.value=n,r}var Hi,Qi,Wi,$i=(s(eo,Wi=Ki),eo.prototype.matches=function(e){return e=ti.comparator(e.key,this.key),this.m(e)},eo),Yi=(s(Zi,Qi=Ki),Zi.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},Zi),Xi=(s(Ji,Hi=Ki),Ji.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},Ji);function Ji(e,t){var n=this;return(n=Hi.call(this,e,"not-in",t)||this).keys=to(0,t),n}function Zi(e,t){var n=this;return(n=Qi.call(this,e,"in",t)||this).keys=to(0,t),n}function eo(e,t,n){var r=this;return(r=Wi.call(this,e,t,n)||this).key=ti.fromName(n.referenceValue),r}function to(e,t){return((null===(t=t.arrayValue)||void 0===t?void 0:t.values)||[]).map((function(e){return ti.fromName(e.referenceValue)}))}var no,ro,io,oo,ao=(s(yo,oo=Ki),yo.prototype.matches=function(e){return Ii(e=e.field(this.field))&&bi(e.arrayValue,this.value)},yo),so=(s(po,io=Ki),po.prototype.matches=function(e){return null!==(e=e.field(this.field))&&bi(this.value.arrayValue,e)},po),uo=(s(ho,ro=Ki),ho.prototype.matches=function(e){return!bi(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(e=e.field(this.field))&&!bi(this.value.arrayValue,e)},ho),co=(s(fo,no=Ki),fo.prototype.matches=function(e){var t=this;return!(!Ii(e=e.field(this.field))||!e.arrayValue.values)&&e.arrayValue.values.some((function(e){return bi(t.value.arrayValue,e)}))},fo),lo=function(e,t){this.position=e,this.before=t};function fo(e,t){return no.call(this,e,"array-contains-any",t)||this}function ho(e,t){return ro.call(this,e,"not-in",t)||this}function po(e,t){return io.call(this,e,"in",t)||this}function yo(e,t){return oo.call(this,e,"array-contains",t)||this}function mo(e){return(e.before?"b":"a")+":"+e.position.map(Ti).join(",")}var vo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function go(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ti.comparator(ti.fromName(a.referenceValue),n.key):wi(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function bo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!gi(e.position[n],t.position[n]))return!1;return!0}var wo=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Eo(e,t,n,r,i,o,a,s){return new wo(e,t,n,r,i,o,a,s)}function To(e){return new wo(e)}function _o(e){return!Kr(e.limit)&&"F"===e.limitType}function So(e){return!Kr(e.limit)&&"L"===e.limitType}function Io(e){return 0<e.explicitOrderBy.length?e.explicitOrderBy[0].field:null}function ko(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function xo(e){return null!==e.collectionGroup}function Co(e){var t=e;if(null===t.p){t.p=[];var n=ko(t);if(e=Io(t),null!==n&&null===e)n.isKeyField()||t.p.push(new vo(n)),t.p.push(new vo(ei.keyField(),"asc"));else{for(var r=!1,i=0,o=t.explicitOrderBy;i<o.length;i++){var a=o[i];t.p.push(a),a.field.isKeyField()&&(r=!0)}r||(n=0<t.explicitOrderBy.length?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",t.p.push(new vo(ei.keyField(),n)))}}return t.p}function No(e){var t=e;if(!t.T)if("F"===t.limitType)t.T=Ui(t.path,t.collectionGroup,Co(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Co(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new vo(o.field,a))}var s=t.endAt?new lo(t.endAt.position,!t.endAt.before):null;e=t.startAt?new lo(t.startAt.position,!t.startAt.before):null,t.T=Ui(t.path,t.collectionGroup,n,t.filters,t.limit,s,e)}return t.T}function Oo(e,t,n){return new wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Do(e,t){return qi(No(e),No(t))&&e.limitType===t.limitType}function Po(e){return Vi(No(e))+"|lt:"+e.limitType}function Ao(e){return"Query(target="+(n=(t=No(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),0<t.filters.length&&(n+=", filters: ["+t.filters.map((function(e){return(e=e).field.canonicalString()+" "+e.op+" "+Ti(e.value)})).join(", ")+"]"),Kr(t.limit)||(n+=", limit: "+t.limit),0<t.orderBy.length&&(n+=", orderBy: ["+t.orderBy.map((function(e){return(e=e).field.canonicalString()+" ("+e.dir+")"})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+mo(t.startAt)),t.endAt&&(n+=", endAt: "+mo(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function Ro(e,t){return n=e,r=t.key.path,(null!==n.collectionGroup?t.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):ti.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r))&&function(t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.field(i.field))return}return 1}(t)&&function(t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return;return 1}(t)&&(r=t,(!(t=e).startAt||go(t.startAt,Co(t),r))&&(!t.endAt||!go(t.endAt,Co(t),r)));var n,r}function Lo(e){return function(t,n){for(var r=!1,i=0,o=Co(e);i<o.length;i++){var a=o[i],s=function(e,t,n){var r=e.field.isKeyField()?ti.comparator(t.key,n.key):function(e,n){var r=t.field(e);return e=n.field(e),null!==r&&null!==e?wi(r,e):Rr()}(e.field,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Rr()}}(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}var Mo=(zo.fromTimestamp=function(e){return new zo(e)},zo.min=function(){return new zo(new di(0,0))},zo.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},zo.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},zo.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},zo.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},zo.prototype.toTimestamp=function(){return this.timestamp},zo),Fo=(Bo.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},Bo.prototype.isEqual=function(e){return Ur(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},Bo),jo=(qo.empty=function(){return new qo({mapValue:{}})},qo.prototype.field=function(e){if(e.isEmpty())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!Ci(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},qo.prototype.isEqual=function(e){return gi(this.proto,e.proto)},qo),Uo=(Vo.prototype.set=function(e,t){return this.R(e,t),this},Vo.prototype.delete=function(e){return this.R(e,null),this},Vo.prototype.R=function(e,t){for(var n=this.A,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map||(o=o&&10===vi(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(e.lastSegment(),t)},Vo.prototype.v=function(){var e=this.P(ei.emptyPath(),this.A);return null!=e?new jo(e):this.I},Vo.prototype.P=function(e,t){var n=this,r=!1,i=this.I.field(e),o=Ci(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){var a;t instanceof Map?null!=(a=n.P(e.child(i),t))&&(o[i]=a,r=!0):null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},Vo);function Vo(e){void 0===e&&(e=jo.empty()),this.I=e,this.A=new Map}function qo(e){this.proto=e}function Bo(e){(this.fields=e).sort(ei.comparator)}function zo(e){this.timestamp=e}function Ko(e,t){if(e.V){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gr(t)?"-0":t}}function Go(e){return{integerValue:""+e}}function Ho(e,t){return Hr(t)?Go(t):Ko(e,t)}function Qo(e,t){return e instanceof aa?Si(e=t)||e&&"doubleValue"in e?t:{integerValue:0}:null}var Wo,$o,Yo=(s(Zo,$o=It=function(){this._=void 0}),Zo),Xo=(s(Jo,Wo=It),Jo);function Jo(e){var t=this;return(t=Wo.call(this)||this).elements=e,t}function Zo(){return null!==$o&&$o.apply(this,arguments)||this}function ea(e,t){for(var n=ca(t),r=0,i=e.elements;r<i.length;r++)!function(e){n.some((function(t){return gi(t,e)}))||n.push(e)}(i[r]);return{arrayValue:{values:n}}}var ta,na=(s(ra,ta=It),ra);function ra(e){var t=this;return(t=ta.call(this)||this).elements=e,t}function ia(e,t){for(var n=ca(t),r=0,i=e.elements;r<i.length;r++)!function(e){n=n.filter((function(t){return!gi(t,e)}))}(i[r]);return{arrayValue:{values:n}}}var oa,aa=(s(sa,oa=It),sa);function sa(e,t){var n=this;return(n=oa.call(this)||this).D=e,n.S=t,n}function ua(e){return fi(e.integerValue||e.doubleValue)}function ca(e){return Ii(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function la(e,t){this.version=e,this.transformResults=t}var fa=function(e,t){this.field=e,this.transform=t},ha=(da.none=function(){return new da},da.exists=function(e){return new da(void 0,e)},da.updateTime=function(e){return new da(e)},Object.defineProperty(da.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),da.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},da);function da(e,t){this.updateTime=e,this.exists=t}function pa(e,t){return void 0!==e.updateTime?t instanceof Pi&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof Pi}function ya(e,t,n){return e instanceof wa?function(e,t,n){if(!pa(e.precondition,t))return t;var r=e.value;return n=ka(e.fieldTransforms,n,t),r=xa(e.fieldTransforms,r,n),t=va(t),new Pi(e.key,t,r,{hasLocalMutations:!0})}(e,t,n):e instanceof Ea?function(e,t,n){if(!pa(e.precondition,t))return t;var r=va(t);return t=Sa(e,t,ka(e.fieldTransforms,n,t)),new Pi(e.key,r,t,{hasLocalMutations:!0})}(e,t,n):(t=t,pa((e=e).precondition,t)?new Ai(e.key,Mo.min()):t)}function ma(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Ur(n,r,(function(e,t){return t=t,(e=e).field.isEqual(t.field)&&(e=e.transform,t=t.transform,e instanceof Xo&&t instanceof Xo||e instanceof na&&t instanceof na?Ur(e.elements,t.elements,gi):e instanceof aa&&t instanceof aa?gi(e.S,t.S):e instanceof Yo&&t instanceof Yo)}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function va(e){return e instanceof Pi?e.version:Mo.min()}var ga,ba,wa=(s(_a,ba=y=function(){}),_a),Ea=(s(Ta,ga=y),Ta);function Ta(e,t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=ga.call(this)||this).key=e,o.data=t,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function _a(e,t,n,r){void 0===r&&(r=[]);var i=this;return(i=ba.call(this)||this).key=e,i.value=t,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function Sa(e,t,n){var r,i,o;return i=e,t=r=t instanceof Pi?t.data():jo.empty(),o=new Uo(t),i.fieldMask.fields.forEach((function(e){var t;e.isEmpty()||(null!==(t=i.data.field(e))?o.set(e,t):o.delete(e))})),r=o.v(),xa(e.fieldTransforms,r,n)}function Ia(e,t,n){var r=[];Lr(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof Pi&&(s=t.field(o.field)),r.push((o=a,a=s,s=n[i],o instanceof Xo?ea(o,a):o instanceof na?ia(o,a):s))}return r}function ka(e,t,n){for(var r,i=[],o=0,a=e;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Pi&&(c=n.field(s.field)),i.push((r=c,s=t,c=void 0,(u=u)instanceof Yo?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof Xo?ea(u,r):u instanceof na?ia(u,r):(r=ua(u=Qo(c=u,r))+ua(c.S),Si(u)&&Si(c.S)?Go(r):Ko(c.D,r))))}return i}function xa(e,t,n){for(var r=new Uo(t),i=0;i<e.length;i++){var o=e[i];r.set(o.field,n[i])}return r.v()}function Ca(e){this.count=e}var Na,Oa,Da,Pa=(s(La,Da=y),La),Aa=(s(Ra,Oa=y),Ra);function Ra(e,t){var n=this;return(n=Oa.call(this)||this).key=e,n.precondition=t,n.type=3,n.fieldTransforms=[],n}function La(e,t){var n=this;return(n=Da.call(this)||this).key=e,n.precondition=t,n.type=2,n.fieldTransforms=[],n}function Ma(e){switch(e){case Yr.OK:return Rr(),0;case Yr.CANCELLED:case Yr.UNKNOWN:case Yr.DEADLINE_EXCEEDED:case Yr.RESOURCE_EXHAUSTED:case Yr.INTERNAL:case Yr.UNAVAILABLE:case Yr.UNAUTHENTICATED:return;case Yr.INVALID_ARGUMENT:case Yr.NOT_FOUND:case Yr.ALREADY_EXISTS:case Yr.PERMISSION_DENIED:case Yr.FAILED_PRECONDITION:case Yr.ABORTED:case Yr.OUT_OF_RANGE:case Yr.UNIMPLEMENTED:case Yr.DATA_LOSS:return 1;default:return Rr(),0}}function Fa(e){if(void 0===e)return Dr("GRPC error has no .code"),Yr.UNKNOWN;switch(e){case Na.OK:return Yr.OK;case Na.CANCELLED:return Yr.CANCELLED;case Na.UNKNOWN:return Yr.UNKNOWN;case Na.DEADLINE_EXCEEDED:return Yr.DEADLINE_EXCEEDED;case Na.RESOURCE_EXHAUSTED:return Yr.RESOURCE_EXHAUSTED;case Na.INTERNAL:return Yr.INTERNAL;case Na.UNAVAILABLE:return Yr.UNAVAILABLE;case Na.UNAUTHENTICATED:return Yr.UNAUTHENTICATED;case Na.INVALID_ARGUMENT:return Yr.INVALID_ARGUMENT;case Na.NOT_FOUND:return Yr.NOT_FOUND;case Na.ALREADY_EXISTS:return Yr.ALREADY_EXISTS;case Na.PERMISSION_DENIED:return Yr.PERMISSION_DENIED;case Na.FAILED_PRECONDITION:return Yr.FAILED_PRECONDITION;case Na.ABORTED:return Yr.ABORTED;case Na.OUT_OF_RANGE:return Yr.OUT_OF_RANGE;case Na.UNIMPLEMENTED:return Yr.UNIMPLEMENTED;case Na.DATA_LOSS:return Yr.DATA_LOSS;default:return Rr()}}(It=Na=Na||{})[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";var ja=(za.prototype.insert=function(e,t){return new za(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Va.BLACK,null,null))},za.prototype.remove=function(e){return new za(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Va.BLACK,null,null))},za.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},za.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},za.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(za.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),za.prototype.minKey=function(){return this.root.minKey()},za.prototype.maxKey=function(){return this.root.maxKey()},za.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},za.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},za.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},za.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},za.prototype.getIterator=function(){return new Ua(this.root,null,this.comparator,!1)},za.prototype.getIteratorFrom=function(e){return new Ua(this.root,e,this.comparator,!1)},za.prototype.getReverseIterator=function(){return new Ua(this.root,null,this.comparator,!0)},za.prototype.getReverseIteratorFrom=function(e){return new Ua(this.root,e,this.comparator,!0)},za),Ua=(Ba.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},Ba.prototype.hasNext=function(){return 0<this.nodeStack.length},Ba.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},Ba),Va=(qa.prototype.copy=function(e,t,n,r,i){return new qa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},qa.prototype.isEmpty=function(){return!1},qa.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},qa.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},qa.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},qa.prototype.minKey=function(){return this.min().key},qa.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},qa.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},qa.prototype.removeMin=function(){if(this.left.isEmpty())return qa.EMPTY;var e=this;return(e=(e=e.left.isRed()||e.left.left.isRed()?e:e.moveRedLeft()).copy(null,null,null,e.left.removeMin(),null)).fixUp()},qa.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()?r:r.moveRedLeft()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed()?r:r.moveRedRight()).key)){if(r.right.isEmpty())return qa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},qa.prototype.isRed=function(){return this.color},qa.prototype.fixUp=function(){var e=this;return(e=(e=e.right.isRed()&&!e.left.isRed()?e.rotateLeft():e).left.isRed()&&e.left.left.isRed()?e.rotateRight():e).left.isRed()&&e.right.isRed()?e.colorFlip():e},qa.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip():e},qa.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()?(e=e.rotateRight()).colorFlip():e},qa.prototype.rotateLeft=function(){var e=this.copy(null,null,qa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},qa.prototype.rotateRight=function(){var e=this.copy(null,null,qa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},qa.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},qa.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},qa.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Rr();if(this.right.isRed())throw Rr();var e=this.left.check();if(e!==this.right.check())throw Rr();return e+(this.isRed()?0:1)},qa);function qa(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:qa.RED,this.left=null!=r?r:qa.EMPTY,this.right=null!=i?i:qa.EMPTY,this.size=this.left.size+1+this.right.size}function Ba(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}function za(e,t){this.comparator=e,this.root=t||Va.EMPTY}function Ka(){this.size=0}Va.EMPTY=null,Va.RED=!0,Va.BLACK=!1,Va.EMPTY=(Object.defineProperty(Ka.prototype,"key",{get:function(){throw Rr()},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,"value",{get:function(){throw Rr()},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,"color",{get:function(){throw Rr()},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,"left",{get:function(){throw Rr()},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,"right",{get:function(){throw Rr()},enumerable:!1,configurable:!0}),Ka.prototype.copy=function(e,t,n,r,i){return this},Ka.prototype.insert=function(e,t,n){return new Va(e,t)},Ka.prototype.remove=function(e,t){return this},Ka.prototype.isEmpty=function(){return!0},Ka.prototype.inorderTraversal=function(e){return!1},Ka.prototype.reverseTraversal=function(e){return!1},Ka.prototype.minKey=function(){return null},Ka.prototype.maxKey=function(){return null},Ka.prototype.isRed=function(){return!1},Ka.prototype.checkMaxDepth=function(){return!0},Ka.prototype.check=function(){return 0},new Ka);var Ga=($a.prototype.has=function(e){return null!==this.data.get(e)},$a.prototype.first=function(){return this.data.minKey()},$a.prototype.last=function(){return this.data.maxKey()},Object.defineProperty($a.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),$a.prototype.indexOf=function(e){return this.data.indexOf(e)},$a.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},$a.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},$a.prototype.forEachWhile=function(e,t){for(var n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},$a.prototype.firstAfterOrEqual=function(e){return(e=this.data.getIteratorFrom(e)).hasNext()?e.getNext().key:null},$a.prototype.getIterator=function(){return new Ha(this.data.getIterator())},$a.prototype.getIteratorFrom=function(e){return new Ha(this.data.getIteratorFrom(e))},$a.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},$a.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},$a.prototype.isEmpty=function(){return this.data.isEmpty()},$a.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},$a.prototype.isEqual=function(e){if(!(e instanceof $a))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},$a.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},$a.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},$a.prototype.copy=function(e){var t=new $a(this.comparator);return t.data=e,t},$a),Ha=(Wa.prototype.getNext=function(){return this.iter.getNext().key},Wa.prototype.hasNext=function(){return this.iter.hasNext()},Wa),Qa=new ja(ti.comparator);function Wa(e){this.iter=e}function $a(e){this.comparator=e,this.data=new ja(this.comparator)}var Ya=new ja(ti.comparator),Xa=new ja(ti.comparator),Ja=new Ga(ti.comparator);function Za(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ja,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var es=new Ga(jr),ts=(fs.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n=new Map;return n.set(e,ns.createSynthesizedTargetChangeForCurrentChange(e,t)),new fs(Mo.min(),n,es,Qa,Za())},fs),ns=(ls.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new ls(ni.EMPTY_BYTE_STRING,t,Za(),Za(),Za())},ls),rs=function(e,t,n,r){this.C=e,this.removedTargetIds=t,this.key=n,this.N=r},is=function(e,t){this.targetId=e,this.$=t},os=function(e,t,n,r){void 0===n&&(n=ni.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},as=(Object.defineProperty(cs.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(cs.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(cs.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(cs.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),cs.prototype.U=function(e){0<e.approximateByteSize()&&(this.L=!0,this.k=e)},cs.prototype.K=function(){var e=Za(),t=Za(),n=Za();return this.O.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Rr()}})),new ns(this.k,this.M,e,t,n)},cs.prototype.W=function(){this.L=!1,this.O=ds()},cs.prototype.j=function(e,t){this.L=!0,this.O=this.O.insert(e,t)},cs.prototype.G=function(e){this.L=!0,this.O=this.O.remove(e)},cs.prototype.H=function(){this.F+=1},cs.prototype.J=function(){--this.F},cs.prototype.Y=function(){this.L=!0,this.M=!0},cs),ss=(us.prototype.st=function(e){for(var t=0,n=e.C;t<n.length;t++){var r=n[t];e.N instanceof Pi?this.it(r,e.N):e.N instanceof Ai&&this.rt(r,e.key,e.N)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.rt(r,e.key,e.N)},us.prototype.ot=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ct(n);switch(e.state){case 0:t.at(n)&&r.U(e.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(e.resumeToken);break;case 2:r.J(),r.B||t.removeTarget(n);break;case 3:t.at(n)&&(r.Y(),r.U(e.resumeToken));break;case 4:t.at(n)&&(t.ut(n),r.U(e.resumeToken));break;default:Rr()}}))},us.prototype.forEachTarget=function(e,t){var n=this;0<e.targetIds.length?e.targetIds.forEach(t):this.Z.forEach((function(e,r){n.at(r)&&t(r)}))},us.prototype.ht=function(e){var t=e.targetId,n=e.$.count;(e=this.lt(t))&&(Bi(e=e.target)?0===n?(e=new ti(e.path),this.rt(t,e,new Ai(e,Mo.min()))):Lr(1===n):this.ft(t)!==n&&(this.ut(t),this.nt=this.nt.add(t)))},us.prototype.dt=function(e){var t=this,n=new Map;this.Z.forEach((function(r,i){var o=t.lt(i);o&&(r.current&&Bi(o.target)&&(o=new ti(o.target.path),null!==t.tt.get(o)||t.wt(i,o)||t.rt(i,o,new Ai(o,e))),r.q&&(n.set(i,r.K()),r.W()))}));var r=Za();this.et.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){return!(e=t.lt(e))||2===e.purpose||(i=!1)})),i&&(r=r.add(e))}));var i=new ts(e,n,this.nt,this.tt,r);return this.tt=Qa,this.et=hs(),this.nt=new Ga(jr),i},us.prototype.it=function(e,t){var n;this.at(e)&&(n=this.wt(e,t.key)?2:0,this.ct(e).j(t.key,n),this.tt=this.tt.insert(t.key,t),this.et=this.et.insert(t.key,this._t(t.key).add(e)))},us.prototype.rt=function(e,t,n){var r;this.at(e)&&(r=this.ct(e),this.wt(e,t)?r.j(t,1):r.G(t),this.et=this.et.insert(t,this._t(t).delete(e)),n&&(this.tt=this.tt.insert(t,n)))},us.prototype.removeTarget=function(e){this.Z.delete(e)},us.prototype.ft=function(e){var t=this.ct(e).K();return this.X.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},us.prototype.H=function(e){this.ct(e).H()},us.prototype.ct=function(e){var t=this.Z.get(e);return t||(t=new as,this.Z.set(e,t)),t},us.prototype._t=function(e){var t=this.et.get(e);return t||(t=new Ga(jr),this.et=this.et.insert(e,t)),t},us.prototype.at=function(e){var t=null!==this.lt(e);return t||Or("WatchChangeAggregator","Detected inactive target",e),t},us.prototype.lt=function(e){var t=this.Z.get(e);return t&&t.B?null:this.X.yt(e)},us.prototype.ut=function(e){var t=this;this.Z.set(e,new as),this.X.getRemoteKeysForTarget(e).forEach((function(n){t.rt(e,n,null)}))},us.prototype.wt=function(e,t){return this.X.getRemoteKeysForTarget(e).has(t)},us);function us(e){this.X=e,this.Z=new Map,this.tt=Qa,this.et=hs(),this.nt=new Ga(jr)}function cs(){this.F=0,this.O=ds(),this.k=ni.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}function ls(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function fs(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function hs(){return new ja(ti.comparator)}function ds(){return new ja(ti.comparator)}var ps={asc:"ASCENDING",desc:"DESCENDING"},ys={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ms=function(e,t){this.databaseId=e,this.V=t};function vs(e,t){return e.V?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function gs(e,t){return e.V?t.toBase64():t.toUint8Array()}function bs(e){return Lr(!!e),Mo.fromTimestamp((e=li(e),new di(e.seconds,e.nanos)))}function ws(e,t){return new Jr(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function Es(e){return Lr(qs(e=Jr.fromString(e))),e}function Ts(e,t){return ws(e.databaseId,t.path)}function _s(e,t){if((t=Es(t)).get(1)!==e.databaseId.projectId)throw new Xr(Yr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new Xr(Yr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new ti(xs(t))}function Ss(e,t){return ws(e.databaseId,t)}function Is(e){return 4===(e=Es(e)).length?Jr.emptyPath():xs(e)}function ks(e){return new Jr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xs(e){return Lr(4<e.length&&"documents"===e.get(4)),e.popFirst(5)}function Cs(e,t,n){return{name:Ts(e,t),fields:n.proto.mapValue.fields}}function Ns(e,t,n){var r=_s(e,t.name);return e=bs(t.updateTime),t=new jo({mapValue:{fields:t.fields}}),new Pi(r,e,t,{hasCommittedMutations:!!n})}function Os(e,t){var n,r,i;if(t instanceof wa)n={update:Cs(e,t.key,t.value)};else if(t instanceof Pa)n={delete:Ts(e,t.key)};else if(t instanceof Ea)n={update:Cs(e,t.key,t.data),updateMask:(i=t.fieldMask,r=[],i.fields.forEach((function(e){return r.push(e.canonicalString())})),{fieldPaths:r})};else{if(!(t instanceof Aa))return Rr();n={verify:Ts(e,t.key)}}return 0<t.fieldTransforms.length&&(n.updateTransforms=t.fieldTransforms.map((function(e){var t=e.transform;if(t instanceof Yo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof Xo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof na)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof aa)return{fieldPath:e.field.canonicalString(),increment:t.S};throw Rr()}))),t.precondition.isNone||(n.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:(t=e,e=i.updateTime,vs(t,e.toTimestamp()))}:void 0!==i.exists?{exists:i.exists}:Rr()),n}function Ds(e,t){var n=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?ha.updateTime(bs(a.updateTime)):void 0!==a.exists?ha.exists(a.exists):ha.none():ha.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n,r=null;return"setToServerValue"in t?(Lr("REQUEST_TIME"===t.setToServerValue),r=new Yo):"appendMissingElements"in t?(n=t.appendMissingElements.values||[],r=new Xo(n)):"removeAllFromArray"in t?(n=t.removeAllFromArray.values||[],r=new na(n)):"increment"in t?r=new aa(e,t.increment):Rr(),t=ei.fromServerFormat(t.fieldPath),new fa(t,r)}(e,t)})):[];if(t.update){t.update.name;var i=_s(e,t.update.name),o=new jo({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=(a=t.updateMask.fieldPaths||[],new Fo(a.map((function(e){return ei.fromServerFormat(e)}))));return new Ea(i,o,a,n,r)}return new wa(i,o,n,r)}return t.delete?(r=_s(e,t.delete),new Pa(r,n)):t.verify?(t=_s(e,t.verify),new Aa(t,n)):Rr()}function Ps(e,t){return{documents:[Ss(e,t.path)]}}function As(e,t){var n={structuredQuery:{}},r=t.path;return null!==t.collectionGroup?(n.parent=Ss(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ss(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),(r=function(e){if(0!==e.length)return 1===(e=e.map((function(e){if("=="===e.op){if(xi(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NAN"}};if(ki(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xi(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NOT_NAN"}};if(ki(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(e.field),op:(t=e.op,ys[t]),value:e.value}};var t}))).length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(t.filters))&&(n.structuredQuery.where=r),(r=function(e){if(0!==e.length)return e.map((function(e){return{field:Fs((e=e).field),direction:(e=e.dir,ps[e])}}))}(t.orderBy))&&(n.structuredQuery.orderBy=r),r=t.limit,null!==(r=e.V||Kr(r)?r:{value:r})&&(n.structuredQuery.limit=r),t.startAt&&(n.structuredQuery.startAt=Ls(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ls(t.endAt)),n}function Rs(e){var t=Is(e.parent),n=e.structuredQuery,r=null;0<(a=n.from?n.from.length:0)&&(Lr(1===a),(s=n.from[0]).allDescendants?r=s.collectionId:t=t.child(s.collectionId));var i=[];n.where&&(i=function e(t){return t?void 0!==t.unaryFilter?[Vs(t)]:void 0!==t.fieldFilter?[Us(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):Rr():[]}(n.where));var o=[],a=(e=null,null),s=null;return Eo(t,r,o=n.orderBy?n.orderBy.map((function(e){return new vo(js((t=e).field),function(){switch(t.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var t})):o,i,e=n.limit?Kr(i="object"==typeof(i=n.limit)?i.value:i)?null:i:e,"F",a=n.startAt?Ms(n.startAt):a,s=n.endAt?Ms(n.endAt):s)}function Ls(e){return{before:e.before,values:e.position}}function Ms(e){var t=!!e.before;return e=e.values||[],new lo(e,t)}function Fs(e){return{fieldPath:e.canonicalString()}}function js(e){return ei.fromServerFormat(e.fieldPath)}function Us(e){return Ki.create(js(e.fieldFilter.field),function(){switch(e.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Rr()}}(),e.fieldFilter.value)}function Vs(e){switch(e.unaryFilter.op){case"IS_NAN":var t=js(e.unaryFilter.field);return Ki.create(t,"==",{doubleValue:NaN});case"IS_NULL":return t=js(e.unaryFilter.field),Ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=js(e.unaryFilter.field);return Ki.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return n=js(e.unaryFilter.field),Ki.create(n,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Rr()}}function qs(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)}function Bs(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=zs(t)),t=function(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(e.get(n),t);return zs(t)}function zs(e){return e+"\x01\x01"}function Ks(e){var t=e.length;if(Lr(2<=t),2===t)return Lr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Jr.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||n<a)&&Rr(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Rr()}o=a+2}return new Jr(r)}function Gs(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var Hs=function(e,t){this.seconds=e,this.nanoseconds=t};function Qs(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}function Ws(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}Gs.store="owner",Gs.key="owner",Qs.store="mutationQueues",Qs.keyPath="userId",Ws.store="mutations",Ws.keyPath="batchId",Ws.userMutationsIndex="userMutationsIndex",Ws.userMutationsKeyPath=["userId","batchId"];var $s=(Ys.prefixForUser=function(e){return[e]},Ys.prefixForPath=function(e,t){return[e,Bs(t)]},Ys.key=function(e,t,n){return[e,Bs(t),n]},Ys);function Ys(){}function Xs(e,t){this.path=e,this.readTime=t}function Js(e,t){this.path=e,this.version=t}$s.store="documentMutations",$s.PLACEHOLDER=new $s;var Zs=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function eu(e){this.byteSize=e}function tu(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}Zs.store="remoteDocuments",Zs.readTimeIndex="readTimeIndex",Zs.readTimeIndexPath="readTime",Zs.collectionReadTimeIndex="collectionReadTimeIndex",Zs.collectionReadTimeIndexPath=["parentPath","readTime"],eu.store="remoteDocumentGlobal",eu.key="remoteDocumentGlobalKey",tu.store="targets",tu.keyPath="targetId",tu.queryTargetsIndexName="queryTargetsIndex",tu.queryTargetsKeyPath=["canonicalId","targetId"];var nu=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};function ru(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function iu(e,t){this.collectionId=e,this.parent=t}function ou(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}function au(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}function su(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}nu.store="targetDocuments",nu.keyPath=["targetId","path"],nu.documentTargetsIndex="documentTargetsIndex",nu.documentTargetsKeyPath=["path","targetId"],ru.key="targetGlobalKey",ru.store="targetGlobal",iu.store="collectionParents",iu.keyPath=["collectionId","parent"],ou.store="clientMetadata",ou.keyPath="clientId",au.store="bundles",au.keyPath="bundleId",su.store="namedQueries",su.keyPath="name";var uu,cu=l(l([],l(l([],l(l([],l(l([],[Qs.store,Ws.store,$s.store,Zs.store,tu.store,Gs.store,ru.store,nu.store]),[ou.store])),[eu.store])),[iu.store])),[au.store,su.store]),lu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fu=(Tu.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},Tu.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},y=Tu,function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}),hu=(Eu.prototype.catch=function(e){return this.next(void 0,e)},Eu.prototype.next=function(e,t){var n=this;return this.callbackAttached&&Rr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Eu((function(r,i){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,i)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,i)}}))},Eu.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},Eu.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof Eu?t:Eu.resolve(t)}catch(e){return Eu.reject(e)}},Eu.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):Eu.resolve(t)},Eu.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):Eu.reject(t)},Eu.resolve=function(e){return new Eu((function(t,n){t(e)}))},Eu.reject=function(e){return new Eu((function(t,n){n(e)}))},Eu.waitFor=function(e){return new Eu((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(e){return n(e)}))})),o=!0,i===r&&t()}))},Eu.or=function(e){for(var t=Eu.resolve(!1),n=0,r=e;n<r.length;n++)!function(e){t=t.next((function(t){return t?Eu.resolve(t):e()}))}(r[n]);return t},Eu.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},Eu),du=(wu.open=function(e,t,n,r){try{return new wu(t,e.transaction(r,n))}catch(e){throw new mu(t,e)}},Object.defineProperty(wu.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),wu.prototype.abort=function(e){e&&this.gt.reject(e),this.aborted||(Or("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},wu.prototype.store=function(e){return e=this.transaction.objectStore(e),new Su(e)},wu),pu=(bu.delete=function(e){return Or("SimpleDb","Removing database:",e),ku(window.indexedDB.deleteDatabase(e)).toPromise()},bu.At=function(){if("undefined"==typeof indexedDB)return!1;if(bu.Rt())return!0;var e=v(),t=0<(n=bu.It(e))&&n<10,n=0<(n=bu.bt(e))&&n<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||t||n)},bu.Rt=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===e?void 0:e.vt)},bu.Pt=function(e,t){return e.store(t)},bu.It=function(e){return e=(e=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?e[1].split("_").slice(0,2).join("."):"-1",Number(e)},bu.bt=function(e){return e=(e=e.match(/Android ([\d.]+)/i))?e[1].split(".").slice(0,2).join("."):"-1",Number(e)},bu.prototype.Vt=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Or("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){e=e.target.result,t(e)},i.onblocked=function(){r(new mu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){"VersionError"===(t=t.target.error).name?r(new Xr(Yr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new mu(e,t))},i.onupgradeneeded=function(e){Or("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Tt.St(t,i.transaction,e.oldVersion,n.version).next((function(){Or("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(e){return n.Dt(e)}),this.db)]}}))}))},bu.prototype.Ct=function(e){this.Dt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},bu.prototype.runTransaction=function(e,t,n,r){return u(this,void 0,void 0,(function(){var i,o,a,s;return c(this,(function(u){switch(u.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u;return c(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.Vt(e)];case 2:return a.db=c.sent(),t=du.open(a.db,e,i?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),hu.reject(e)})).toPromise(),u={},s.catch((function(){})),[4,t.Et];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return s=c.sent(),u="FirebaseError"!==s.name&&o<3,Or("SimpleDb","Transaction failed with error:",s.message,"Retrying:",u),a.close(),u?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},bu.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},bu),yu=(Object.defineProperty(gu.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(gu.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(gu.prototype,"cursor",{set:function(e){this.xt=e},enumerable:!1,configurable:!0}),gu.prototype.done=function(){this.Nt=!0},gu.prototype.Ot=function(e){this.$t=e},gu.prototype.delete=function(){return ku(this.xt.delete())},gu),mu=(s(vu,uu=Xr),vu);function vu(e,t){var n=this;return(n=uu.call(this,Yr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+t)||this).name="IndexedDbTransactionError",n}function gu(e){this.xt=e,this.Nt=!1,this.$t=null}function bu(e,t,n){this.name=e,this.version=t,this.Tt=n,12.2===bu.It(v())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function wu(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.gt=new fu,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){t.error?n.gt.reject(new mu(e,t.error)):n.gt.resolve()},this.transaction.onerror=function(t){t=Cu(t.target.error),n.gt.reject(new mu(e,t))}}function Eu(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}function Tu(){this.onCommittedListeners=[]}function _u(e){return"IndexedDbTransactionError"===e.name}var Su=(Iu.prototype.put=function(e,t){return ku(e=void 0!==t?(Or("SimpleDb","PUT",this.store.name,e,t),this.store.put(t,e)):(Or("SimpleDb","PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},Iu.prototype.add=function(e){return Or("SimpleDb","ADD",this.store.name,e,e),ku(this.store.add(e))},Iu.prototype.get=function(e){var t=this;return ku(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Or("SimpleDb","GET",t.store.name,e,n),n}))},Iu.prototype.delete=function(e){return Or("SimpleDb","DELETE",this.store.name,e),ku(this.store.delete(e))},Iu.prototype.count=function(){return Or("SimpleDb","COUNT",this.store.name),ku(this.store.count())},Iu.prototype.kt=function(e,t){t=this.cursor(this.options(e,t));var n=[];return this.Mt(t,(function(e,t){n.push(t)})).next((function(){return n}))},Iu.prototype.Lt=function(e,t){return Or("SimpleDb","DELETE ALL",this.store.name),(t=this.options(e,t)).Bt=!1,t=this.cursor(t),this.Mt(t,(function(e,t,n){return n.delete()}))},Iu.prototype.qt=function(e,t){t?n=e:(n={},t=e);var n=this.cursor(n);return this.Mt(n,t)},Iu.prototype.Ut=function(e){var t=this.cursor({});return new hu((function(n,r){t.onerror=function(e){e=Cu(e.target.error),r(e)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},Iu.prototype.Mt=function(e,t){var n=[];return new hu((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i,o=e.target.result;o?(i=new yu(o),(e=t(o.primaryKey,o.value,i))instanceof hu&&(e=e.catch((function(e){return i.done(),hu.reject(e)})),n.push(e)),i.isDone?r():null===i.Ft?o.continue():o.continue(i.Ft)):r()}})).next((function(){return hu.waitFor(n)}))},Iu.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},Iu.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Bt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},Iu);function Iu(e){this.store=e}function ku(e){return new hu((function(t,n){e.onsuccess=function(e){e=e.target.result,t(e)},e.onerror=function(e){e=Cu(e.target.error),n(e)}}))}var xu=!1;function Cu(e){var t=pu.It(v());if(12.2<=t&&t<13&&(t="An internal error was encountered in the Indexed Database server",0<=e.message.indexOf(t))){var n=new Xr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return xu||(xu=!0,setTimeout((function(){throw n}),0)),n}return e}var Nu,Ou=(s(Du,Nu=y),Du);function Du(e,t){var n=this;return(n=Nu.call(this)||this).Qt=e,n.currentSequenceNumber=t,n}function Pu(e,t){return pu.Pt(e.Qt,t)}var Au=(Uu.prototype.applyToRemoteDocument=function(e,t,n){for(var r,i,o,a,s,u,c=n.mutationResults,l=0;l<this.mutations.length;l++){var f=this.mutations[l];f.key.isEqual(e)&&(r=f,i=t,o=c[l],f=u=s=a=void 0,t=r instanceof wa?(s=o,u=(a=r).value,f=Ia(a.fieldTransforms,i,s.transformResults),u=xa(a.fieldTransforms,u,f),new Pi(a.key,s.version,u,{hasCommittedMutations:!0})):r instanceof Ea?function(e,t,n){return pa(e.precondition,t)?(t=Sa(e,t,Ia(e.fieldTransforms,t,n.transformResults)),new Pi(e.key,n.version,t,{hasCommittedMutations:!0})):new Ri(e.key,n.version)}(r,i,o):new Ai(r.key,o.version,{hasCommittedMutations:!0}))}return t},Uu.prototype.applyToLocalView=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++)(i=r[n]).key.isEqual(e)&&(t=ya(i,t,this.localWriteTime));for(var i,o=0,a=this.mutations;o<a.length;o++)(i=a[o]).key.isEqual(e)&&(t=ya(i,t,this.localWriteTime));return t},Uu.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},Uu.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Za())},Uu.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ur(this.mutations,e.mutations,ma)&&Ur(this.baseMutations,e.baseMutations,ma)},Uu),Ru=(ju.from=function(e,t,n){Lr(e.mutations.length===n.length);for(var r=Xa,i=e.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ju(e,t,n,r)},ju),Lu=(Fu.prototype.withSequenceNumber=function(e){return new Fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Fu.prototype.withResumeToken=function(e,t){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},Fu.prototype.withLastLimboFreeSnapshotVersion=function(e){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},Fu),Mu=function(e){this.Kt=e};function Fu(e,t,n,r,i,o,a){void 0===i&&(i=Mo.min()),void 0===o&&(o=Mo.min()),void 0===a&&(a=ni.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function ju(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}function Uu(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}function Vu(e,t){if(t.document)return Ns(e.Kt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ti.fromSegments(t.noDocument.path),r=Gu(t.noDocument.readTime);return new Ai(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(n=ti.fromSegments(t.unknownDocument.path),r=Gu(t.unknownDocument.version),new Ri(n,r)):Rr()}function qu(e,t,n){var r=Bu(n);if(n=t.key.path.popLast().toArray(),t instanceof Pi){var i={name:Ts(o=e.Kt,(a=t).key),fields:a.toProto().mapValue.fields,updateTime:vs(o,a.version.toTimestamp())},o=t.hasCommittedMutations;return new Zs(null,null,i,o,r,n)}if(t instanceof Ai){var a=t.key.path.toArray();return i=Ku(t.version),o=t.hasCommittedMutations,new Zs(null,new Xs(a,i),null,o,r,n)}return t instanceof Ri?(o=t.key.path.toArray(),t=Ku(t.version),new Zs(new Js(o,t),null,null,!0,r,n)):Rr()}function Bu(e){return[(e=e.toTimestamp()).seconds,e.nanoseconds]}function zu(e){return e=new di(e[0],e[1]),Mo.fromTimestamp(e)}function Ku(e){return e=e.toTimestamp(),new Hs(e.seconds,e.nanoseconds)}function Gu(e){return e=new di(e.seconds,e.nanoseconds),Mo.fromTimestamp(e)}function Hu(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ds(e.Kt,t)})),r=0;r<t.mutations.length-1;++r){var i,o=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i=t.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var a=t.mutations.map((function(t){return Ds(e.Kt,t)})),s=di.fromMillis(t.localWriteTimeMs);return new Au(t.batchId,s,n,a)}function Qu(e){var t=Gu(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Gu(e.lastLimboFreeSnapshotVersion):Mo.min(),r=void 0!==e.query.documents?(Lr(1===(r=e.query).documents.length),No(To(Is(r.documents[0])))):No(Rs(e.query));return new Lu(r,e.targetId,0,e.lastListenSequenceNumber,t,n,ni.fromBase64String(e.resumeToken))}function Wu(e,t){var n=Ku(t.snapshotVersion),r=Ku(t.lastLimboFreeSnapshotVersion),i=(Bi(t.target)?Ps:As)(e.Kt,t.target);return e=t.resumeToken.toBase64(),new tu(t.targetId,Vi(t.target),n,e,t.sequenceNumber,r,i)}function $u(e){var t=Rs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Oo(t,t.limit,"L"):t}var Yu=(Xu.prototype.getBundleMetadata=function(e,t){return Ju(e).get(t).next((function(e){if(e)return{id:(e=e).bundleId,createTime:Gu(e.createTime),version:e.version}}))},Xu.prototype.saveBundleMetadata=function(e,t){return Ju(e).put({bundleId:(t=t).id,createTime:Ku(bs(t.createTime)),version:t.version})},Xu.prototype.getNamedQuery=function(e,t){return Zu(e).get(t).next((function(e){if(e)return{name:(e=e).name,query:$u(e.bundledQuery),readTime:Gu(e.readTime)}}))},Xu.prototype.saveNamedQuery=function(e,t){return Zu(e).put({name:(t=t).name,readTime:Ku(bs(t.readTime)),bundledQuery:t.bundledQuery})},Xu);function Xu(){}function Ju(e){return Pu(e,au.store)}function Zu(e){return Pu(e,su.store)}var ec=(oc.prototype.addToCollectionParentIndex=function(e,t){return this.Wt.add(t),hu.resolve()},oc.prototype.getCollectionParents=function(e,t){return hu.resolve(this.Wt.getEntries(t))},oc),tc=(ic.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ga(Jr.comparator);return e=!r.has(n),this.index[t]=r.add(n),e},ic.prototype.has=function(e){var t=e.lastSegment();return e=e.popLast(),(t=this.index[t])&&t.has(e)},ic.prototype.getEntries=function(e){return(this.index[e]||new Ga(Jr.comparator)).toArray()},ic),nc=(rc.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(this.jt.has(t))return hu.resolve();var r=t.lastSegment(),i=t.popLast();return e.addOnCommittedListener((function(){n.jt.add(t)})),i={collectionId:r,parent:Bs(i)},ac(e).put(i)},rc.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Vr(t),""],!1,!0);return ac(e).kt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ks(o.parent))}return n}))},rc);function rc(){this.jt=new tc}function ic(){this.index={}}function oc(){this.Wt=new tc}function ac(e){return Pu(e,iu.store)}var sc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uc=(cc.withCacheSize=function(e){return new cc(e,cc.DEFAULT_COLLECTION_PERCENTILE,cc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},cc);function cc(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}function lc(e,t,n){var r=e.store(Ws.store),i=e.store($s.store),o=[],a=(e=IDBKeyRange.only(n.batchId),0);e=r.qt({range:e},(function(e,t,n){return a++,n.delete()})),o.push(e.next((function(){Lr(1===a)})));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],f=$s.key(t,l.key.path,n.batchId);o.push(i.delete(f)),s.push(l.key)}return hu.waitFor(o).next((function(){return s}))}function fc(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Rr();t=e.noDocument}return JSON.stringify(t).length}uc.DEFAULT_COLLECTION_PERCENTILE=10,uc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uc.DEFAULT=new uc(41943040,uc.DEFAULT_COLLECTION_PERCENTILE,uc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uc.DISABLED=new uc(-1,0,0);var hc=(dc.Ht=function(e,t,n,r){return Lr(""!==e.uid),new dc(e.isAuthenticated()?e.uid:"",t,n,r)},dc.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yc(e).qt({index:Ws.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},dc.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=mc(e),a=yc(e);return a.add({}).next((function(s){Lr("number"==typeof s);for(var u,c,l,f,h,d=new Au(s,t,n,r),p=(u=i.D,c=i.userId,f=(l=d).baseMutations.map((function(e){return Os(u.Kt,e)})),h=l.mutations.map((function(e){return Os(u.Kt,e)})),new Ws(c,l.batchId,l.localWriteTime.toMillis(),f,h)),y=[],m=new Ga((function(e,t){return jr(e.canonicalString(),t.canonicalString())})),v=0,g=r;v<g.length;v++){var b=g[v],w=$s.key(i.userId,b.key.path,s);m=m.add(b.key.path.popLast()),y.push(a.put(p)),y.push(o.put(w,$s.PLACEHOLDER))}return m.forEach((function(t){y.push(i.Gt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.zt[s]=d.keys()})),hu.waitFor(y).next((function(){return d}))}))},dc.prototype.lookupMutationBatch=function(e,t){var n=this;return yc(e).get(t).next((function(e){return e?(Lr(e.userId===n.userId),Hu(n.D,e)):null}))},dc.prototype.Jt=function(e,t){var n=this;return this.zt[t]?hu.resolve(this.zt[t]):this.lookupMutationBatch(e,t).next((function(e){return e?(e=e.keys(),n.zt[t]=e):null}))},dc.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=(t=IDBKeyRange.lowerBound([this.userId,r]),null);return yc(e).qt({index:Ws.userMutationsIndex,range:t},(function(e,t,o){t.userId===n.userId&&(Lr(t.batchId>=r),i=Hu(n.D,t)),o.done()})).next((function(){return i}))},dc.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yc(e).qt({index:Ws.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},dc.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yc(e).kt(Ws.userMutationsIndex,n).next((function(e){return e.map((function(e){return Hu(t.D,e)}))}))},dc.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=$s.prefixForPath(this.userId,t.path),i=(r=IDBKeyRange.lowerBound(r),[]);return mc(e).qt({range:r},(function(r,o,a){var s=r[0],u=r[1];if(r=r[2],u=Ks(u),s===n.userId&&t.path.isEqual(u))return yc(e).get(r).next((function(e){if(!e)throw Rr();Lr(e.userId===n.userId),i.push(Hu(n.D,e))}));a.done()})).next((function(){return i}))},dc.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ga(jr),i=[];return t.forEach((function(t){var o=$s.prefixForPath(n.userId,t.path);o=IDBKeyRange.lowerBound(o),o=mc(e).qt({range:o},(function(e,i,o){var a=e[0],s=e[1];e=e[2],s=Ks(s),a===n.userId&&t.path.isEqual(s)?r=r.add(e):o.done()})),i.push(o)})),hu.waitFor(i).next((function(){return n.Yt(e,r)}))},dc.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=(t=$s.prefixForPath(this.userId,r),t=IDBKeyRange.lowerBound(t),new Ga(jr));return mc(e).qt({range:t},(function(e,t,a){var s=e[0],u=e[1];e=e[2],u=Ks(u),s===n.userId&&r.isPrefixOf(u)?u.length===i&&(o=o.add(e)):a.done()})).next((function(){return n.Yt(e,o)}))},dc.prototype.Yt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(yc(e).get(t).next((function(e){if(null===e)throw Rr();Lr(e.userId===n.userId),r.push(Hu(n.D,e))})))})),hu.waitFor(i).next((function(){return r}))},dc.prototype.removeMutationBatch=function(e,t){var n=this;return lc(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Xt(t.batchId)})),hu.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},dc.prototype.Xt=function(e){delete this.zt[e]},dc.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return hu.resolve();n=IDBKeyRange.lowerBound($s.prefixForUser(t.userId));var r=[];return mc(e).qt({range:n},(function(e,n,i){e[0]===t.userId?(e=Ks(e[1]),r.push(e)):i.done()})).next((function(){Lr(0===r.length)}))}))},dc.prototype.containsKey=function(e,t){return pc(e,this.userId,t)},dc.prototype.Zt=function(e){var t=this;return vc(e).get(this.userId).next((function(e){return e||new Qs(t.userId,-1,"")}))},dc);function dc(e,t,n,r){this.userId=e,this.D=t,this.Gt=n,this.referenceDelegate=r,this.zt={}}function pc(e,t,n){var r=(n=$s.prefixForPath(t,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return mc(e).qt({range:n,Bt:!0},(function(e,n,o){var a=e[0],s=e[1];e[2],a===t&&s===r&&(i=!0),o.done()})).next((function(){return i}))}function yc(e){return Pu(e,Ws.store)}function mc(e){return Pu(e,$s.store)}function vc(e){return Pu(e,Qs.store)}var gc=(Ec.prototype.next=function(){return this.te+=2,this.te},Ec.ee=function(){return new Ec(0)},Ec.ne=function(){return new Ec(-1)},Ec),bc=(wc.prototype.allocateTargetId=function(e){var t=this;return this.se(e).next((function(n){var r=new gc(n.highestTargetId);return n.highestTargetId=r.next(),t.ie(e,n).next((function(){return n.highestTargetId}))}))},wc.prototype.getLastRemoteSnapshotVersion=function(e){return this.se(e).next((function(e){return Mo.fromTimestamp(new di(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},wc.prototype.getHighestSequenceNumber=function(e){return this.se(e).next((function(e){return e.highestListenSequenceNumber}))},wc.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.se(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ie(e,i)}))},wc.prototype.addTargetData=function(e,t){var n=this;return this.re(e,t).next((function(){return n.se(e).next((function(r){return r.targetCount+=1,n.oe(t,r),n.ie(e,r)}))}))},wc.prototype.updateTargetData=function(e,t){return this.re(e,t)},wc.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Tc(e).delete(t.targetId)})).next((function(){return n.se(e)})).next((function(t){return Lr(0<t.targetCount),--t.targetCount,n.ie(e,t)}))},wc.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Tc(e).qt((function(a,s){(s=Qu(s)).sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return hu.waitFor(o)})).next((function(){return i}))},wc.prototype.forEachTarget=function(e,t){return Tc(e).qt((function(e,n){n=Qu(n),t(n)}))},wc.prototype.se=function(e){return _c(e).get(ru.key).next((function(e){return Lr(null!==e),e}))},wc.prototype.ie=function(e,t){return _c(e).put(ru.key,t)},wc.prototype.re=function(e,t){return Tc(e).put(Wu(this.D,t))},wc.prototype.oe=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},wc.prototype.getTargetCount=function(e){return this.se(e).next((function(e){return e.targetCount}))},wc.prototype.getTargetData=function(e,t){var n=Vi(t),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return Tc(e).qt({range:n,index:tu.queryTargetsIndexName},(function(e,n,i){n=Qu(n),qi(t,n.target)&&(r=n,i.done())})).next((function(){return r}))},wc.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Sc(e);return t.forEach((function(t){var a=Bs(t.path);i.push(o.put(new nu(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),hu.waitFor(i)},wc.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Sc(e);return hu.forEach(t,(function(t){var o=Bs(t.path);return hu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},wc.prototype.removeMatchingKeysForTargetId=function(e,t){return e=Sc(e),t=IDBKeyRange.bound([t],[t+1],!1,!0),e.delete(t)},wc.prototype.getMatchingKeysForTargetId=function(e,t){t=IDBKeyRange.bound([t],[t+1],!1,!0),e=Sc(e);var n=Za();return e.qt({range:t,Bt:!0},(function(e,t,r){e=Ks(e[1]),e=new ti(e),n=n.add(e)})).next((function(){return n}))},wc.prototype.containsKey=function(e,t){t=Bs(t.path),t=IDBKeyRange.bound([t],[Vr(t)],!1,!0);var n=0;return Sc(e).qt({index:nu.documentTargetsIndex,Bt:!0,range:t},(function(e,t,r){var i=e[0];e[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},wc.prototype.yt=function(e,t){return Tc(e).get(t).next((function(e){return e?Qu(e):null}))},wc);function wc(e,t){this.referenceDelegate=e,this.D=t}function Ec(e){this.te=e}function Tc(e){return Pu(e,tu.store)}function _c(e){return Pu(e,ru.store)}function Sc(e){return Pu(e,nu.store)}function Ic(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){if(e.code!==Yr.FAILED_PRECONDITION||e.message!==lu)throw e;return Or("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function kc(e,t){var n=e[0],r=e[1];return e=t[0],t=t[1],0===(e=jr(n,e))?jr(r,t):e}var xc=(Rc.prototype.ue=function(){return++this.ae},Rc.prototype.he=function(e){var t=[e,this.ue()];this.buffer.size<this.ce?this.buffer=this.buffer.add(t):kc(t,e=this.buffer.last())<0&&(this.buffer=this.buffer.delete(e).add(t))},Object.defineProperty(Rc.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),Rc),Cc=(Ac.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(e)},Ac.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(Ac.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),Ac.prototype.de=function(e){var t=this,n=this.le?3e5:6e4;Or("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return u(t,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return _u(t=n.sent())?(Or("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Ic(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(e)];case 8:return n.sent(),[2]}}))}))}))},Ac),Nc=(Pc.prototype.calculateTargetCount=function(e,t){return this.we._e(e).next((function(e){return Math.floor(t/100*e)}))},Pc.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return hu.resolve(kr.o);var r=new xc(t);return this.we.forEachTarget(e,(function(e){return r.he(e.sequenceNumber)})).next((function(){return n.we.me(e,(function(e){return r.he(e)}))})).next((function(){return r.maxValue}))},Pc.prototype.removeTargets=function(e,t,n){return this.we.removeTargets(e,t,n)},Pc.prototype.removeOrphanedDocuments=function(e,t){return this.we.removeOrphanedDocuments(e,t)},Pc.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Or("LruGarbageCollector","Garbage collection skipped; disabled"),hu.resolve(sc)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Or("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),sc):n.ye(e,t)}))},Pc.prototype.getCacheSize=function(e){return this.we.getCacheSize(e)},Pc.prototype.ye=function(e,t){var n,r,o,a,s,u,c,l=this,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>l.params.maximumSequenceNumbersToCollect?(Or("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),l.params.maximumSequenceNumbersToCollect):t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return o=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),Nr()<=i.DEBUG&&Or("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-f)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),hu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},Pc),Oc=(Dc.prototype._e=function(e){var t=this.ge(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},Dc.prototype.ge=function(e){var t=0;return this.me(e,(function(e){t++})).next((function(){return t}))},Dc.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},Dc.prototype.me=function(e,t){return this.pe(e,(function(e,n){return t(n)}))},Dc.prototype.addReference=function(e,t,n){return Lc(e,n)},Dc.prototype.removeReference=function(e,t,n){return Lc(e,n)},Dc.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},Dc.prototype.markPotentiallyOrphaned=Lc,Dc.prototype.Ee=function(e,t){return r=t,i=!1,vc(n=e).Ut((function(e){return pc(n,e,r).next((function(e){return e&&(i=!0),hu.resolve(!e)}))})).next((function(){return i}));var n,r,i},Dc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(e,(function(a,s){s<=t&&(s=n.Ee(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Sc(e).delete([0,Bs(a.path)])}))})),i.push(s))})).next((function(){return hu.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},Dc.prototype.removeTarget=function(e,t){return t=t.withSequenceNumber(e.currentSequenceNumber),this.db.getTargetCache().updateTargetData(e,t)},Dc.prototype.updateLimboDocument=Lc,Dc.prototype.pe=function(e,t){e=Sc(e);var n,r=kr.o;return e.qt({index:nu.documentTargetsIndex},(function(e,i){var o=e[0];e[1],e=i.path,i=i.sequenceNumber,0===o?(r!==kr.o&&t(new ti(Ks(n)),r),r=i,n=e):r=kr.o})).next((function(){r!==kr.o&&t(new ti(Ks(n)),r)}))},Dc.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},Dc);function Dc(e,t){this.db=e,this.garbageCollector=new Nc(this,t)}function Pc(e,t){this.we=e,this.params=t}function Ac(e,t){this.garbageCollector=e,this.asyncQueue=t,this.le=!1,this.fe=null}function Rc(e){this.ce=e,this.buffer=new Ga(kc),this.ae=0}function Lc(e,t){return Sc(e).put((e=e.currentSequenceNumber,new nu(0,Bs(t.path),e)))}var Mc,Fc=(zc.prototype.get=function(e){var t=this.mapKeyFn(e);if(void 0!==(t=this.inner[t]))for(var n=0,r=t;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.equalsFn(i,e))return o}},zc.prototype.has=function(e){return void 0!==this.get(e)},zc.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},zc.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},zc.prototype.forEach=function(e){Br(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];e(o,a)}}))},zc.prototype.isEmpty=function(){return zr(this.inner)},zc),jc=(Bc.prototype.getReadTime=function(e){return(e=this.changes.get(e))?e.readTime:Mo.min()},Bc.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{maybeDocument:e,readTime:t})},Bc.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{maybeDocument:null,readTime:t})},Bc.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?hu.resolve(n.maybeDocument):this.getFromCache(e,t)},Bc.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},Bc.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},Bc.prototype.assertNotApplied=function(){},It=Bc,qc.prototype.addEntry=function(e,t,n){return Gc(e).put(Hc(t),n)},qc.prototype.removeEntry=function(e,t){return e=Gc(e),t=Hc(t),e.delete(t)},qc.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Te(e,r)}))},qc.prototype.getEntry=function(e,t){var n=this;return Gc(e).get(Hc(t)).next((function(e){return n.Ie(e)}))},qc.prototype.Ae=function(e,t){var n=this;return Gc(e).get(Hc(t)).next((function(e){var t=n.Ie(e);return t?{maybeDocument:t,size:fc(e)}:null}))},qc.prototype.getEntries=function(e,t){var n=this,r=Qa;return this.Re(e,t,(function(e,t){t=n.Ie(t),r=r.insert(e,t)})).next((function(){return r}))},qc.prototype.be=function(e,t){var n=this,r=Qa,i=new ja(ti.comparator);return this.Re(e,t,(function(e,t){var o=n.Ie(t);i=o?(r=r.insert(e,o),i.insert(e,fc(t))):(r=r.insert(e,null),i.insert(e,0))})).next((function(){return{ve:r,Pe:i}}))},qc.prototype.Re=function(e,t,n){if(t.isEmpty())return hu.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Gc(e).qt({range:r},(function(e,t,r){for(var a=ti.fromSegments(e);o&&ti.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},qc.prototype.getDocumentsMatchingQuery=function(e,t,n){var r,i=this,o=Ya,a=t.path.length+1,s={};return n.isEqual(Mo.min())?(r=t.path.toArray(),s.range=IDBKeyRange.lowerBound(r)):(r=t.path.toArray(),n=Bu(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=Zs.collectionReadTimeIndex),Gc(e).qt(s,(function(e,n,r){e.length===a&&(n=Vu(i.D,n),t.path.isPrefixOf(n.key.path)?n instanceof Pi&&Ro(t,n)&&(o=o.insert(n.key,n)):r.done())})).next((function(){return o}))},qc.prototype.newChangeBuffer=function(e){return new Uc(this,!!e&&e.trackRemovals)},qc.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},qc.prototype.getMetadata=function(e){return Kc(e).get(eu.key).next((function(e){return Lr(!!e),e}))},qc.prototype.Te=function(e,t){return Kc(e).put(eu.key,t)},qc.prototype.Ie=function(e){return e?(e=Vu(this.D,e))instanceof Ai&&e.version.isEqual(Mo.min())?null:e:null},qc),Uc=(s(Vc,Mc=It),Vc.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Ga((function(e,t){return jr(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s,u=t.Se.get(o);a.maybeDocument?(s=qu(t.Ve.D,a.maybeDocument,t.getReadTime(o)),i=i.add(o.path.popLast()),a=fc(s),r+=a-u,n.push(t.Ve.addEntry(e,o,s))):(r-=u,t.trackRemovals?(u=qu(t.Ve.D,new Ai(o,Mo.min()),t.getReadTime(o)),n.push(t.Ve.addEntry(e,o,u))):n.push(t.Ve.removeEntry(e,o)))})),i.forEach((function(r){n.push(t.Ve.Gt.addToCollectionParentIndex(e,r))})),n.push(this.Ve.updateMetadata(e,r)),hu.waitFor(n)},Vc.prototype.getFromCache=function(e,t){var n=this;return this.Ve.Ae(e,t).next((function(e){return null===e?(n.Se.set(t,0),null):(n.Se.set(t,e.size),e.maybeDocument)}))},Vc.prototype.getAllFromCache=function(e,t){var n=this;return this.Ve.be(e,t).next((function(e){var t=e.ve;return e.Pe.forEach((function(e,t){n.Se.set(e,t)})),t}))},Vc);function Vc(e,t){var n=this;return(n=Mc.call(this)||this).Ve=e,n.trackRemovals=t,n.Se=new Fc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),n}function qc(e,t){this.D=e,this.Gt=t}function Bc(){this.changes=new Fc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}function zc(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}function Kc(e){return Pu(e,eu.store)}function Gc(e){return Pu(e,Zs.store)}function Hc(e){return e.path.toArray()}var Qc=(Wc.prototype.St=function(e,t,n,r){var i=this;Lr(n<r&&0<=n&&r<=11);var o=new du("createOrUpgrade",t);n<1&&1<=r&&(e.createObjectStore(Gs.store),(a=e).createObjectStore(Qs.store,{keyPath:Qs.keyPath}),a.createObjectStore(Ws.store,{keyPath:Ws.keyPath,autoIncrement:!0}).createIndex(Ws.userMutationsIndex,Ws.userMutationsKeyPath,{unique:!0}),a.createObjectStore($s.store),$c(e),e.createObjectStore(Zs.store));var a,s=hu.resolve();return n<3&&3<=r&&(0!==n&&((a=e).deleteObjectStore(nu.store),a.deleteObjectStore(tu.store),a.deleteObjectStore(ru.store),$c(e)),s=s.next((function(){return e=o.store(ru.store),t=new ru(0,0,Mo.min().toTimestamp(),0),e.put(ru.key,t);var e,t}))),n<4&&4<=r&&(s=(s=0!==n?s.next((function(){return t=e,(n=o).store(Ws.store).kt().next((function(e){t.deleteObjectStore(Ws.store),t.createObjectStore(Ws.store,{keyPath:Ws.keyPath,autoIncrement:!0}).createIndex(Ws.userMutationsIndex,Ws.userMutationsKeyPath,{unique:!0});var r=n.store(Ws.store);return e=e.map((function(e){return r.put(e)})),hu.waitFor(e)}));var t,n})):s).next((function(){e.createObjectStore(ou.store,{keyPath:ou.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.De(o)}))),n<6&&6<=r&&(s=s.next((function(){return e.createObjectStore(eu.store),i.Ce(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.xe(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.Ne(e,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=e).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=t.objectStore(Zs.store)).createIndex(Zs.readTimeIndex,Zs.readTimeIndexPath,{unique:!1}),n.createIndex(Zs.collectionReadTimeIndex,Zs.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(s=s.next((function(){return i.$e(o)}))),n<11&&11<=r?s.next((function(){e.createObjectStore(au.store,{keyPath:au.keyPath}),e.createObjectStore(su.store,{keyPath:su.keyPath})})):s},Wc.prototype.Ce=function(e){var t=0;return e.store(Zs.store).qt((function(e,n){t+=fc(n)})).next((function(){var n=new eu(t);return e.store(eu.store).put(eu.key,n)}))},Wc.prototype.De=function(e){var t=this,n=e.store(Qs.store),r=e.store(Ws.store);return n.kt().next((function(n){return hu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Ws.userMutationsIndex,i).next((function(r){return hu.forEach(r,(function(r){return Lr(r.userId===n.userId),r=Hu(t.D,r),lc(e,n.userId,r).next((function(){}))}))}))}))}))},Wc.prototype.xe=function(e){var t=e.store(nu.store),n=e.store(Zs.store);return e.store(ru.store).get(ru.key).next((function(e){var r=[];return n.qt((function(n,i){var o=new Jr(n);n=[0,Bs(o)],r.push(t.get(n).next((function(n){return n?hu.resolve():t.put(new nu(0,Bs(o),e.highestListenSequenceNumber))})))})).next((function(){return hu.waitFor(r)}))}))},Wc.prototype.Ne=function(e,t){function n(e){if(i.add(e)){var t=e.lastSegment();return e=e.popLast(),r.put({collectionId:t,parent:Bs(e)})}}e.createObjectStore(iu.store,{keyPath:iu.keyPath});var r=t.store(iu.store),i=new tc;return t.store(Zs.store).qt({Bt:!0},(function(e,t){return n((e=new Jr(e)).popLast())})).next((function(){return t.store($s.store).qt({Bt:!0},(function(e,t){e[0];var r=e[1];return n((e[2],r=Ks(r)).popLast())}))}))},Wc.prototype.$e=function(e){var t=this,n=e.store(tu.store);return n.qt((function(e,r){return r=Qu(r),r=Wu(t.D,r),n.put(r)}))},Wc);function Wc(e){this.D=e}function $c(e){e.createObjectStore(nu.store,{keyPath:nu.keyPath}).createIndex(nu.documentTargetsIndex,nu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(tu.store,{keyPath:tu.keyPath}).createIndex(tu.queryTargetsIndexName,tu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ru.store)}var Yc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xc=(Jc.prototype.start=function(){var e=this;return this.Ye().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Xr(Yr.FAILED_PRECONDITION,Yc);return e.Xe(),e.Ze(),e.tn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ge.getHighestSequenceNumber(t)}))})).then((function(t){e.Me=new kr(t,e.Oe)})).then((function(){e.Le=!0})).catch((function(t){return e.je&&e.je.close(),Promise.reject(t)}))},Jc.prototype.en=function(e){var t=this;return this.Ke=function(n){return u(t,void 0,void 0,(function(){return c(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},Jc.prototype.setDatabaseDeletedListener=function(e){var t=this;this.je.Ct((function(n){return u(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},Jc.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget((function(){return u(t,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},Jc.prototype.Ye=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return el(t).put(new ou(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.nn(t).next((function(t){t||(e.isPrimary=!1,e.Fe.enqueueRetryable((function(){return e.Ke(!1)})))}))})).next((function(){return e.sn(t)})).next((function(n){return e.isPrimary&&!n?e.rn(t).next((function(){return!1})):!!n&&e.on(t).next((function(){return!0}))}))})).catch((function(t){if(_u(t))return Or("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Or("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Fe.enqueueRetryable((function(){return e.Ke(t)})),e.isPrimary=t}))},Jc.prototype.nn=function(e){var t=this;return Zc(e).get(Gs.key).next((function(e){return hu.resolve(t.cn(e))}))},Jc.prototype.an=function(e){return el(e).delete(this.clientId)},Jc.prototype.un=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i=this;return c(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Pu(e,ou.store);return t.kt().next((function(e){var n=i.ln(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return hu.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Je)for(t=0,n=e;t<n.length;t++)r=n[t],this.Je.removeItem(this.fn(r.clientId));o.label=2;case 2:return[2]}}))}))},Jc.prototype.tn=function(){var e=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ye().then((function(){return e.un()})).then((function(){return e.tn()}))}))},Jc.prototype.cn=function(e){return!!e&&e.ownerId===this.clientId},Jc.prototype.sn=function(e){var t=this;return this.ke?hu.resolve(!0):Zc(e).get(Gs.key).next((function(n){if(null!==n&&t.hn(n.leaseTimestampMs,5e3)&&!t.dn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new Xr(Yr.FAILED_PRECONDITION,Yc);return!1}}return!(!t.networkEnabled||!t.inForeground)||el(e).kt().next((function(e){return void 0===t.ln(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground;if(e=t.networkEnabled===e.networkEnabled,n||r&&e)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Or("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},Jc.prototype.shutdown=function(){return u(this,void 0,void 0,(function(){var e=this;return c(this,(function(t){switch(t.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Gs.store,ou.store],(function(t){var n=new Ou(t,kr.o);return e.rn(n).next((function(){return e.an(n)}))}))];case 1:return t.sent(),this.je.close(),this.yn(),[2]}}))}))},Jc.prototype.ln=function(e,t){var n=this;return e.filter((function(e){return n.hn(e.updateTimeMs,t)&&!n.dn(e.clientId)}))},Jc.prototype.gn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return el(t).kt().next((function(t){return e.ln(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(Jc.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),Jc.prototype.getMutationQueue=function(e){return hc.Ht(e,this.D,this.Gt,this.referenceDelegate)},Jc.prototype.getTargetCache=function(){return this.Ge},Jc.prototype.getRemoteDocumentCache=function(){return this.ze},Jc.prototype.getIndexManager=function(){return this.Gt},Jc.prototype.getBundleCache=function(){return this.He},Jc.prototype.runTransaction=function(e,t,n){var r=this;Or("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.je.runTransaction(e,o,cu,(function(o){return i=new Ou(o,r.Me?r.Me.next():kr.o),"readwrite-primary"===t?r.nn(i).next((function(e){return!!e||r.sn(i)})).next((function(t){if(!t)throw Dr("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.Ke(!1)})),new Xr(Yr.FAILED_PRECONDITION,lu);return n(i)})).next((function(e){return r.on(i).next((function(){return e}))})):r.pn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},Jc.prototype.pn=function(e){var t=this;return Zc(e).get(Gs.key).next((function(e){if(null!==e&&t.hn(e.leaseTimestampMs,5e3)&&!t.dn(e.ownerId)&&!t.cn(e)&&!(t.ke||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Xr(Yr.FAILED_PRECONDITION,Yc)}))},Jc.prototype.on=function(e){var t=new Gs(this.clientId,this.allowTabSynchronization,Date.now());return Zc(e).put(Gs.key,t)},Jc.At=function(){return pu.At()},Jc.prototype.rn=function(e){var t=this,n=Zc(e);return n.get(Gs.key).next((function(e){return t.cn(e)?(Or("IndexedDbPersistence","Releasing primary lease."),n.delete(Gs.key)):hu.resolve()}))},Jc.prototype.hn=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(Dr("Detected an update time that is in the future: "+e+" > "+n),1))},Jc.prototype.Xe=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Fe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},Jc.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},Jc.prototype.Ze=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Be=function(){t.wn(),t.Fe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Be))},Jc.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},Jc.prototype.dn=function(e){try{var t=null!==(null===(t=this.Je)||void 0===t?void 0:t.getItem(this.fn(e)));return Or("IndexedDbPersistence","Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return Dr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},Jc.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(r){Dr("Failed to set zombie client id.",r)}},Jc.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(r){}},Jc.prototype.fn=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},Jc);function Jc(e,t,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Fe=i,this.window=o,this.document=a,this.Oe=u,this.ke=c,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(e){return Promise.resolve()},!Jc.At())throw new Xr(Yr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Oc(this,r),this.We=t+"main",this.D=new Mu(s),this.je=new pu(this.We,11,new Qc(this.D)),this.Ge=new bc(this.referenceDelegate,this.D),this.Gt=new nc,this.ze=(t=this.D,s=this.Gt,new jc(t,s)),this.He=new Yu,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===c&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function Zc(e){return Pu(e,Gs.store)}function el(e){return Pu(e,ou.store)}function tl(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function nl(e,t){this.progress=e,this.En=t}var rl=(ll.prototype.In=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.An(e,t,r)}))},ll.prototype.An=function(e,t,n){return this.ze.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},ll.prototype.Rn=function(e,t,n){var r=Qa;return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},ll.prototype.bn=function(e,t){var n=this;return this.ze.getEntries(e,t).next((function(t){return n.vn(e,t)}))},ll.prototype.vn=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){r=n.Rn(e,t,r);var i=Qa;return r.forEach((function(e,t){t=t||new Ai(e,Mo.min()),i=i.insert(e,t)})),i}))},ll.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,ti.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Pn(e,t.path):xo(t)?this.Vn(e,t,n):this.Sn(e,t,n);var r},ll.prototype.Pn=function(e,t){return this.In(e,new ti(t)).next((function(e){var t=Ya;return e instanceof Pi?t.insert(e.key,e):t}))},ll.prototype.Vn=function(e,t,n){var r=this,i=t.collectionGroup,o=Ya;return this.Gt.getCollectionParents(e,i).next((function(a){return hu.forEach(a,(function(a){var s=(s=t,a=a.child(i),new wo(a,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.Sn(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},ll.prototype.Sn=function(e,t,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Dn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=(c=s[a]).key,c=ya(c,r.get(u),o.localWriteTime);r=c instanceof Pi?r.insert(u,c):r.remove(u)}}))})).next((function(){return r.forEach((function(e,n){Ro(t,n)||(r=r.remove(e))})),r}))},ll.prototype.Dn=function(e,t,n){for(var r=Za(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ea&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Pi&&(c=c.insert(e,t))})),c}))},ll),il=(cl.Nn=function(e,t){for(var n=Za(),r=Za(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new cl(e,t.fromCache,n,r)},cl),ol=(ul.prototype.$n=function(e){this.Fn=e},ul.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var o=this;return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())||n.isEqual(Mo.min())?this.On(e,t):this.Fn.bn(e,r).next((function(a){var s=o.kn(t,a);return(_o(t)||So(t))&&o.Mn(t.limitType,s,r,n)?o.On(e,t):(Nr()<=i.DEBUG&&Or("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ao(t)),o.Fn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},ul.prototype.kn=function(e,t){var n=new Ga(Lo(e));return t.forEach((function(t,r){r instanceof Pi&&Ro(e,r)&&(n=n.add(r))})),n},ul.prototype.Mn=function(e,t,n,r){return n.size!==t.size||!!(t="F"===e?t.last():t.first())&&(t.hasPendingWrites||0<t.version.compareTo(r))},ul.prototype.On=function(e,t){return Nr()<=i.DEBUG&&Or("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.Fn.getDocumentsMatchingQuery(e,t,Mo.min())},ul),al=(sl.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Bn)}))},sl);function sl(e,t,n,r){this.persistence=e,this.Ln=t,this.D=r,this.Bn=new ja(jr),this.qn=new Fc(Vi,qi),this.Un=Mo.min(),this.Tn=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.Ge=e.getTargetCache(),this.Kn=new rl(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=e.getBundleCache(),this.Ln.$n(this.Kn)}function ul(){}function cl(e,t,n,r){this.targetId=e,this.fromCache=t,this.Cn=n,this.xn=r}function ll(e,t,n){this.ze=e,this.Tn=t,this.Gt=n}function fl(e,t,n,r){return new al(e,t,n,r)}function hl(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o;return c(this,(function(a){switch(a.label){case 0:return r=(n=e).Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.Tn.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new rl(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Za(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var y=p[d];r.push(y.batchId);for(var m=0,v=y.mutations;m<v.length;m++){var g=v[m];a=a.add(g.key)}}return i.bn(e,a).next((function(e){return{Wn:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}}))}))}function dl(e,t){var n=e;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),f=n.Qn.newChangeBuffer({trackRemovals:!0});return r=n,i=e,a=f,u=(s=(o=t).batch).keys(),c=hu.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=t;Lr(null!==(t=o.docVersions.get(e))),(!n||n.version.compareTo(t)<0)&&(n=s.applyToRemoteDocument(e,n,o))&&a.addEntry(n,o.commitVersion)}))})),c.next((function(){return r.Tn.removeMutationBatch(i,s)})).next((function(){return f.apply(e)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,l)}))}))}function pl(e){var t=e;return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ge.getLastRemoteSnapshotVersion(e)}))}function yl(e,t){var n=e,r=t.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);l&&(a.push(n.Ge.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(e,t.addedDocuments,o)}))),0<(c=t.resumeToken).approximateByteSize()&&(s=l.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber),i=i.insert(o,s),u=l,c=t,Lr(0<(l=s).resumeToken.approximateByteSize()),(0===u.resumeToken.approximateByteSize()||3e8<=l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()||0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size)&&a.push(n.Ge.updateTargetData(e,s))))}));var s,u=Qa;return t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(ml(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),r.isEqual(Mo.min())||(s=n.Ge.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ge.setTargetsMetadata(e,e.currentSequenceNumber,r)})),a.push(s)),hu.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Kn.vn(e,u)}))})).then((function(e){return n.Bn=i,e}))}function ml(e,t,n,r,i){var o=Za();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Qa;return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof Ai&&a.version.isEqual(Mo.min())?(t.removeEntry(n,u),o=o.insert(n,a)):null==s||0<a.version.compareTo(s.version)||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Or("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function vl(e,t){var n=e;return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ge.getTargetData(e,t).next((function(i){return i?(r=i,hu.resolve(r)):n.Ge.allocateTargetId(e).next((function(i){return r=new Lu(t,i,0,e.currentSequenceNumber),n.Ge.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Bn.get(e.targetId);return(null===r||0<e.snapshotVersion.compareTo(r.snapshotVersion))&&(n.Bn=n.Bn.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function gl(e,t,n){return u(this,void 0,void 0,(function(){var r,i,o;return c(this,(function(a){switch(a.label){case 0:i=(r=e).Bn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!_u(o=a.sent()))throw o;return Or("LocalStore","Failed to update sequence numbers for target "+t+": "+o),[3,5];case 5:return r.Bn=r.Bn.remove(t),r.qn.delete(i.target),[2]}}))}))}function bl(e,t,n){var r=e,i=Mo.min(),o=Za();return r.persistence.runTransaction("Execute query","readonly",(function(e){return a=r,s=e,u=No(t),(void 0!==(a=(c=a).qn.get(u))?hu.resolve(c.Bn.get(a)):c.Ge.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(e,t,n?i:Mo.min(),n?o:Za())})).next((function(e){return{documents:e,jn:o}}));var a,s,u,c}))}function wl(e,t){var n=e,r=n.Ge;return(e=n.Bn.get(t))?Promise.resolve(e.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.yt(e,t).next((function(e){return e?e.target:null}))}))}function El(e){var t=e;return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.Qn,r=e,e=t.Un,i=n,o=Qa,a=Bu(e),e=Gc(r),r=IDBKeyRange.lowerBound(a,!0),e.qt({index:Zs.readTimeIndex,range:r},(function(e,t){var n=Vu(i.D,t);o=o.insert(n.key,n),a=t.readTime})).next((function(){return{En:o,readTime:zu(a)}}));var n,r,i,o,a})).then((function(e){var n=e.En;return e=e.readTime,t.Un=e,n}))}function Tl(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){return[2,(t=e).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return e=Gc(e),t=Mo.min(),e.qt({index:Zs.readTimeIndex,reverse:!0},(function(e,n,r){n.readTime&&(t=zu(n.readTime)),r.done()})).next((function(){return t}));var t})).then((function(e){t.Un=e}))]}))}))}var _l,Sl,Il=(Hl.prototype.getBundleMetadata=function(e,t){return hu.resolve(this.Jn.get(t))},Hl.prototype.saveBundleMetadata=function(e,t){return this.Jn.set(t.id,{id:t.id,version:t.version,createTime:bs(t.createTime)}),hu.resolve()},Hl.prototype.getNamedQuery=function(e,t){return hu.resolve(this.Yn.get(t))},Hl.prototype.saveNamedQuery=function(e,t){return this.Yn.set(t.name,{name:(t=t).name,query:$u(t.bundledQuery),readTime:bs(t.readTime)}),hu.resolve()},Hl),kl=(Gl.prototype.isEmpty=function(){return this.Xn.isEmpty()},Gl.prototype.addReference=function(e,t){t=new xl(e,t),this.Xn=this.Xn.add(t),this.ts=this.ts.add(t)},Gl.prototype.ns=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},Gl.prototype.removeReference=function(e,t){this.ss(new xl(e,t))},Gl.prototype.rs=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},Gl.prototype.os=function(e){var t=this,n=new ti(new Jr([])),r=new xl(n,e),i=(e=new xl(n,e+1),[]);return this.ts.forEachInRange([r,e],(function(e){t.ss(e),i.push(e.key)})),i},Gl.prototype.cs=function(){var e=this;this.Xn.forEach((function(t){return e.ss(t)}))},Gl.prototype.ss=function(e){this.Xn=this.Xn.delete(e),this.ts=this.ts.delete(e)},Gl.prototype.us=function(e){var t=new ti(new Jr([])),n=new xl(t,e),r=(e=new xl(t,e+1),Za());return this.ts.forEachInRange([n,e],(function(e){r=r.add(e.key)})),r},Gl.prototype.containsKey=function(e){var t=new xl(e,0);return null!==(t=this.Xn.firstAfterOrEqual(t))&&e.isEqual(t.key)},Gl),xl=(Kl.Zn=function(e,t){return ti.comparator(e.key,t.key)||jr(e.hs,t.hs)},Kl.es=function(e,t){return jr(e.hs,t.hs)||ti.comparator(e.key,t.key)},Kl),Cl=(zl.prototype.checkEmpty=function(e){return hu.resolve(0===this.Tn.length)},zl.prototype.addMutationBatch=function(e,t,n,r){var i=this.ls;this.ls++,0<this.Tn.length&&this.Tn[this.Tn.length-1],n=new Au(i,t,n,r),this.Tn.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.fs=this.fs.add(new xl(s.key,i)),this.Gt.addToCollectionParentIndex(e,s.key.path.popLast())}return hu.resolve(n)},zl.prototype.lookupMutationBatch=function(e,t){return hu.resolve(this.ds(t))},zl.prototype.getNextMutationBatchAfterBatchId=function(e,t){return t+=1,t=(t=this.ws(t))<0?0:t,hu.resolve(this.Tn.length>t?this.Tn[t]:null)},zl.prototype.getHighestUnacknowledgedBatchId=function(){return hu.resolve(0===this.Tn.length?-1:this.ls-1)},zl.prototype.getAllMutationBatches=function(e){return hu.resolve(this.Tn.slice())},zl.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new xl(t,0),i=(t=new xl(t,Number.POSITIVE_INFINITY),[]);return this.fs.forEachInRange([r,t],(function(e){e=n.ds(e.hs),i.push(e)})),hu.resolve(i)},zl.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ga(jr);return t.forEach((function(e){var t=new xl(e,0);e=new xl(e,Number.POSITIVE_INFINITY),n.fs.forEachInRange([t,e],(function(e){r=r.add(e.hs)}))})),hu.resolve(this._s(r))},zl.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1;t=n,ti.isDocumentKey(t)||(t=t.child("")),t=new xl(new ti(t),0);var i=new Ga(jr);return this.fs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.hs)),!0)}),t),hu.resolve(this._s(i))},zl.prototype._s=function(e){var t=this,n=[];return e.forEach((function(e){null!==(e=t.ds(e))&&n.push(e)})),n},zl.prototype.removeMutationBatch=function(e,t){var n=this;Lr(0===this.ys(t.batchId,"removed")),this.Tn.shift();var r=this.fs;return hu.forEach(t.mutations,(function(i){var o=new xl(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.fs=r}))},zl.prototype.Xt=function(e){},zl.prototype.containsKey=function(e,t){var n=new xl(t,0);return n=this.fs.firstAfterOrEqual(n),hu.resolve(t.isEqual(n&&n.key))},zl.prototype.performConsistencyCheck=function(e){return this.Tn.length,hu.resolve()},zl.prototype.ys=function(e,t){return this.ws(e)},zl.prototype.ws=function(e){return 0===this.Tn.length?0:e-this.Tn[0].batchId},zl.prototype.ds=function(e){return(e=this.ws(e))<0||e>=this.Tn.length?null:this.Tn[e]},zl),Nl=(Bl.prototype.addEntry=function(e,t,n){var r=t.key,i=(o=this.docs.get(r))?o.size:0,o=this.gs(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:o,readTime:n}),this.size+=o-i,this.Gt.addToCollectionParentIndex(e,r.path.popLast())},Bl.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},Bl.prototype.getEntry=function(e,t){return t=this.docs.get(t),hu.resolve(t?t.maybeDocument:null)},Bl.prototype.getEntries=function(e,t){var n=this,r=Qa;return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),hu.resolve(r)},Bl.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Ya,i=new ti(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=(s=o.getNext()).key,s=(u=s.value).maybeDocument,u=u.readTime;if(!t.path.isPrefixOf(a.path))break;u.compareTo(n)<=0||s instanceof Pi&&Ro(t,s)&&(r=r.insert(s.key,s))}return hu.resolve(r)},Bl.prototype.ps=function(e,t){return hu.forEach(this.docs,(function(e){return t(e)}))},Bl.prototype.newChangeBuffer=function(e){return new Ol(this)},Bl.prototype.getSize=function(e){return hu.resolve(this.size)},Bl),Ol=(s(ql,Sl=It),ql.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(t.Ve.addEntry(e,i.maybeDocument,t.getReadTime(r))):t.Ve.removeEntry(r)})),hu.waitFor(n)},ql.prototype.getFromCache=function(e,t){return this.Ve.getEntry(e,t)},ql.prototype.getAllFromCache=function(e,t){return this.Ve.getEntries(e,t)},ql),Dl=(Vl.prototype.forEachTarget=function(e,t){return this.Es.forEach((function(e,n){return t(n)})),hu.resolve()},Vl.prototype.getLastRemoteSnapshotVersion=function(e){return hu.resolve(this.lastRemoteSnapshotVersion)},Vl.prototype.getHighestSequenceNumber=function(e){return hu.resolve(this.Ts)},Vl.prototype.allocateTargetId=function(e){return this.highestTargetId=this.As.next(),hu.resolve(this.highestTargetId)},Vl.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ts&&(this.Ts=t),hu.resolve()},Vl.prototype.re=function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.As=new gc(t),this.highestTargetId=t),e.sequenceNumber>this.Ts&&(this.Ts=e.sequenceNumber)},Vl.prototype.addTargetData=function(e,t){return this.re(t),this.targetCount+=1,hu.resolve()},Vl.prototype.updateTargetData=function(e,t){return this.re(t),hu.resolve()},Vl.prototype.removeTargetData=function(e,t){return this.Es.delete(t.target),this.Is.os(t.targetId),--this.targetCount,hu.resolve()},Vl.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.Es.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),hu.waitFor(o).next((function(){return i}))},Vl.prototype.getTargetCount=function(e){return hu.resolve(this.targetCount)},Vl.prototype.getTargetData=function(e,t){return t=this.Es.get(t)||null,hu.resolve(t)},Vl.prototype.addMatchingKeys=function(e,t,n){return this.Is.ns(t,n),hu.resolve()},Vl.prototype.removeMatchingKeys=function(e,t,n){this.Is.rs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),hu.waitFor(i)},Vl.prototype.removeMatchingKeysForTargetId=function(e,t){return this.Is.os(t),hu.resolve()},Vl.prototype.getMatchingKeysForTargetId=function(e,t){return t=this.Is.us(t),hu.resolve(t)},Vl.prototype.containsKey=function(e,t){return hu.resolve(this.Is.containsKey(t))},Vl),Pl=(Ul.prototype.start=function(){return Promise.resolve()},Ul.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(Ul.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),Ul.prototype.setDatabaseDeletedListener=function(){},Ul.prototype.setNetworkEnabled=function(){},Ul.prototype.getIndexManager=function(){return this.Gt},Ul.prototype.getMutationQueue=function(e){var t=this.Rs[e.toKey()];return t||(t=new Cl(this.Gt,this.referenceDelegate),this.Rs[e.toKey()]=t),t},Ul.prototype.getTargetCache=function(){return this.Ge},Ul.prototype.getRemoteDocumentCache=function(){return this.ze},Ul.prototype.getBundleCache=function(){return this.He},Ul.prototype.runTransaction=function(e,t,n){var r=this;Or("MemoryPersistence","Starting transaction:",e);var i=new Al(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Ps(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},Ul.prototype.Vs=function(e,t){return hu.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(e,t)}})))},Ul),Al=(s(jl,_l=y),jl),Rl=(Fl.Cs=function(e){return new Fl(e)},Object.defineProperty(Fl.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw Rr()},enumerable:!1,configurable:!0}),Fl.prototype.addReference=function(e,t,n){return this.Ss.addReference(n,t),this.xs.delete(n.toString()),hu.resolve()},Fl.prototype.removeReference=function(e,t,n){return this.Ss.removeReference(n,t),this.xs.add(n.toString()),hu.resolve()},Fl.prototype.markPotentiallyOrphaned=function(e,t){return this.xs.add(t.toString()),hu.resolve()},Fl.prototype.removeTarget=function(e,t){var n=this;this.Ss.os(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},Fl.prototype.vs=function(){this.Ds=new Set},Fl.prototype.Ps=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hu.forEach(this.xs,(function(r){var i=ti.fromPath(r);return t.Ns(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ds=null,n.apply(e)}))},Fl.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ns(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))},Fl.prototype.bs=function(e){return 0},Fl.prototype.Ns=function(e,t){var n=this;return hu.or([function(){return hu.resolve(n.Ss.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Vs(e,t)}])},Fl),Ll=(Ml.prototype.isAuthenticated=function(){return null!=this.uid},Ml.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},Ml.prototype.isEqual=function(e){return e.uid===this.uid},Ml);function Ml(e){this.uid=e}function Fl(e){this.persistence=e,this.Ss=new kl,this.Ds=null}function jl(e){var t=this;return(t=_l.call(this)||this).currentSequenceNumber=e,t}function Ul(e,t){var n=this;this.Rs={},this.Me=new kr(0),this.Le=!1,this.Le=!0,this.referenceDelegate=e(this),this.Ge=new Dl(this),this.Gt=new ec,this.ze=(e=this.Gt,new Nl(e,(function(e){return n.referenceDelegate.bs(e)}))),this.D=new Mu(t),this.He=new Il(this.D)}function Vl(e){this.persistence=e,this.Es=new Fc(Vi,qi),this.lastRemoteSnapshotVersion=Mo.min(),this.highestTargetId=0,this.Ts=0,this.Is=new kl,this.targetCount=0,this.As=gc.ee()}function ql(e){var t=this;return(t=Sl.call(this)||this).Ve=e,t}function Bl(e,t){this.Gt=e,this.gs=t,this.docs=new ja(ti.comparator),this.size=0}function zl(e,t){this.Gt=e,this.referenceDelegate=t,this.Tn=[],this.ls=1,this.fs=new Ga(xl.Zn)}function Kl(e,t){this.key=e,this.hs=t}function Gl(){this.Xn=new Ga(xl.Zn),this.ts=new Ga(xl.es)}function Hl(e){this.D=e,this.Jn=new Map,this.Yn=new Map}function Ql(e,t){return"firestore_clients_"+e+"_"+t}function Wl(e,t,n){return n="firestore_mutations_"+e+"_"+n,t.isAuthenticated()&&(n+="_"+t.uid),n}function $l(e,t){return"firestore_targets_"+e+"_"+t}Ll.UNAUTHENTICATED=new Ll(null),Ll.GOOGLE_CREDENTIALS=new Ll("google-credentials-uid"),Ll.FIRST_PARTY=new Ll("first-party-uid");var Yl,Xl=(Ef.$s=function(e,t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Xr(i.error.code,i.error.message)),o?new Ef(e,t,i.state,r):(Dr("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+n),null)},Ef.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},Ef),Jl=(wf.$s=function(e,t){var n,r=JSON.parse(t),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new Xr(r.error.code,r.error.message)),i?new wf(e,r.state,n):(Dr("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},wf.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},wf),Zl=(bf.$s=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=es,o=0;r&&o<n.activeTargetIds.length;++o)r=Hr(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new bf(e,i):(Dr("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},bf),ef=(gf.$s=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gf(t.clientId,t.onlineState):(Dr("SharedClientState","Failed to parse online state: "+e),null)},gf),tf=(vf.prototype.Os=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},vf.prototype.ks=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},vf.prototype.Fs=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},vf),nf=(mf.At=function(e){return!(!e||!e.localStorage)},mf.prototype.start=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,l,f=this;return c(this,(function(c){switch(c.label){case 0:return[4,this.syncEngine.gn()];case 1:for(o=c.sent(),e=0,t=o;e<t.length;e++)(n=t[e])!==this.Ms&&(r=this.getItem(Ql(this.persistenceKey,n)))&&(i=Zl.$s(n,r))&&(this.qs=this.qs.insert(i.clientId,i));for(this.Js(),(o=this.storage.getItem(this.zs))&&(a=this.Ys(o))&&this.Xs(a),s=0,u=this.Us;s<u.length;s++)l=u[s],this.Bs(l);return this.Us=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},mf.prototype.writeSequenceNumber=function(e){this.setItem(this.Ks,JSON.stringify(e))},mf.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},mf.prototype.isActiveQueryTarget=function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},mf.prototype.addPendingMutation=function(e){this.ti(e,"pending")},mf.prototype.updateMutationState=function(e,t,n){this.ti(e,t,n),this.ei(e)},mf.prototype.addLocalQueryTarget=function(e){var t,n="not-current";return this.isActiveQueryTarget(e)&&(!(t=this.storage.getItem($l(this.persistenceKey,e)))||(t=Jl.$s(e,t))&&(n=t.state)),this.ni.Os(e),this.Js(),n},mf.prototype.removeLocalQueryTarget=function(e){this.ni.ks(e),this.Js()},mf.prototype.isLocalQueryTarget=function(e){return this.ni.activeTargetIds.has(e)},mf.prototype.clearQueryState=function(e){this.removeItem($l(this.persistenceKey,e))},mf.prototype.updateQueryState=function(e,t,n){this.si(e,t,n)},mf.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.ei(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},mf.prototype.setOnlineState=function(e){this.ii(e)},mf.prototype.notifyBundleLoaded=function(){this.ri()},mf.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},mf.prototype.getItem=function(e){var t=this.storage.getItem(e);return Or("SharedClientState","READ",e,t),t},mf.prototype.setItem=function(e,t){Or("SharedClientState","SET",e,t),this.storage.setItem(e,t)},mf.prototype.removeItem=function(e){Or("SharedClientState","REMOVE",e),this.storage.removeItem(e)},mf.prototype.Bs=function(e){var t=this,n=e;n.storageArea===this.storage&&(Or("SharedClientState","EVENT",n.key,n.newValue),n.key!==this.Qs?this.Fe.enqueueRetryable((function(){return u(t,void 0,void 0,(function(){var e,t,r,i;return c(this,(function(o){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return e=this.oi(n.key),[2,this.ci(e,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(t=this.ui(n.key,n.newValue)))return[2,this.hi(t)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(r=this.li(n.key,n.newValue)))return[2,this.fi(r)]}else if(n.key===this.zs){if(null!==n.newValue&&(i=this.Ys(n.newValue)))return[2,this.Xs(i)]}else if(n.key===this.Ks)(i=function(e){var t=kr.o;if(null!=e)try{var n=JSON.parse(e);Lr("number"==typeof n),t=n}catch(e){Dr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==kr.o&&this.sequenceNumberHandler(i);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))})):Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(mf.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),mf.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},mf.prototype.ti=function(e,t,n){n=new Xl(this.currentUser,e,t,n),e=Wl(this.persistenceKey,this.currentUser,e),this.setItem(e,n.Fs())},mf.prototype.ei=function(e){e=Wl(this.persistenceKey,this.currentUser,e),this.removeItem(e)},mf.prototype.ii=function(e){e={clientId:this.Ms,onlineState:e},this.storage.setItem(this.zs,JSON.stringify(e))},mf.prototype.si=function(e,t,n){var r=$l(this.persistenceKey,e);n=new Jl(e,t,n),this.setItem(r,n.Fs())},mf.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},mf.prototype.oi=function(e){return(e=this.Ws.exec(e))?e[1]:null},mf.prototype.ai=function(e,t){return e=this.oi(e),Zl.$s(e,t)},mf.prototype.ui=function(e,t){var n=this.js.exec(e);return e=Number(n[1]),n=void 0!==n[2]?n[2]:null,Xl.$s(new Ll(n),e,t)},mf.prototype.li=function(e,t){return e=this.Gs.exec(e),e=Number(e[1]),Jl.$s(e,t)},mf.prototype.Ys=function(e){return ef.$s(e)},mf.prototype.hi=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(e.batchId,e.state,e.error)]:(Or("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},mf.prototype.fi=function(e){return this.syncEngine._i(e.targetId,e.state,e.error)},mf.prototype.ci=function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.mi(a,s).then((function(){n.qs=r}))},mf.prototype.Xs=function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},mf.prototype.Zs=function(e){var t=es;return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},mf),rf=(yf.prototype.addPendingMutation=function(e){},yf.prototype.updateMutationState=function(e,t,n){},yf.prototype.addLocalQueryTarget=function(e){return this.yi.Os(e),this.gi[e]||"not-current"},yf.prototype.updateQueryState=function(e,t,n){this.gi[e]=t},yf.prototype.removeLocalQueryTarget=function(e){this.yi.ks(e)},yf.prototype.isLocalQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},yf.prototype.clearQueryState=function(e){delete this.gi[e]},yf.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},yf.prototype.isActiveQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},yf.prototype.start=function(){return this.yi=new tf,Promise.resolve()},yf.prototype.handleUserChange=function(e,t,n){},yf.prototype.setOnlineState=function(e){},yf.prototype.shutdown=function(){},yf.prototype.writeSequenceNumber=function(e){},yf.prototype.notifyBundleLoaded=function(){},yf),of=(pf.prototype.pi=function(e){},pf.prototype.shutdown=function(){},pf),af=(df.prototype.pi=function(e){this.Ri.push(e)},df.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},df.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},df.prototype.Ti=function(){Or("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(0)},df.prototype.Ai=function(){Or("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(1)},df.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},df),sf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},uf=(hf.prototype.Vi=function(e){this.Si=e},hf.prototype.Di=function(e){this.Ci=e},hf.prototype.onMessage=function(e){this.xi=e},hf.prototype.close=function(){this.Pi()},hf.prototype.send=function(e){this.vi(e)},hf.prototype.Ni=function(){this.Si()},hf.prototype.$i=function(e){this.Ci(e)},hf.prototype.Fi=function(e){this.xi(e)},hf),cf=(ff.prototype.Mi=function(e,t,n,r){var i=this.Li(e,t);return Or("RestConnection","Sending: ",i,n),t={},this.Bi(t,r),this.qi(e,i,t,n).then((function(e){return Or("RestConnection","Received: ",e),e}),(function(t){throw Pr("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},ff.prototype.Ui=function(e,t,n,r){return this.Mi(e,t,n,r)},ff.prototype.Bi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},ff.prototype.Li=function(e,t){return e=sf[e],this.Oi+"/v1/"+t+":"+e},s(lf,Yl=ff),lf.prototype.qi=function(e,t,n,r){return new Promise((function(i,o){var a=new Ir;a.listenOnce(wr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case br.NO_ERROR:var t=a.getResponseJson();Or("Connection","XHR received:",JSON.stringify(t)),i(t);break;case br.TIMEOUT:Or("Connection",'RPC "'+e+'" timed out'),o(new Xr(Yr.DEADLINE_EXCEEDED,"Request time out"));break;case br.HTTP_ERROR:var n=a.getStatus();Or("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),0<n?(t=a.getResponseJson().error)&&t.status&&t.message?(n=t.status.toLowerCase().replace(/_/g,"-"),n=0<=Object.values(Yr).indexOf(n)?n:Yr.UNKNOWN,o(new Xr(n,t.message))):o(new Xr(Yr.UNKNOWN,"Server responded with status "+a.getStatus())):o(new Xr(Yr.UNAVAILABLE,"Connection failed."));break;default:Rr()}}finally{Or("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},lf.prototype.Qi=function(e,t){var n,r=[this.Oi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=new dr,o=gr();e={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},this.Bi(e.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=v().indexOf("Electron/")||0<=(n=v()).indexOf("MSIE ")||0<=n.indexOf("Trident/")||0<=v().indexOf("MSAppHost/")||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(e.httpHeadersOverwriteParam="$httpHeaders"),Or("Connection","Creating WebChannel: "+(r=r.join("")),e);var a=i.createWebChannel(r,e),s=!1,u=!1,c=new uf({vi:function(e){u?Or("Connection","Not sending because WebChannel is closed:",e):(s||(Or("Connection","Opening WebChannel transport."),a.open(),s=!0),Or("Connection","WebChannel sending:",e),a.send(e))},Pi:function(){return a.close()}});return(e=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))})(a,Sr.EventType.OPEN,(function(){u||Or("Connection","WebChannel transport opened.")})),e(a,Sr.EventType.CLOSE,(function(){u||(u=!0,Or("Connection","WebChannel transport closed"),c.$i())})),e(a,Sr.EventType.ERROR,(function(e){u||(u=!0,Pr("Connection","WebChannel transport errored:",e),c.$i(new Xr(Yr.UNAVAILABLE,"The operation could not be completed")))})),e(a,Sr.EventType.MESSAGE,(function(e){var t,n,r,i;u||(Lr(!!(t=e.data[0])),(n=t.error||(null===(i=t[0])||void 0===i?void 0:i.error))?(Or("Connection","WebChannel received error:",n),r=n.status,e=function(){var e=Na[r];if(void 0!==e)return Fa(e)}(),i=n.message,void 0===e&&(e=Yr.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),u=!0,c.$i(new Xr(e,i)),a.close()):(Or("Connection","WebChannel received:",t),c.Fi(t)))})),e(o,Er.STAT_EVENT,(function(e){e.stat===Tr?Or("Connection","Detected buffering proxy"):e.stat===_r&&Or("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Ni()}),0),c},lf);function lf(e){var t=this;return(t=Yl.call(this,e)||this).forceLongPolling=e.forceLongPolling,t.autoDetectLongPolling=e.autoDetectLongPolling,t}function ff(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Oi=t+"://"+e.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function hf(e){this.vi=e.vi,this.Pi=e.Pi}function df(){var e=this;this.Ei=function(){return e.Ti()},this.Ii=function(){return e.Ai()},this.Ri=[],this.bi()}function pf(){}function yf(){this.yi=new tf,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function mf(e,t,n,r,i){this.window=e,this.Fe=t,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new ja(jr),this.started=!1,this.Us=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Ql(this.persistenceKey,this.Ms),this.Ks="firestore_sequence_number_"+this.persistenceKey,this.qs=this.qs.insert(this.Ms,new tf),this.Ws=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.zs="firestore_online_state_"+this.persistenceKey,this.Hs="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.Ls)}function vf(){this.activeTargetIds=es}function gf(e,t){this.clientId=e,this.onlineState=t}function bf(e,t){this.clientId=e,this.activeTargetIds=t}function wf(e,t,n){this.targetId=e,this.state=t,this.error=n}function Ef(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}function Tf(){return"undefined"!=typeof window?window:null}function _f(){return"undefined"!=typeof document?document:null}function Sf(e){return new ms(e,!0)}function If(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(e){n.enqueueAndForget((function(){return u(o,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return Wf(this)?(Or("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return(t=e).Qr.add(4),[4,qf(t)];case 1:return n.sent(),t.jr.set("Unknown"),t.Qr.delete(4),[4,Vf(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.jr=new Af(n,r)}var kf,xf,Cf,Nf=(Uf.prototype.reset=function(){this.Gi=0},Uf.prototype.Ji=function(){this.Gi=this.ji},Uf.prototype.Yi=function(e){var t=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);0<i&&Or("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return t.Hi=Date.now(),e()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},Uf.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},Uf.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},Uf.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},Uf),Of=(jf.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},jf.prototype.ar=function(){return 2===this.state},jf.prototype.start=function(){3!==this.state?this.auth():this.ur()},jf.prototype.stop=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},jf.prototype.hr=function(){this.state=0,this.rr.reset()},jf.prototype.lr=function(){var e=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return e.dr()})))},jf.prototype.wr=function(e){this._r(),this.stream.send(e)},jf.prototype.dr=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return this.ar()?[2,this.close(0)]:[2]}))}))},jf.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},jf.prototype.close=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===Yr.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):t&&t.code===Yr.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Di(t)];case 1:return n.sent(),[2]}}))}))},jf.prototype.mr=function(){},jf.prototype.auth=function(){var e=this;this.state=1;var t=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(t){e.sr===n&&e.gr(t)}),(function(n){t((function(){var t=new Xr(Yr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)}))}))},jf.prototype.gr=function(e){var t=this,n=this.yr(this.sr);this.stream=this.Er(e),this.stream.Vi((function(){n((function(){return t.state=2,t.listener.Vi()}))})),this.stream.Di((function(e){n((function(){return t.pr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},jf.prototype.ur=function(){var e=this;this.state=4,this.rr.Yi((function(){return u(e,void 0,void 0,(function(){return c(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},jf.prototype.pr=function(e){return Or("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},jf.prototype.yr=function(e){var t=this;return function(n){t.Fe.enqueueAndForget((function(){return t.sr===e?n():(Or("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},s(Ff,Cf=It=jf),Ff.prototype.Er=function(e){return this.er.Qi("Listen",e)},Ff.prototype.onMessage=function(e){this.rr.reset();var t=function(e,t){if("targetChange"in t){t.targetChange;var n="NO_CHANGE"===(o=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:Rr(),r=t.targetChange.targetIds||[],i=(a=t.targetChange.resumeToken,e.V?(Lr(void 0===a||"string"==typeof a),ni.fromBase64String(a||"")):(Lr(void 0===a||a instanceof Uint8Array),ni.fromUint8Array(a||new Uint8Array))),o=(s=t.targetChange.cause)&&(u=void 0===(c=s).code?Yr.UNKNOWN:Fa(c.code),new Xr(u,c.message||"")),a=new os(n,r,i,o||null)}else if("documentChange"in t){t.documentChange,(n=t.documentChange).document,n.document.name,n.document.updateTime,r=_s(e,n.document.name),i=bs(n.document.updateTime);var s=new jo({mapValue:{fields:n.document.fields}}),u=(o=new Pi(r,i,s,{}),n.targetIds||[]),c=n.removedTargetIds||[];a=new rs(u,c,o.key,o)}else if("documentDelete"in t)t.documentDelete,(n=t.documentDelete).document,r=_s(e,n.document),i=n.readTime?bs(n.readTime):Mo.min(),s=new Ai(r,i),o=n.removedTargetIds||[],a=new rs([],o,s.key,s);else if("documentRemove"in t)t.documentRemove,(n=t.documentRemove).document,r=_s(e,n.document),i=n.removedTargetIds||[],a=new rs([],i,r,null);else{if(!("filter"in t))return Rr();t.filter,(t=t.filter).targetId,r=new Ca(n=t.count||0),i=t.targetId,a=new is(i,r)}return a}(this.D,e);return e=function(e){return"targetChange"in e?(e=e.targetChange).targetIds&&e.targetIds.length||!e.readTime?Mo.min():bs(e.readTime):Mo.min()}(e),this.listener.Tr(t,e)},Ff.prototype.Ir=function(e){var t,n,r,i,o={};o.database=ks(this.D),o.addTarget=(t=this.D,(r=Bi(r=(n=e).target)?{documents:Ps(t,r)}:{query:As(t,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=gs(t,n.resumeToken):0<n.snapshotVersion.compareTo(Mo.min())&&(r.readTime=vs(t,n.snapshotVersion.toTimestamp())),r),this.D,i=e,(e=null==(e=function(){switch(i.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rr()}}())?null:{"goog-listen-tags":e})&&(o.labels=e),this.wr(o)},Ff.prototype.Ar=function(e){var t={};t.database=ks(this.D),t.removeTarget=e,this.wr(t)},Ff),Df=(s(Mf,xf=It),Object.defineProperty(Mf.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),Mf.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,xf.prototype.start.call(this)},Mf.prototype.mr=function(){this.Rr&&this.vr([])},Mf.prototype.Er=function(e){return this.er.Qi("Write",e)},Mf.prototype.onMessage=function(e){if(Lr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=(n=e.writeResults,r=e.commitTime,n&&0<n.length?(Lr(void 0!==r),n.map((function(e){return n=r,(e=(t=e).updateTime?bs(t.updateTime):bs(n)).isEqual(Mo.min())&&(e=bs(n)),new la(e,t.transformResults||[]);var t,n}))):[]),n=bs(e.commitTime);return this.listener.Pr(n,t)}var r;return Lr(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()},Mf.prototype.Sr=function(){var e={};e.database=ks(this.D),this.wr(e)},Mf.prototype.vr=function(e){var t=this;e={streamToken:this.lastStreamToken,writes:e.map((function(e){return Os(t.D,e)}))},this.wr(e)},Mf),Pf=(s(Lf,kf=function(){}),Lf.prototype.Cr=function(){if(this.Dr)throw new Xr(Yr.FAILED_PRECONDITION,"The client has already been terminated.")},Lf.prototype.Mi=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(e,t,n,i)})).catch((function(e){throw e.code===Yr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},Lf.prototype.Ui=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(e,t,n,i)})).catch((function(e){throw e.code===Yr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},Lf.prototype.terminate=function(){this.Dr=!1},Lf),Af=(Rf.prototype.Or=function(){var e=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.$r=null,e.Mr("Backend didn't respond within 10 seconds."),e.kr("Offline"),Promise.resolve()})))},Rf.prototype.Lr=function(e){"Online"===this.state?this.kr("Unknown"):(this.Nr++,1<=this.Nr&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+e.toString()),this.kr("Offline")))},Rf.prototype.set=function(e){this.Br(),this.Nr=0,"Online"===e&&(this.Fr=!1),this.kr(e)},Rf.prototype.kr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},Rf.prototype.Mr=function(e){e="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Fr?(Dr(e),this.Fr=!1):Or("OnlineStateTracker",e)},Rf.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},Rf);function Rf(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}function Lf(e,t,n){var r=this;return(r=kf.call(this)||this).credentials=e,r.er=t,r.D=n,r.Dr=!1,r}function Mf(e,t,n,r,i){var o=this;return(o=xf.call(this,e,"write_stream_connection_backoff","write_stream_idle",t,n,i)||this).D=r,o.Rr=!1,o}function Ff(e,t,n,r,i){var o=this;return(o=Cf.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i)||this).D=r,o}function jf(e,t,n,r,i,o){this.Fe=e,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Nf(e,t)}function Uf(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=e,this.timerId=t,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}function Vf(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:if(!Wf(e))return[3,4];t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function qf(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Bf(e,t){e.Ur.has(t.targetId)||(e.Ur.set(t.targetId,t),Qf(e)?Hf(e):rh(e).ar()&&Kf(e,t))}function zf(e,t){var n=e;e=rh(n),n.Ur.delete(t),e.ar()&&Gf(n,t),0===n.Ur.size&&(e.ar()?e.lr():Wf(n)&&n.jr.set("Unknown"))}function Kf(e,t){e.Gr.H(t.targetId),rh(e).Ir(t)}function Gf(e,t){e.Gr.H(t),rh(e).Ar(t)}function Hf(e){e.Gr=new ss({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},yt:function(t){return e.Ur.get(t)||null}}),rh(e).start(),e.jr.Or()}function Qf(e){return Wf(e)&&!rh(e).cr()&&0<e.Ur.size}function Wf(e){return 0===e.Qr.size}function $f(e){e.Gr=void 0}function Yf(e,t,n){return u(this,void 0,void 0,(function(){var r,i;return c(this,(function(o){switch(o.label){case 0:if(e.jr.set("Online"),!(t instanceof os&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o;return c(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Ur.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Ur.delete(o),e.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Or("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Xf(e,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof rs?e.Gr.st(t):t instanceof is?e.Gr.ht(t):e.Gr.ot(t),n.isEqual(Mo.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,pl(e.localStore)];case 8:return i=o.sent(),0<=n.compareTo(i)?[4,(s=n,(l=(a=e).Gr.dt(s)).targetChanges.forEach((function(e,t){var n;0<e.resumeToken.approximateByteSize()&&(n=a.Ur.get(t))&&a.Ur.set(t,n.withResumeToken(e.resumeToken,s))})),l.targetMismatches.forEach((function(e){var t=a.Ur.get(e);t&&(a.Ur.set(e,t.withResumeToken(ni.EMPTY_BYTE_STRING,t.snapshotVersion)),Gf(a,e),t=new Lu(t.target,e,1,t.sequenceNumber),Kf(a,t))})),a.remoteSyncer.applyRemoteEvent(l))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Or("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,Xf(e,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,l}))}))}function Xf(e,t,n){return u(this,void 0,void 0,(function(){var r=this;return c(this,(function(i){switch(i.label){case 0:if(!_u(t))throw t;return e.Qr.add(1),[4,qf(e)];case 1:return i.sent(),e.jr.set("Offline"),n=n||function(){return pl(e.localStore)},e.asyncQueue.enqueueRetryable((function(){return u(r,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return Or("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Qr.delete(1),[4,Vf(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Jf(e,t){return t().catch((function(n){return Xf(e,n,t)}))}function Zf(e){return u(this,void 0,void 0,(function(){var t,n,r,i;return c(this,(function(o){switch(o.label){case 0:n=ih(t=e),r=0<t.qr.length?t.qr[t.qr.length-1].batchId:-1,o.label=1;case 1:if(!(Wf(t)&&t.qr.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=t.localStore,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===s&&(s=-1),u.Tn.getNextMutationBatchAfterBatchId(e,s)})))];case 3:return null===(i=o.sent())?(0===t.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(e,t){e.qr.push(t),(e=ih(e)).ar()&&e.br&&e.vr(t.mutations)}(t,i),[3,6]);case 4:return i=o.sent(),[4,Xf(t,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return eh(t)&&th(t),[2]}var a,s,u}))}))}function eh(e){return Wf(e)&&!ih(e).cr()&&0<e.qr.length}function th(e){ih(e).start()}function nh(e,t){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return n=e,t?(n.Qr.delete(2),[4,Vf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Qr.add(2),[4,qf(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function rh(e){var t,n,r,i=this;return e.zr||(e.zr=(t=e.datastore,n=e.asyncQueue,r={Vi:function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return e.Ur.forEach((function(t,n){Kf(e,t)})),[2]}))}))}.bind(null,e),Di:function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return $f(e),Qf(e)?(e.jr.Lr(t),Hf(e)):e.jr.set("Unknown"),[2]}))}))}.bind(null,e),Tr:Yf.bind(null,e)},t.Cr(),new Of(n,t.er,t.credentials,t.D,r)),e.Kr.push((function(t){return u(i,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return t?(e.zr.hr(),Qf(e)?Hf(e):e.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.zr.stop()];case 2:n.sent(),$f(e),n.label=3;case 3:return[2]}}))}))}))),e.zr}function ih(e){var t,n,r,i=this;return e.Hr||(e.Hr=(t=e.datastore,n=e.asyncQueue,r={Vi:function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return ih(e).Sr(),[2]}))}))}.bind(null,e),Di:function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return t&&ih(e).br?[4,function(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return Ma(r=t.code)&&r!==Yr.ABORTED?(n=e.qr.shift(),ih(e).hr(),[4,Jf(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Zf(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return eh(e)&&th(e),[2]}}))}))}.bind(null,e),Vr:function(e){return u(this,void 0,void 0,(function(){var t,n,r,i;return c(this,(function(o){for(t=ih(e),n=0,r=e.qr;n<r.length;n++)i=r[n],t.vr(i.mutations);return[2]}))}))}.bind(null,e),Pr:function(e,t,n){return u(this,void 0,void 0,(function(){var r,i;return c(this,(function(o){switch(o.label){case 0:return r=e.qr.shift(),i=Ru.from(r,t,n),[4,Jf(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Zf(e)];case 2:return o.sent(),[2]}}))}))}.bind(null,e)},t.Cr(),new Df(n,t.er,t.credentials,t.D,r)),e.Kr.push((function(t){return u(i,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return t?(e.Hr.hr(),[4,Zf(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Hr.stop()];case 3:n.sent(),0<e.qr.length&&(Or("RemoteStore","Stopping write stream with "+e.qr.length+" pending writes"),e.qr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Hr}var oh=(ah.createAndSchedule=function(e,t,n,r,i){return(i=new ah(e,t,Date.now()+n,r,i)).start(n),i},ah.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},ah.prototype.skipDelay=function(){return this.handleDelayElapsed()},ah.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xr(Yr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},ah.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},ah.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},ah);function ah(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}function sh(e,t){if(Dr("AsyncQueue",t+": "+e),_u(e))return new Xr(Yr.UNAVAILABLE,t+": "+e);throw e}function uh(){this.queries=new Fc(Po,Do),this.onlineState="Unknown",this.Zr=new Set}var ch=(yh.emptySet=function(e){return new yh(e.comparator)},yh.prototype.has=function(e){return null!=this.keyedMap.get(e)},yh.prototype.get=function(e){return this.keyedMap.get(e)},yh.prototype.first=function(){return this.sortedSet.minKey()},yh.prototype.last=function(){return this.sortedSet.maxKey()},yh.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},yh.prototype.indexOf=function(e){return(e=this.keyedMap.get(e))?this.sortedSet.indexOf(e):-1},Object.defineProperty(yh.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),yh.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},yh.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},yh.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},yh.prototype.isEqual=function(e){if(!(e instanceof yh))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},yh.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},yh.prototype.copy=function(e,t){var n=new yh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},yh),lh=(ph.prototype.track=function(e){var t=e.doc.key,n=this.Jr.get(t);!n||0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Rr()},ph.prototype.Yr=function(){var e=[];return this.Jr.inorderTraversal((function(t,n){e.push(n)})),e},ph),fh=(dh.fromInitialDocuments=function(e,t,n,r){var i=[];return t.forEach((function(e){i.push({type:0,doc:e})})),new dh(e,t,ch.emptySet(t),i,n,r,!0,!1)},Object.defineProperty(dh.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),dh.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Do(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},dh),hh=function(){this.Xr=void 0,this.listeners=[]};function dh(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}function ph(){this.Jr=new ja(ti.comparator)}function yh(e){this.comparator=e?function(t,n){return e(t,n)||ti.comparator(t.key,n.key)}:function(e,t){return ti.comparator(e.key,t.key)},this.keyedMap=Ya,this.sortedSet=new ja(this.comparator)}function mh(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a;return c(this,(function(s){switch(s.label){case 0:if(n=e,r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new hh),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=s.sent(),[3,4];case 3:return a=sh(a=s.sent(),"Initialization of query '"+Ao(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&gh(n),[2]}}))}))}function vh(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a;return c(this,(function(s){return n=e,r=t.query,i=!1,(o=n.queries.get(r))&&0<=(a=o.listeners.indexOf(t))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function gh(e){e.Zr.forEach((function(e){e.next()}))}var bh=(kh.prototype.no=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new fh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.io?this.oo(e)&&(this.so.next(e),o=!0):this.co(e,this.onlineState)&&(this.ao(e),o=!0),this.ro=e,o},kh.prototype.onError=function(e){this.so.error(e)},kh.prototype.eo=function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.co(this.ro,e)&&(this.ao(this.ro),t=!0),t},kh.prototype.co=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)},kh.prototype.oo=function(e){if(0<e.docChanges.length)return!0;var t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},kh.prototype.ao=function(e){e=fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)},kh),wh=(Ih.prototype.ho=function(){return"metadata"in this.payload},Ih),Eh=(Sh.prototype.Gn=function(e){return _s(this.D,e)},Sh.prototype.zn=function(e){return e.metadata.exists?Ns(this.D,e.document,!1):new Ai(this.Gn(e.metadata.name),this.Hn(e.metadata.readTime))},Sh.prototype.Hn=bs,Sh),Th=(_h.prototype.fo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},_h.prototype.wo=function(e){for(var t=new Map,n=new Eh(this.D),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Za()).add(a);t.set(c,l)}}return t},_h.prototype.complete=function(){return u(this,void 0,void 0,(function(){var e,t,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,function(e,t,n,r){return u(this,void 0,void 0,(function(){var i,o,a,s,u,l,f,h,d,p;return c(this,(function(c){switch(c.label){case 0:for(i=e,o=Za(),a=Qa,s=Xa,u=0,l=n;u<l.length;u++)f=l[u],h=t.Gn(f.metadata.name),f.document&&(o=o.add(h)),a=a.insert(h,t.zn(f)),s=s.insert(h,t.Hn(f.metadata.readTime));return d=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,vl(i,No(To(Jr.fromString("__bundle__/docs/"+r))))];case 1:return p=c.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ml(e,d,a,Mo.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return i.Ge.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return i.Ge.addMatchingKeys(e,o,p.targetId)})).next((function(){return i.Kn.vn(e,t)}))}))}))]}}))}))}(this.localStore,new Eh(this.D),this.documents,this.lo.id)];case 1:e=i.sent(),t=this.wo(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(r=r[n],[4,function(e,t,n){return void 0===n&&(n=Za()),u(this,void 0,void 0,(function(){var r,i;return c(this,(function(o){switch(o.label){case 0:return[4,vl(e,No($u(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=e).persistence.runTransaction("Save named query","readwrite",(function(e){var o=bs(t.readTime);return 0<=r.snapshotVersion.compareTo(o)?i.He.saveNamedQuery(e,t):(o=r.withResumeToken(ni.EMPTY_BYTE_STRING,o),i.Bn=i.Bn.insert(o.targetId,o),i.Ge.updateTargetData(e,o).next((function(){return i.Ge.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.Ge.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.He.saveNamedQuery(e,t)})))}))]}}))}))}(this.localStore,r,t.get(r.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new nl(Object.assign({},this.progress),e))]}}))}))},_h);function _h(e,t,n){this.lo=e,this.localStore=t,this.D=n,this.queries=[],this.documents=[],this.progress=xh(e)}function Sh(e){this.D=e}function Ih(e,t){this.payload=e,this.byteLength=t}function kh(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}function xh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Ch=function(e){this.key=e},Nh=function(e){this.key=e},Oh=(Object.defineProperty(Lh.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),Lh.prototype.Io=function(e,t){var n=this,r=t?t.Ao:new lh,i=(t||this).Eo,o=(t||this).mutatedKeys,a=i,s=!1,u=_o(this.query)&&i.size===this.query.limit?i.last():null,c=So(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=(f=t instanceof Pi?t:null)&&(Ro(n.query,f)?f:null),h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations);t=!1,l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),t=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),t=!0,(u&&0<n.po(f,u)||c&&n.po(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),t=!0):l&&!f&&(r.track({type:1,doc:l}),t=!0,(u||c)&&(s=!0)),t&&(o=f?(a=a.add(f),d?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))})),_o(this.query)||So(this.query))for(;a.size>this.query.limit;){var l=_o(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},Lh.prototype.Ro=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},Lh.prototype.applyChanges=function(e,t,n){var r=this,i=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;var o=e.Ao.Yr();o.sort((function(e,t){return i=e.type,o=t.type,n(i)-n(o)||r.po(e.doc,t.doc);function n(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rr()}}var i,o})),this.bo(n);var a=t?this.vo():[];return t=(n=0===this.yo.size&&this.current?1:0)!==this.mo,this.mo=n,0!==o.length||t?{snapshot:new fh(this.query,e.Eo,i,o,e.mutatedKeys,0==n,t,!1),Po:a}:{Po:a}},Lh.prototype.eo=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new lh,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},Lh.prototype.Vo=function(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations},Lh.prototype.bo=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._o=t._o.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t._o=t._o.delete(e)})),this.current=e.current)},Lh.prototype.vo=function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=Za(),this.Eo.forEach((function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))}));var n=[];return t.forEach((function(t){e.yo.has(t)||n.push(new Nh(t))})),this.yo.forEach((function(e){t.has(e)||n.push(new Ch(e))})),n},Lh.prototype.So=function(e){return this._o=e.jn,this.yo=Za(),e=this.Io(e.documents),this.applyChanges(e,!0)},Lh.prototype.Do=function(){return fh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},Lh),Dh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Ph=function(e){this.key=e,this.Co=!1},Ah=(Object.defineProperty(Rh.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),Rh);function Rh(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Fc(Po,Do),this.$o=new Map,this.Fo=new Set,this.Oo=new ja(ti.comparator),this.ko=new Map,this.Mo=new kl,this.Lo={},this.Bo=new Map,this.qo=gc.ne(),this.onlineState="Unknown",this.Uo=void 0}function Lh(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Za(),this.mutatedKeys=Za(),this.po=Lo(e),this.Eo=new ch(this.po)}function Mh(e,t,n,r){return u(this,void 0,void 0,(function(){var i,o,a;return c(this,(function(s){switch(s.label){case 0:return e.Qo=function(t,n,r){return function(e,t,n,r){return u(this,void 0,void 0,(function(){var i,o;return c(this,(function(a){switch(a.label){case 0:return(i=t.view.Io(n)).Mn?[4,bl(e.localStore,t.query,!1).then((function(e){return e=e.documents,t.view.Io(e,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Hh(e,t.targetId,o.Po),o.snapshot)]}}))}))}(e,t,n,r)},[4,bl(e.localStore,t,!0)];case 1:return o=s.sent(),a=new Oh(t,o.jn),i=a.Io(o.documents),o=ns.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),o=a.applyChanges(i,e.isPrimaryClient,o),Hh(e,n,o.Po),a=new Dh(t,n,a),[2,(e.No.set(t,a),e.$o.has(n)?e.$o.get(n).push(t):e.$o.set(n,[t]),o.snapshot)]}}))}))}function Fh(e,t,n){return u(this,void 0,void 0,(function(){var r,i;return c(this,(function(o){switch(o.label){case 0:i=td(e),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.localStore,l=t,h=c,d=di.now(),p=l.reduce((function(e,t){return e.add(t.key)}),Za()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return h.Kn.bn(e,p).next((function(t){f=t;for(var n,r=[],i=0,o=l;i<o.length;i++){var a=o[i],s=(n=a,s=f.get(a.key),function(e,t){for(var n=null,r=0,i=e;r<i.length;r++){var o=i[r],a=t instanceof Pi?t.field(o.field):void 0;null!=(a=Qo(o.transform,a||null))&&(n=(null==n?new Uo:n).set(o.field,a))}return n?n.v():null}(n.fieldTransforms,s));null!=s&&r.push(new Ea(a.key,s,function e(t){var n=[];return Br(t.fields||{},(function(t,r){var i=new ei([t]);if(Ci(r))if(0===(r=e(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)})),new Fo(n)}(s.proto.mapValue),ha.exists(!0)))}return h.Tn.addMutationBatch(e,d,r,l)}))})).then((function(e){var t=e.applyToLocalDocumentSet(f);return{batchId:e.batchId,changes:t}})))];case 2:return r=o.sent(),i.sharedClientState.addPendingMutation(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.Lo[a.currentUser.toKey()])||new ja(jr)).insert(s,u),a.Lo[a.currentUser.toKey()]=c,[4,Wh(i,r.changes)];case 3:return o.sent(),[4,Zf(i.remoteStore)];case 4:return o.sent(),[3,6];case 5:return i=sh(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,f,h,d,p}))}))}function jh(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:n=e,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,yl(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){(t=n.ko.get(t))&&(Lr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),0<e.addedDocuments.size?t.Co=!0:0<e.modifiedDocuments.size?Lr(t.Co):0<e.removedDocuments.size&&(Lr(t.Co),t.Co=!1))})),[4,Wh(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ic(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Uh(e,t,n){var r;((e=e).isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n)&&(r=[],e.No.forEach((function(e,n){(n=n.view.eo(t)).snapshot&&r.push(n.snapshot)})),function(e,t){e.onlineState=t;var n=!1;e.queries.forEach((function(e,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].eo(t)&&(n=!0)})),n&&gh(e)}(e.eventManager,t),r.length&&e.xo.Tr(r),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t))}function Vh(e,t,n){return u(this,void 0,void 0,(function(){var r,i;return c(this,(function(o){switch(o.label){case 0:r=e,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u.Tn.lookupMutationBatch(e,s).next((function(n){return Lr(null!==n),t=n.keys(),u.Tn.removeMutationBatch(e,n)})).next((function(){return u.Tn.performConsistencyCheck(e)})).next((function(){return u.Kn.bn(e,t)}))})))];case 2:return i=o.sent(),zh(r,t,n),Bh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Wh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ic(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function qh(e,t){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:Wf((n=e).remoteStore)||Or("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return a.Tn.getHighestUnacknowledgedBatchId(e)}))];case 2:return-1===(r=o.sent())?[2,void t.resolve()]:((i=n.Bo.get(r)||[]).push(t),n.Bo.set(r,i),[3,4]);case 3:return i=sh(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}var a}))}))}function Bh(e,t){(e.Bo.get(t)||[]).forEach((function(e){e.resolve()})),e.Bo.delete(t)}function zh(e,t,n){var r=e,i=r.Lo[r.currentUser.toKey()];i&&((e=i.get(t))&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i)}function Kh(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.$o.get(t);r<i.length;r++){var o=i[r];e.No.delete(o),n&&e.xo.Ko(o,n)}e.$o.delete(t),e.isPrimaryClient&&e.Mo.os(t).forEach((function(t){e.Mo.containsKey(t)||Gh(e,t)}))}function Gh(e,t){e.Fo.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(zf(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.ko.delete(n),Qh(e))}function Hh(e,t,n){for(var r,i,o,a=0,s=n;a<s.length;a++){var u=s[a];u instanceof Ch?(e.Mo.addReference(u.key,t),r=e,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Oo.get(o)||r.Fo.has(i)||(Or("SyncEngine","New document in limbo: "+o),r.Fo.add(i),Qh(r))):u instanceof Nh?(Or("SyncEngine","Document no longer in limbo: "+u.key),e.Mo.removeReference(u.key,t),e.Mo.containsKey(u.key)||Gh(e,u.key)):Rr()}}function Qh(e){for(;0<e.Fo.size&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.Fo.values().next().value;e.Fo.delete(t);var n=new ti(Jr.fromString(t));t=e.qo.next(),e.ko.set(t,new Ph(n)),e.Oo=e.Oo.insert(n,t),Bf(e.remoteStore,new Lu(No(To(n.path)),t,2,kr.o))}}function Wh(e,t,n){return u(this,void 0,void 0,(function(){var r,i,o,a;return c(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=e).No.isEmpty()?[3,3]:(r.No.forEach((function(e,s){a.push(r.Qo(s,t,n).then((function(e){e&&(r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e),e=il.Nn(s.targetId,e),o.push(e))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return c(this,(function(c){switch(c.label){case 0:n=e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return hu.forEach(t,(function(t){return hu.forEach(t.Cn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return hu.forEach(t.xn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!_u(r=c.sent()))throw r;return Or("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.Bn.get(a),u=s.snapshotVersion,u=s.withLastLimboFreeSnapshotVersion(u),n.Bn=n.Bn.insert(a,u));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function $h(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return(n=e).currentUser.isEqual(t)?[3,3]:(Or("SyncEngine","User change. New user:",t.toKey()),[4,hl(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).Bo.forEach((function(e){e.forEach((function(e){e.reject(new Xr(Yr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Bo.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Wh(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function Yh(e,t,n,r){return u(this,void 0,void 0,(function(){var i,o;return c(this,(function(a){switch(a.label){case 0:return[4,(s=(i=e).localStore,u=t,l=(c=s).Tn,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.Jt(e,u).next((function(t){return t?c.Kn.bn(e,t):hu.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Zf(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(zh(i,t,r||null),Bh(i,t),i.localStore.Tn.Xt(t)):Rr(),a.label=4;case 4:return[4,Wh(i,o)];case 5:return a.sent(),[3,7];case 6:Or("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function Xh(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l;return c(this,(function(c){switch(c.label){case 0:return ed(n=e),td(n),!0!==t||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Jh(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,nh(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)s=a[o],Bf(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Uo?[3,7]:(u=[],l=Promise.resolve(),n.$o.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):l=l.then((function(){return Kh(n,t),gl(n.localStore,t,!0)})),zf(n.remoteStore,t)})),[4,l]);case 4:return c.sent(),[4,Jh(n,u)];case 5:return c.sent(),(f=n).ko.forEach((function(e,t){zf(f.remoteStore,t)})),f.Mo.cs(),f.ko=new Map,f.Oo=new ja(ti.comparator),n.Uo=!1,[4,nh(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}var f}))}))}function Jh(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,f,h,d,p,y;return c(this,(function(m){switch(m.label){case 0:n=e,r=[],i=[],o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],l=void 0,(f=n.$o.get(s))&&0!==f.length?[4,vl(n.localStore,No(f[0]))]:[3,7]):[3,13];case 2:l=m.sent(),h=0,d=f,m.label=3;case 3:return h<d.length?(p=d[h],p=n.No.get(p),[4,function(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return[4,bl((n=e).localStore,t.query,!0)];case 1:return r=i.sent(),r=t.view.So(r),[2,(n.isPrimaryClient&&Hh(n,t.targetId,r.Po),r)]}}))}))}(n,p)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,wl(n.localStore,s)];case 8:return y=m.sent(),[4,vl(n.localStore,y)];case 9:return l=m.sent(),[4,Mh(n,Zh(y),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(l),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function Zh(e){return Eo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ed(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=jh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=e;if((e=n.ko.get(t))&&e.Co)return Za().add(e.key);var r=Za();if(!(t=n.$o.get(t)))return r;for(var i=0,o=t;i<o.length;i++){var a=o[i];a=n.No.get(a),r=r.unionWith(a.view.To)}return r}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,o,a;return c(this,(function(s){switch(s.label){case 0:return(r=e).sharedClientState.updateQueryState(t,"rejected",n),a=r.ko.get(t),(i=a&&a.key)?(o=(o=new ja(ti.comparator)).insert(i,new Ai(i,Mo.min())),a=Za().add(i),a=new ts(Mo.min(),new Map,new Ga(jr),o,a),[4,jh(r,a)]):[3,2];case 1:return s.sent(),r.Oo=r.Oo.remove(i),r.ko.delete(t),Qh(r),[3,4];case 2:return[4,gl(r.localStore,t,!1).then((function(){return Kh(r,t,n)})).catch(Ic)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}.bind(null,e),e.xo.Tr=function(e,t){for(var n=e,r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query;if(s=n.queries.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].no(a)&&(r=!0);s.Xr=a}}r&&gh(n)}.bind(null,e.eventManager),e.xo.Ko=function(e,t,n){var r=e;if(e=r.queries.get(t))for(var i=0,o=e.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(t)}.bind(null,e.eventManager),e}function td(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:n=e,r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,dl(n.localStore,t)];case 2:return i=o.sent(),zh(n,r,null),Bh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Wh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ic(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vh.bind(null,e),e}function nd(e,t,n){var r=e;(function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,o,a,s;return c(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=u.sent(),[4,(f=e.localStore,d=f,p=bs((h=r).createTime),d.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return d.He.getBundleMetadata(e,h.id)})).then((function(e){return!!e&&0<=e.createTime.compareTo(p)})))];case 2:return u.sent()?[4,t.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith({taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}))];case 4:return n._updateProgress(xh(r)),i=new Th(r,e.localStore,t.D),[4,t.Wo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.fo(o)]:[3,10];case 7:return(a=u.sent())&&n._updateProgress(a),[4,t.Wo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=u.sent(),[4,Wh(e,s.En,void 0)];case 12:return u.sent(),[4,(f=e.localStore,c=r,(l=f).persistence.runTransaction("Save bundle","readwrite",(function(e){return l.He.saveBundleMetadata(e,c)})))];case 13:return u.sent(),n._completeWith(s.progress),[3,15];case 14:return Pr("SyncEngine","Loading bundle failed with "+(s=u.sent())),n._failWith(s),[3,15];case 15:return[2]}var c,l,f,h,d,p}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var rd,id,od=(hd.prototype.initialize=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.D=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.jo(e),this.persistence=this.Go(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e),[2]}}))}))},hd.prototype.zo=function(e){return null},hd.prototype.Ho=function(e){return fl(this.persistence,new ol,e.initialUser,this.D)},hd.prototype.Go=function(e){return new Pl(Rl.Cs,this.D)},hd.prototype.jo=function(e){return new rf},hd.prototype.terminate=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},hd),ad=(s(fd,id=od),fd.prototype.initialize=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,id.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,Tl(this.localStore)];case 2:return t.sent(),[4,this.Jo.initialize(this,e)];case 3:return t.sent(),[4,td(this.Jo.syncEngine)];case 4:return t.sent(),[4,Zf(this.Jo.remoteStore)];case 5:return t.sent(),[2]}}))}))},fd.prototype.Ho=function(e){return fl(this.persistence,new ol,e.initialUser,this.D)},fd.prototype.zo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Cc(t,e.asyncQueue)},fd.prototype.Go=function(e){var t=tl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?uc.withCacheSize(this.cacheSizeBytes):uc.DEFAULT;return new Xc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Tf(),_f(),this.D,this.sharedClientState,!!this.forceOwnership)},fd.prototype.jo=function(e){return new rf},fd),sd=(s(ld,rd=ad),ld.prototype.initialize=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:return[4,rd.prototype.initialize.call(this,e)];case 1:return r.sent(),t=this.Jo.syncEngine,this.sharedClientState instanceof nf?(this.sharedClientState.syncEngine={wi:Yh.bind(null,t),_i:function(e,t,n,r){return u(this,void 0,void 0,(function(){var i,o,a;return c(this,(function(s){switch(s.label){case 0:return(i=e).Uo?(Or("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,El(i.localStore)];case 3:return o=s.sent(),a=ts.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Wh(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,gl(i.localStore,t,!0)];case 6:return s.sent(),Kh(i,t,r),[3,8];case 7:Rr(),s.label=8;case 8:return[2]}}))}))}.bind(null,t),mi:function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,f;return c(this,(function(h){switch(h.label){case 0:if(!(r=ed(e)).Uo)return[3,10];i=0,o=t,h.label=1;case 1:return i<o.length?(o=o[i],r.$o.has(o)?(Or("SyncEngine","Adding an already active target "+o),[3,5]):[4,wl(r.localStore,o)]):[3,6];case 2:return a=h.sent(),[4,vl(r.localStore,a)];case 3:return s=h.sent(),[4,Mh(r,Zh(a),s.targetId,!1)];case 4:h.sent(),Bf(r.remoteStore,s),h.label=5;case 5:return i++,[3,1];case 6:u=function(e){return c(this,(function(t){switch(t.label){case 0:return r.$o.has(e)?[4,gl(r.localStore,e,!1).then((function(){zf(r.remoteStore,e),Kh(r,e)})).catch(Ic)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,h.label=7;case 7:return l<f.length?(f=f[l],[5,u(f)]):[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}.bind(null,t),gn:function(e){return e.localStore.persistence.gn()}.bind(null,t),di:function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){return[2,El((t=e).localStore).then((function(e){return Wh(t,e)}))]}))}))}.bind(null,t)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.en((function(e){return u(n,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,Xh(this.Jo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},ld.prototype.jo=function(e){var t=Tf();if(!nf.At(t))throw new Xr(Yr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=tl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nf(t,e.asyncQueue,n,e.clientId,e.initialUser)},ld),ud=(cd.prototype.initialize=function(e,t){return u(this,void 0,void 0,(function(){var n=this;return c(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Uh(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$h.bind(null,this.syncEngine),[4,nh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},cd.prototype.createEventManager=function(e){return new uh},cd.prototype.createDatastore=function(e){var t=Sf(e.databaseInfo.databaseId),n=(n=e.databaseInfo,new cf(n));return e=e.credentials,new Pf(e,n,t)},cd.prototype.createRemoteStore=function(e){var t=this;return new If(this.localStore,this.datastore,e.asyncQueue,(function(e){return Uh(t.syncEngine,e,0)}),e=new(af.At()?af:of))},cd.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){return o=new Ah(e,t,n,r,i,o),a&&(o.Uo=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},cd.prototype.terminate=function(){return function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=e,Or("RemoteStore","RemoteStore shutting down."),t.Qr.add(5),[4,qf(t)];case 1:return n.sent(),t.Wr.shutdown(),t.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},cd);function cd(){}function ld(e,t){var n=this;return(n=rd.call(this,e,t,!1)||this).Jo=e,n.cacheSizeBytes=t,n.synchronizeTabs=!0,n}function fd(e,t,n){var r=this;return(r=id.call(this)||this).Jo=e,r.cacheSizeBytes=t,r.forceOwnership=n,r.synchronizeTabs=!1,r}function hd(){this.synchronizeTabs=!1}function dd(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return u(this,void 0,void 0,(function(){var r;return c(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var pd=(_d.prototype.next=function(e){this.observer.next&&this.Yo(this.observer.next,e)},_d.prototype.error=function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},_d.prototype.Xo=function(){this.muted=!0},_d.prototype.Yo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},_d),yd=(Td.prototype.close=function(){return this.Zo.cancel()},Td.prototype.getMetadata=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.metadata.promise]}))}))},Td.prototype.Wo=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.ec())]}}))}))},Td.prototype.ec=function(){return u(this,void 0,void 0,(function(){var e,t,n;return c(this,(function(r){switch(r.label){case 0:return[4,this.nc()];case 1:return null===(e=r.sent())?[2,null]:(n=this.tc.decode(e),t=Number(n),isNaN(t)&&this.sc("length string ("+n+") is not valid number"),[4,this.ic(t)]);case 2:return n=r.sent(),[2,new wh(JSON.parse(n),e.length+t)]}}))}))},Td.prototype.rc=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},Td.prototype.nc=function(){return u(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},Td.prototype.ic=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.tc.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},Td.prototype.sc=function(e){throw this.Zo.cancel(),new Error("Invalid bundle format: "+e)},Td.prototype.oc=function(){return u(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},Td),md=(Ed.prototype.lookup=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Xr(Yr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a;return c(this,(function(s){switch(s.label){case 0:return r=ks((n=e).D)+"/documents",i={documents:t.map((function(e){return Ts(n.D,e)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach((function(e){var t;t=n.D,e="found"in(e=e)?function(e,t){Lr(!!t.found),t.found.name,t.found.updateTime;var n=_s(e,t.found.name);return e=bs(t.found.updateTime),t=new jo({mapValue:{fields:t.found.fields}}),new Pi(n,e,t,{})}(t,e):"missing"in e?function(e,t){return Lr(!!t.missing),Lr(!!t.readTime),e=_s(e,t.missing),t=bs(t.readTime),new Ai(e,t)}(t,e):Rr(),o.set(e.key.toString(),e)})),a=[],[2,(t.forEach((function(e){Lr(!!(e=o.get(e.toString()))),a.push(e)})),a)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof Ai||e instanceof Pi?n.recordVersion(e):Rr()})),t)]}}))}))},Ed.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},Ed.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},Ed.prototype.delete=function(e){this.write(new Pa(e,this.precondition(e))),this.writtenDocs.add(e.toString())},Ed.prototype.commit=function(){return u(this,void 0,void 0,(function(){var e,t=this;return c(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){n=ti.fromPath(n),t.mutations.push(new Aa(n,t.precondition(n)))})),[4,function(e,t){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return r=ks((n=e).D)+"/documents",i={writes:t.map((function(e){return Os(n.D,e)}))},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},Ed.prototype.recordVersion=function(e){var t;if(e instanceof Pi)t=e.version;else{if(!(e instanceof Ai))throw Rr();t=Mo.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Xr(Yr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},Ed.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ha.updateTime(t):ha.none()},Ed.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return ha.exists(!0);if(t.isEqual(Mo.min()))throw new Xr(Yr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ha.updateTime(t)},Ed.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},Ed.prototype.ensureCommitNotCalled=function(){},Ed),vd=(wd.prototype.run=function(){this.ac()},wd.prototype.ac=function(){var e=this;this.rr.Yi((function(){return u(e,void 0,void 0,(function(){var e,t,n=this;return c(this,(function(r){return e=new md(this.datastore),(t=this.uc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.hc(e)}))}))})).catch((function(e){n.hc(e)})),[2]}))}))}))},wd.prototype.uc=function(e){try{var t=this.updateFunction(e);return!Kr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},wd.prototype.hc=function(e){var t=this;0<this.cc&&this.lc(e)?(--this.cc,this.asyncQueue.enqueueAndForget((function(){return t.ac(),Promise.resolve()}))):this.deferred.reject(e)},wd.prototype.lc=function(e){return"FirebaseError"===e.name&&("aborted"===(e=e.code)||"failed-precondition"===e||!Ma(e))},wd),gd=(bd.prototype.getConfiguration=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},bd.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},bd.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Xr(Yr.FAILED_PRECONDITION,"The client has already been terminated.")},bd.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new fu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return u(e,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=sh(e=n.sent(),"Failed to shutdown persistence"),t.reject(e),[3,6];case 6:return[2]}}))}))})),t.promise},bd);function bd(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Ll.UNAUTHENTICATED,this.clientId=Mr.u(),this.credentialListener=function(){},this.receivedInitialUser=new fu,this.credentials.setChangeListener((function(e){Or("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}function wd(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new Nf(this.asyncQueue,"transaction_retry")}function Ed(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function Td(e,t){var n=this;this.Zo=e,this.D=t,this.metadata=new fu,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(e){e&&e.ho()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}function _d(e){this.observer=e,this.muted=!1}function Sd(e,t){return u(this,void 0,void 0,(function(){var n,r,i=this;return c(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Or("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return u(i,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,hl(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Id(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,kd(e)];case 1:return n=i.sent(),Or("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return(n=e).asyncQueue.verifyOperationInProgress(),Or("RemoteStore","RemoteStore received new credentials"),r=Wf(n),n.Qr.add(3),[4,qf(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Qr.delete(3),[4,Vf(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function kd(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Or("FirestoreClient","Using default OfflineComponentProvider"),[4,Sd(e,new od)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function xd(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Or("FirestoreClient","Using default OnlineComponentProvider"),[4,Id(e,new ud)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Cd(e){return kd(e).then((function(e){return e.persistence}))}function Nd(e){return kd(e).then((function(e){return e.localStore}))}function Od(e){return xd(e).then((function(e){return e.remoteStore}))}function Dd(e){return xd(e).then((function(e){return e.syncEngine}))}function Pd(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return[4,xd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a;return c(this,(function(s){switch(s.label){case 0:return n=ed(e),(a=n.No.get(t))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Do(),[3,4]):[3,1];case 1:return[4,vl(n.localStore,No(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.targetId,[4,Mh(n,t,r,"current"===a)];case 3:i=s.sent(),n.isPrimaryClient&&Bf(n.remoteStore,o),s.label=4;case 4:return[2,i]}}))}))}.bind(null,t.syncEngine),n.onUnlisten=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return r=(n=e).No.get(t),1<(i=n.$o.get(r.targetId)).length?[2,(n.$o.set(r.targetId,i.filter((function(e){return!Do(e,t)}))),void n.No.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,gl(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),zf(n.remoteStore,r.targetId),Kh(n,r.targetId)})).catch(Ic)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Kh(n,r.targetId),[4,gl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,t.syncEngine),n)]}}))}))}function Ad(e,t,n){var r=this;void 0===n&&(n={});var i=new fu;return e.asyncQueue.enqueueAndForget((function(){return u(r,void 0,void 0,(function(){var r;return c(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new pd({next:function(o){t.enqueueAndForget((function(){return vh(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Xr(Yr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Xr(Yr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new bh(To(n.path),o,{includeMetadataChanges:!0,uo:!0});return mh(e,a)},[4,Pd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Rd(e,t,n){var r=this;void 0===n&&(n={});var i=new fu;return e.asyncQueue.enqueueAndForget((function(){return u(r,void 0,void 0,(function(){var r;return c(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new pd({next:function(n){t.enqueueAndForget((function(){return vh(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Xr(Yr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new bh(n,o,{includeMetadataChanges:!0,uo:!0});return mh(e,a)},[4,Pd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Ld(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e}var Md=function(e,t,n,r,i,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},Fd=(Object.defineProperty(Qd.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),Qd.prototype.isEqual=function(e){return e instanceof Qd&&e.projectId===this.projectId&&e.database===this.database},Qd),jd=new Map,Ud=(Hd.prototype.getToken=function(){return Promise.resolve(null)},Hd.prototype.invalidateToken=function(){},Hd.prototype.setChangeListener=function(e){(this.changeListener=e)(Ll.UNAUTHENTICATED)},Hd.prototype.removeChangeListener=function(){this.changeListener=null},Hd),Vd=(Gd.prototype.getToken=function(){var e=this,t=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.dc!==t?(Or("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Lr("string"==typeof n.accessToken),new Ld(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},Gd.prototype.invalidateToken=function(){this.forceRefresh=!0},Gd.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},Gd.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},Gd.prototype.wc=function(){var e=this.auth&&this.auth.getUid();return Lr(null===e||"string"==typeof e),new Ll(e)},Gd),qd=(Object.defineProperty(Kd.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.mc},t=this._c.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),Kd),Bd=(zd.prototype.getToken=function(){return Promise.resolve(new qd(this._c,this.mc))},zd.prototype.setChangeListener=function(e){e(Ll.FIRST_PARTY)},zd.prototype.removeChangeListener=function(){},zd.prototype.invalidateToken=function(){},zd);function zd(e,t){this._c=e,this.mc=t}function Kd(e,t){this._c=e,this.mc=t,this.type="FirstParty",this.user=Ll.FIRST_PARTY}function Gd(e){var t=this;this.fc=null,this.currentUser=Ll.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){t.dc++,t.currentUser=t.wc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.dc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),e.get().then((function(e){t.auth=e,t.fc&&t.auth.addAuthTokenListener(t.fc)}),(function(){})))}function Hd(){this.changeListener=null}function Qd(e,t){this.projectId=e,this.database=t||"(default)"}function Wd(e,t,n){if(!n)throw new Xr(Yr.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function $d(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Yd(e,t,n,r){if(!0===t&&!0===r)throw new Xr(Yr.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Xd(e){if(!ti.isDocumentKey(e))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Jd(e){if(ti.isDocumentKey(e))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Zd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Rr();if(e instanceof Array)return"an array";var t=function(){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}();return t?"a custom "+t+" object":"an object"}function ep(e,t){if((e="_delegate"in e?e._delegate:e)instanceof t)return e;if(t.name===e.constructor.name)throw new Xr(Yr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw e=Zd(e),new Xr(Yr.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}function tp(e,t){if(t<=0)throw new Xr(Yr.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var np,rp=(dp.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},dp),ip=(Object.defineProperty(hp.prototype,"app",{get:function(){if(!this._app)throw new Xr(Yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(hp.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(hp.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),hp.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Xr(Yr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rp(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Ud;switch(e.type){case"gapi":var t=e.client;return Lr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Bd(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Xr(Yr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},hp.prototype._getSettings=function(){return this._settings},hp.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},hp.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},hp.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},hp.prototype._terminate=function(){return(e=jd.get(this))&&(Or("ComponentProvider","Removing Datastore"),jd.delete(this),e.terminate()),Promise.resolve();var e},hp),op=function(e){this._delegate=e},ap=(Object.defineProperty(fp.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(fp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(fp.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(fp.prototype,"parent",{get:function(){return new up(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),fp.prototype.withConverter=function(e){return new fp(this.firestore,e,this._key)},fp),sp=(lp.prototype.withConverter=function(e){return new lp(this.firestore,e,this._query)},lp),up=(s(cp,np=sp),Object.defineProperty(cp.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(cp.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(cp.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ap(this.firestore,null,new ti(e))},enumerable:!1,configurable:!0}),cp.prototype.withConverter=function(e){return new cp(this.firestore,e,this._path)},cp);function cp(e,t,n){var r=this;return(r=np.call(this,e,t,To(n))||this).firestore=e,r._path=n,r.type="collection",r}function lp(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}function fp(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}function hp(e,t){this._persistenceKey="(lite)",this._settings=new rp({}),this._settingsFrozen=!1,e instanceof Fd?(this._databaseId=e,this._credentials=new Ud):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Xr(Yr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(e.options.projectId)}(e),this._credentials=new Vd(t))}function dp(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Xr(Yr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Xr(Yr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Yd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}function pp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof op&&(e=e._delegate),Wd("collection","path",t),e instanceof ip)return Jd(n=Jr.fromString.apply(Jr,l([t],r))),new up(e,null,n);if(!(e instanceof ap||e instanceof up))throw new Xr(Yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Jd(n=Jr.fromString.apply(Jr,l([e.path],r)).child(Jr.fromString(t))),new up(e.firestore,null,n)}function yp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof op&&(e=e._delegate),Wd("doc","path",t=1===arguments.length?Mr.u():t),e instanceof ip)return Xd(n=Jr.fromString.apply(Jr,l([t],r))),new ap(e,null,new ti(n));if(!(e instanceof ap||e instanceof up))throw new Xr(Yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xd(n=e._path.child(Jr.fromString.apply(Jr,l([t],r)))),new ap(e.firestore,e instanceof up?e._converter:null,new ti(n))}function mp(e,t){return e instanceof op&&(e=e._delegate),t instanceof op&&(t=t._delegate),(e instanceof ap||e instanceof up)&&(t instanceof ap||t instanceof up)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function vp(e,t){return e instanceof op&&(e=e._delegate),t instanceof op&&(t=t._delegate),e instanceof sp&&t instanceof sp&&e.firestore===t.firestore&&Do(e._query,t._query)&&e._converter===t._converter}var gp=(Object.defineProperty(bp.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),bp.prototype.enqueueAndForget=function(e){this.enqueue(e)},bp.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.vc(),this.Pc(e)},bp.prototype.enterRestrictedMode=function(){var e;this.Ec||(this.Ec=!0,(e=_f())&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc))},bp.prototype.enqueue=function(e){return this.vc(),this.Ec?new Promise((function(e){})):this.Pc(e)},bp.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))},bp.prototype.Vc=function(){return u(this,void 0,void 0,(function(){var e,t=this;return c(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!_u(e=n.sent()))throw e;return Or("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:0<this.gc.length&&this.rr.Yi((function(){return t.Vc()})),n.label=5;case 5:return[2]}}))}))},bp.prototype.Pc=function(e){var t=this,n=this.yc.then((function(){return t.Ac=!0,e().catch((function(e){throw t.Ic=e,t.Ac=!1,Dr("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",r=n.stack?n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack:r)),e;var n,r})).then((function(e){return t.Ac=!1,e}))}));return this.yc=n},bp.prototype.enqueueAfterDelay=function(e,t,n){var r=this;return this.vc(),-1<this.Rc.indexOf(e)&&(t=0),n=oh.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)})),this.Tc.push(n),n},bp.prototype.vc=function(){this.Ic&&Rr()},bp.prototype.verifyOperationInProgress=function(){},bp.prototype.Dc=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,e=this.yc];case 1:t.sent(),t.label=2;case 2:if(e!==this.yc)return[3,0];t.label=3;case 3:return[2]}}))}))},bp.prototype.Cc=function(e){for(var t=0,n=this.Tc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},bp.prototype.xc=function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Dc()}))},bp.prototype.Nc=function(e){this.Rc.push(e)},bp.prototype.Sc=function(e){e=this.Tc.indexOf(e),this.Tc.splice(e,1)},bp);function bp(){var e=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new Nf(this,"async_queue_retry"),this.bc=function(){var t=_f();t&&Or("AsyncQueue","Visibility state changed to "+t.visibilityState),e.rr.Zi()};var t=_f();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}function wp(e){return function(){if("object"==typeof e&&null!==e)for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return 1}}()}var Ep,Tp=(Ip.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},Ip.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},Ip.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},Ip.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},Ip.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},Ip.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},Ip),_p=(s(Sp,Ep=ip),Sp.prototype._terminate=function(){return this._firestoreClient||xp(this),this._firestoreClient.terminate()},Sp);function Sp(e,t){var n=this;return(n=Ep.call(this,e,t)||this)._queue=new gp,n._persistenceKey="name"in e?e.name:"[DEFAULT]",n}function Ip(){this._progressObserver={},this._taskCompletionResolver=new fu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function kp(e){return e._firestoreClient||xp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xp(e){var t,n,r=e._freezeSettings();t=e._databaseId,n=e._persistenceKey,r=new Md(t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling),e._firestoreClient=new gd(e._credentials,e._queue,r)}function Cp(e,t,n){var r=this,i=new fu;return e.asyncQueue.enqueue((function(){return u(r,void 0,void 0,(function(){var r;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Sd(e,n)];case 1:return o.sent(),[4,Id(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===Yr.FAILED_PRECONDITION||a.code===Yr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a}))}))})).then((function(){return i.promise}))}function Np(e){if(e._initialized||e._terminated)throw new Xr(Yr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Op=(qp.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},qp),Dp=(Vp.fromBase64String=function(e){try{return new Vp(ni.fromBase64String(e))}catch(e){throw new Xr(Yr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},Vp.fromUint8Array=function(e){return new Vp(ni.fromUint8Array(e))},Vp.prototype.toBase64=function(){return this._byteString.toBase64()},Vp.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},Vp.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},Vp.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},Vp),Pp=function(e){this._methodName=e},Ap=(Object.defineProperty(Up.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(Up.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),Up.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},Up.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},Up.prototype._compareTo=function(e){return jr(this._lat,e._lat)||jr(this._long,e._long)},Up),Rp=/^__.*__$/,Lp=(jp.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new wa(e,this.data,t,this.fieldTransforms)},jp),Mp=(Fp.prototype.toMutation=function(e,t){return new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms)},Fp);function Fp(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function jp(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function Up(e,t){if(!isFinite(e)||e<-90||90<e)throw new Xr(Yr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new Xr(Yr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}function Vp(e){this._byteString=e}function qp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ei(e)}function Bp(e){switch(e){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Rr()}}var zp=(Object.defineProperty(Hp.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(Hp.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),Hp.prototype.Oc=function(e){return new Hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},Hp.prototype.kc=function(e){var t=null===(t=this.path)||void 0===t?void 0:t.child(e);return(t=this.Oc({path:t,Mc:!1})).Lc(e),t},Hp.prototype.Bc=function(e){var t;return e=null===(t=this.path)||void 0===t?void 0:t.child(e),(e=this.Oc({path:e,Mc:!1})).$c(),e},Hp.prototype.qc=function(e){return this.Oc({path:void 0,Mc:!0})},Hp.prototype.Uc=function(e){return Ey(e,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},Hp.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},Hp.prototype.$c=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))},Hp.prototype.Lc=function(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(Bp(this.Fc)&&Rp.test(e))throw this.Uc('Document fields cannot begin and end with "__"')},Hp),Kp=(Gp.prototype.Wc=function(e,t,n,r){return void 0===r&&(r=!1),new zp({Fc:e,methodName:t,Kc:n,path:ei.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},Gp);function Gp(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.D=n||Sf(e)}function Hp(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function Qp(e){var t=e._freezeSettings(),n=Sf(e._databaseId);return new Kp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Wp(e,t,n,r,i,o){void 0===o&&(o={});var a,s,u=e.Wc(o.merge||o.mergeFields?2:0,t,n,i);if(vy("Data must be an object, but it was:",u,r),r=yy(r,u),o.merge)a=new Fo(u.fieldMask),s=u.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,f=o.mergeFields;l<f.length;l++){var h=gy(t,f[l],n);if(!u.contains(h))throw new Xr(Yr.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");Ty(c,h)||c.push(h)}a=new Fo(c),s=u.fieldTransforms.filter((function(e){return a.covers(e.field)}))}else a=null,s=u.fieldTransforms;return new Lp(new jo(r),a,s)}var $p,Yp=(s(Xp,$p=Pp),Xp.prototype._toFieldTransform=function(e){if(2!==e.Fc)throw 1===e.Fc?e.Uc(this._methodName+"() can only appear at the top level of your update data"):e.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},Xp.prototype.isEqual=function(e){return e instanceof Xp},Xp);function Xp(){return null!==$p&&$p.apply(this,arguments)||this}function Jp(e,t,n){return new zp({Fc:3,Kc:t.settings.Kc,methodName:e._methodName,Mc:n},t.databaseId,t.D,t.ignoreUndefinedProperties)}var Zp,ey,ty,ny,ry=(s(ly,ny=Pp),ly.prototype._toFieldTransform=function(e){return new fa(e.path,new Yo)},ly.prototype.isEqual=function(e){return e instanceof ly},ly),iy=(s(cy,ty=Pp),cy.prototype._toFieldTransform=function(e){var t=Jp(this,e,!0),n=this.jc.map((function(e){return py(e,t)}));return n=new Xo(n),new fa(e.path,n)},cy.prototype.isEqual=function(e){return this===e},cy),oy=(s(uy,ey=Pp),uy.prototype._toFieldTransform=function(e){var t=Jp(this,e,!0),n=this.jc.map((function(e){return py(e,t)}));return n=new na(n),new fa(e.path,n)},uy.prototype.isEqual=function(e){return this===e},uy),ay=(s(sy,Zp=Pp),sy.prototype._toFieldTransform=function(e){var t=new aa(e.D,Ho(e.D,this.Gc));return new fa(e.path,t)},sy.prototype.isEqual=function(e){return this===e},sy);function sy(e,t){var n=this;return(n=Zp.call(this,e)||this).Gc=t,n}function uy(e,t){var n=this;return(n=ey.call(this,e)||this).jc=t,n}function cy(e,t){var n=this;return(n=ty.call(this,e)||this).jc=t,n}function ly(){return null!==ny&&ny.apply(this,arguments)||this}function fy(e,t,n,r){var i=e.Wc(1,t,n);vy("Data must be an object, but it was:",i,r);var o=[],a=new Uo;return Br(r,(function(e,r){var s=wy(t,e,n);r instanceof op&&(r=r._delegate),e=i.Bc(s),r instanceof Yp?o.push(s):null!=(e=py(r,e))&&(o.push(s),a.set(s,e))})),r=new Fo(o),new Mp(a.v(),r,i.fieldTransforms)}function hy(e,t,n,r,i,o){var a=e.Wc(1,t,n),s=[gy(t,r,n)],u=[i];if(o.length%2!=0)throw new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(gy(t,o[c])),u.push(o[c+1]);for(var l,f,h,d=[],p=new Uo,y=s.length-1;0<=y;--y)Ty(d,s[y])||(l=s[y],(f=u[y])instanceof op&&(f=f._delegate),h=a.Bc(l),f instanceof Yp?d.push(l):null!=(h=py(f,h))&&(d.push(l),p.set(l,h)));return i=new Fo(d),new Mp(p.v(),i,a.fieldTransforms)}function dy(e,t,n,r){return void 0===r&&(r=!1),py(n,e.Wc(r?4:3,t))}function py(e,t){if(my(e=e instanceof op?e._delegate:e))return vy("Unsupported field value:",t,e),yy(e,t);if(e instanceof Pp)return function(e,t){if(!Bp(t.Fc))throw t.Uc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Uc(e._methodName+"() is not currently supported inside arrays");(e=e._toFieldTransform(t))&&t.fieldTransforms.push(e)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Mc&&4!==t.Fc)throw t.Uc("Nested arrays are not supported");return function(t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=py(o[i],t.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t)}return function(e,t){if(null===(e=e instanceof op?e._delegate:e))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ho(t.D,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=di.fromDate(e);return{timestampValue:vs(t.D,n)}}if(e instanceof di)return n=new di(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:vs(t.D,n)};if(e instanceof Ap)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Dp)return{bytesValue:gs(t.D,e._byteString)};if(e instanceof ap){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ws(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: "+Zd(e))}(e,t)}function yy(e,t){var n={};return zr(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):Br(e,(function(e,r){null!=(r=py(r,t.kc(e)))&&(n[e]=r)})),{mapValue:{fields:n}}}function my(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof di||e instanceof Ap||e instanceof Dp||e instanceof ap||e instanceof Pp)}function vy(e,t,n){if(!my(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=Zd(n))?t.Uc(e+" a custom object"):t.Uc(e+" "+n);var r}function gy(e,t,n){if((t=t instanceof op?t._delegate:t)instanceof Op)return t._internalPath;if("string"==typeof t)return wy(e,t);throw Ey("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var by=new RegExp("[~\\*/\\[\\]]");function wy(e,t,n){if(0<=t.search(by))throw Ey("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Op.bind.apply(Op,l([void 0],t.split(".")))))._internalPath}catch(r){throw Ey("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ey(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i;return t="Function "+t+"() called with invalid data",n&&(t+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new Xr(Yr.INVALID_ARGUMENT,(t+=". ")+e+n)}function Ty(e,t){return e.some((function(e){return e.isEqual(t)}))}var _y,Sy=(Object.defineProperty(xy.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(xy.prototype,"ref",{get:function(){return new ap(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),xy.prototype.exists=function(){return null!==this._document},xy.prototype.data=function(){if(this._document){if(this._converter){var e=new Iy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.toProto())}},xy.prototype.get=function(e){if(this._document&&null!==(e=this._document.data().field(Cy("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e)},xy),Iy=(s(ky,_y=Sy),ky.prototype.data=function(){return _y.prototype.data.call(this)},ky);function ky(){return null!==_y&&_y.apply(this,arguments)||this}function xy(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}function Cy(e,t){return"string"==typeof t?wy(e,t):(t instanceof op?t._delegate:t)._internalPath}var Ny,Oy,Dy=(jy.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},jy),Py=(s(Fy,Oy=Sy),Fy.prototype.exists=function(){return Oy.prototype.exists.call(this)},Fy.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Ay(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.toProto(),e.serverTimestamps)}},Fy.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document&&null!==(e=this._document.data().field(Cy("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e,t.serverTimestamps)},Fy),Ay=(s(My,Ny=Py),My.prototype.data=function(e){return void 0===e&&(e={}),Ny.prototype.data.call(this,e)},My),Ry=(Object.defineProperty(Ly.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(Ly.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(Ly.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),Ly.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ay(n._firestore,n._userDataWriter,r.key,r,new Dy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},Ly.prototype.docChanges=function(e){if((e=!!(e=void 0===e?{}:e).includeMetadataChanges)&&this._snapshot.excludesMetadataChanges)throw new Xr(Yr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Ay(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Dy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ay(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Dy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rr()}}(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},Ly);function Ly(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Dy(r.hasPendingWrites,r.fromCache),this.query=n}function My(){return null!==Ny&&Ny.apply(this,arguments)||this}function Fy(e,t,n,r,i,o){var a=this;return(a=Oy.call(this,e,t,n,r,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=i,a}function jy(e,t){this.hasPendingWrites=e,this.fromCache=t}function Uy(e,t){return e instanceof Py&&t instanceof Py?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ry&&t instanceof Ry&&e._firestore===t._firestore&&vp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Vy(e){if(So(e)&&0===e.explicitOrderBy.length)throw new Xr(Yr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function qy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)e=i[r]._apply(e);return e}var By,zy,Ky,Gy,Hy,Qy=(s(nm,Hy=y=function(){}),nm.prototype._apply=function(e){var t=Qp(e.firestore);return t=function(e,t,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){om(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(im(n,e,c))}l={arrayValue:{values:a}}}else l=im(n,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||om(o,i),l=dy(t,"where",o,"in"===i||"not-in"===i);var l=Ki.create(r,i,l);return function(e,t){if(t.g()){var n=ko(e);if(null!==n&&!n.isEqual(t.field))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");null!==(n=Io(e))&&am(0,t.field,n)}if(null!==(e=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(0<=t.indexOf(i.op))return i.op}return null}(e,function(){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw e===t.op?new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+e.toString()+"' filters.")}(e,l),l}(e._query,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc),new sp(e.firestore,e._converter,(t=(e=e._query).filters.concat([t]),new wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)))},nm),Wy=(s(tm,Gy=y),tm.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new vo(t,n);return t=r,null!==Io(n=e)||null!==(e=ko(n))&&am(0,e,t.field),r}(e._query,this.zc,this.Yc);return new sp(e.firestore,e._converter,(t=(e=e._query).explicitOrderBy.concat([t]),new wo(e.path,e.collectionGroup,t,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},tm),$y=(s(em,Ky=y),em.prototype._apply=function(e){return new sp(e.firestore,e._converter,Oo(e._query,this.Xc,this.Zc))},em),Yy=(s(Zy,zy=y),Zy.prototype._apply=function(e){var t=rm(e,this.type,this.ta,this.ea);return new sp(e.firestore,e._converter,(e=e._query,t=t,new wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)))},Zy),Xy=(s(Jy,By=y),Jy.prototype._apply=function(e){var t=rm(e,this.type,this.ta,this.ea);return new sp(e.firestore,e._converter,(e=e._query,t=t,new wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)))},Jy);function Jy(e,t,n){var r=this;return(r=By.call(this)||this).type=e,r.ta=t,r.ea=n,r}function Zy(e,t,n){var r=this;return(r=zy.call(this)||this).type=e,r.ta=t,r.ea=n,r}function em(e,t,n){var r=this;return(r=Ky.call(this)||this).type=e,r.Xc=t,r.Zc=n,r}function tm(e,t){var n=this;return(n=Gy.call(this)||this).zc=e,n.Yc=t,n.type="orderBy",n}function nm(e,t,n){var r=this;return(r=Hy.call(this)||this).zc=e,r.Hc=t,r.Jc=n,r.type="where",r}function rm(e,t,n,r){if(n[0]instanceof op&&(n[0]=n[0]._delegate),n[0]instanceof Sy)return function(e,n,r,i){if(!r)throw new Xr(Yr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],a=0,s=Co(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(_i(n,r.key));else{var c=r.field(u.field);if(yi(c))throw new Xr(Yr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.canonicalString(),new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new lo(o,i)}(e._query,e.firestore._databaseId,n[0]._document,r);var i=Qp(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Xr(Yr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!xo(e)&&-1!==c.indexOf("/"))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Jr.fromString(c));if(!ti.isDocumentKey(l))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new ti(l),s.push(_i(t,l))}else c=dy(n,r,c),s.push(c)}return new lo(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function im(e,t,n){if("string"==typeof(n=n instanceof op?n._delegate:n)){if(""===n)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!xo(t)&&-1!==n.indexOf("/"))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(t=t.path.child(Jr.fromString(n)),!ti.isDocumentKey(t))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return _i(e,new ti(t))}if(n instanceof ap)return _i(e,n._key);throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zd(n)+".")}function om(e,t){if(!Array.isArray(e)||0===e.length)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function am(e,t,n){if(!n.isEqual(t))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function sm(){}function um(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}sm.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rr()}},sm.prototype.convertObject=function(e,t){var n=this,r={};return Br(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},sm.prototype.convertGeoPoint=function(e){return new Ap(fi(e.latitude),fi(e.longitude))},sm.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},sm.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){return yi(t=t.mapValue.fields.__previous_value__)?e(t):t}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mi(e));default:return null}},sm.prototype.convertTimestamp=function(e){return e=li(e),new di(e.seconds,e.nanos)},sm.prototype.convertDocumentKey=function(e,t){var n=Jr.fromString(e);return Lr(qs(n)),e=new Fd(n.get(1),n.get(3)),n=new ti(n.popFirst(5)),e.isEqual(t)||Dr("Document "+n+" contains a document reference within a different database ("+e.projectId+"/"+e.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),n};var cm,lm=(s(dm,cm=It=sm),dm.prototype.convertBytes=function(e){return new Dp(e)},dm.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new ap(this.firestore,null,e)},dm),fm=(hm.prototype.set=function(e,t,n){return this._verifyNotCommitted(),t=um((e=pm(e,this._firestore))._converter,t,n),n=Wp(this._dataReader,"WriteBatch.set",e._key,t,null!==e._converter,n),this._mutations.push(n.toMutation(e._key,ha.none())),this},hm.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this._verifyNotCommitted(),e=pm(e,this._firestore),t="string"==typeof(t=t instanceof op?t._delegate:t)||t instanceof Op?hy(this._dataReader,"WriteBatch.update",e._key,t,n,r):fy(this._dataReader,"WriteBatch.update",e._key,t),this._mutations.push(t.toMutation(e._key,ha.exists(!0))),this},hm.prototype.delete=function(e){return this._verifyNotCommitted(),e=pm(e,this._firestore),this._mutations=this._mutations.concat(new Pa(e._key,ha.none())),this},hm.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},hm.prototype._verifyNotCommitted=function(){if(this._committed)throw new Xr(Yr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},hm);function hm(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Qp(e)}function dm(e){var t=this;return(t=cm.call(this)||this).firestore=e,t}function pm(e,t){if((e=e instanceof op?e._delegate:e).firestore!==t)throw new Xr(Yr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ym,mm=(s(vm,ym=It),vm.prototype.convertBytes=function(e){return new Dp(e)},vm.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new ap(this.firestore,null,e)},vm);function vm(e){var t=this;return(t=ym.call(this)||this).firestore=e,t}function gm(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ep(e,ap);var o=ep(e.firestore,_p),a=Qp(o);return wm(o,[("string"==typeof(t=t instanceof op?t._delegate:t)||t instanceof Op?hy(a,"updateDoc",e._key,t,n,r):fy(a,"updateDoc",e._key,t)).toMutation(e._key,ha.exists(!0))])}function bm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e instanceof op&&(e=e._delegate);var r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||wp(t[i])||(r=t[i],i++);var o,a,s,l,f,h,d={includeMetadataChanges:r.includeMetadataChanges};return wp(t[i])&&(o=t[i],t[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),t[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),t[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),e instanceof ap?(s=ep(e.firestore,_p),l=To(e._key.path),h={next:function(n){t[i]&&t[i](Em(s,e,n))},error:t[i+1],complete:t[i+2]}):(a=ep(e,sp),s=ep(a.firestore,_p),l=a._query,f=new mm(s),h={next:function(e){t[i]&&t[i](new Ry(s,f,a,e))},error:t[i+1],complete:t[i+2]},Vy(e._query)),function(e,t,n){var r=this,i=new pd(h),o=new bh(t,i,n);return e.asyncQueue.enqueueAndForget((function(){return u(r,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=mh,[4,Pd(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))})),function(){i.Xo(),e.asyncQueue.enqueueAndForget((function(){return u(r,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=vh,[4,Pd(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))}))}}(kp(s),l,d)}function wm(e,t){return function(e,t){var n=this,r=new fu;return e.asyncQueue.enqueueAndForget((function(){return u(n,void 0,void 0,(function(){var n;return c(this,(function(i){switch(i.label){case 0:return n=Fh,[4,Dd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(kp(e),t)}function Em(e,t,n){var r=n.docs.get(t._key),i=new mm(e);return new Py(e,i,t._key,r,new Dy(n.hasPendingWrites,n.fromCache),t._converter)}var Tm,_m=(Im.prototype.get=function(e){var t=this,n=pm(e,this._firestore),r=new lm(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Rr();if((e=e[0])instanceof Ai)return new Sy(t._firestore,r,n._key,null,n._converter);if(e instanceof Pi)return new Sy(t._firestore,r,e.key,e,n._converter);throw Rr()}))},Im.prototype.set=function(e,t,n){return t=um((e=pm(e,this._firestore))._converter,t,n),n=Wp(this._dataReader,"Transaction.set",e._key,t,null!==e._converter,n),this._transaction.set(e._key,n),this},Im.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return e=pm(e,this._firestore),t="string"==typeof(t=t instanceof op?t._delegate:t)||t instanceof Op?hy(this._dataReader,"Transaction.update",e._key,t,n,r):fy(this._dataReader,"Transaction.update",e._key,t),this._transaction.update(e._key,t),this},Im.prototype.delete=function(e){return e=pm(e,this._firestore),this._transaction.delete(e._key),this},s(Sm,Tm=Im),Sm.prototype.get=function(e){var t=this,n=pm(e,this._firestore),r=new mm(this._firestore);return Tm.prototype.get.call(this,e).then((function(e){return new Py(t._firestore,r,n._key,e._document,new Dy(!1,!1),n._converter)}))},Sm);function Sm(e,t){var n=this;return(n=Tm.call(this,e,t)||this)._firestore=e,n}function Im(e,t){this._firestore=e,this._transaction=t,this._dataReader=Qp(e)}function km(){if("undefined"==typeof Uint8Array)throw new Xr(Yr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xm(){if("undefined"==typeof atob)throw new Xr(Yr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Cm,Nm,Om,Dm=(s(jm,Om=op),jm.fromBase64String=function(e){return xm(),new jm(Dp.fromBase64String(e))},jm.fromUint8Array=function(e){return km(),new jm(Dp.fromUint8Array(e))},jm.prototype.toBase64=function(){return xm(),this._delegate.toBase64()},jm.prototype.toUint8Array=function(){return km(),this._delegate.toUint8Array()},jm.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},jm.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},jm),Pm=(Fm.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Np(e=ep(e,_p));var n=kp(e),r=e._freezeSettings();return Cp(n,e=new ud,new ad(e,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},Fm.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Np(e=ep(e,_p));var t=kp(e),n=e._freezeSettings();return Cp(t,e=new ud,new sd(e,n.cacheSizeBytes))}(e._delegate)},Fm.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Xr(Yr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new fu;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return u(t,void 0,void 0,(function(){var t;return c(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return pu.At()?(t=e+"main",[4,pu.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(tl(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},Fm),Am=(s(Mm,Nm=op),Object.defineProperty(Mm.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),Mm.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},Mm.prototype.useEmulator=function(e,t){var n,r;r=e,e=t,"firestore.googleapis.com"!==(t=(n=ep(n=this._delegate,ip))._getSettings()).host&&t.host!==r&&Pr("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},t),{host:r+":"+e,ssl:!1}))},Mm.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return u(t,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return[4,Cd(e)];case 1:return t=r.sent(),[4,Od(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),(i=n).Qr.delete(0),Vf(i))]}var i}))}))}))}(kp(ep(this._delegate,_p)))},Mm.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return u(t,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return[4,Cd(e)];case 1:return t=r.sent(),[4,Od(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return(t=e).Qr.add(0),[4,qf(t)];case 1:return n.sent(),t.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(kp(ep(this._delegate,_p)))},Mm.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Yd("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},Mm.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},Mm.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},Mm.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new fu;return e.asyncQueue.enqueueAndForget((function(){return u(t,void 0,void 0,(function(){var t;return c(this,(function(r){switch(r.label){case 0:return t=qh,[4,Dd(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(kp(ep(this._delegate,_p)))},Mm.prototype.onSnapshotsInSync=function(e){return e=e,function(e,t){var n=this,r=new pd(t);return e.asyncQueue.enqueueAndForget((function(){return u(n,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Zr.add(t),t.next()},[4,Pd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),e.asyncQueue.enqueueAndForget((function(){return u(n,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Zr.delete(t)},[4,Pd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(kp(ep(this._delegate,_p)),wp(e)?e:{next:e})},Object.defineProperty(Mm.prototype,"app",{get:function(){if(!this.sa)throw new Xr(Yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),Mm.prototype.collection=function(e){try{return new dv(this,pp(this._delegate,e))}catch(e){throw Xm(e,"collection()","Firestore.collection()")}},Mm.prototype.doc=function(e){try{return new $m(this,yp(this._delegate,e))}catch(e){throw Xm(e,"doc()","Firestore.doc()")}},Mm.prototype.collectionGroup=function(e){try{return new lv(this,function(e,t){if(e=ep(e,ip),Wd("collectionGroup","collection id",t),0<=t.indexOf("/"))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new sp(e,null,(t=t,new wo(Jr.emptyPath(),t)))}(this._delegate,e))}catch(e){throw Xm(e,"collectionGroup()","Firestore.collectionGroup()")}},Mm.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new fu;return e.asyncQueue.enqueueAndForget((function(){return u(n,void 0,void 0,(function(){var n;return c(this,(function(i){switch(i.label){case 0:return[4,xd(e).then((function(e){return e.datastore}))];case 1:return n=i.sent(),new vd(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(kp(t=this._delegate),(function(r){return r=new _m(t,r),e(new Bm(n,r))}))},Mm.prototype.batch=function(){var e=this;return kp(this._delegate),new zm(new fm(this._delegate,(function(t){return wm(e._delegate,t)})))},Mm.prototype.loadBundle=function(e){throw new Xr(Yr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},Mm.prototype.namedQuery=function(e){throw new Xr(Yr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},Mm),Rm=(s(Lm,Cm=It),Lm.prototype.convertBytes=function(e){return new Dm(new Dp(e))},Lm.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),$m.ia(e,this.firestore,null)},Lm);function Lm(e){var t=this;return(t=Cm.call(this)||this).firestore=e,t}function Mm(e,t,n){var r=this;return(r=Nm.call(this,t)||this).na=n,r.INTERNAL={delete:function(){return r.terminate()}},e instanceof Fd||(r.sa=e),r}function Fm(){}function jm(){return null!==Om&&Om.apply(this,arguments)||this}var Um,Vm,qm,Bm=(s(Qm,qm=op),Qm.prototype.get=function(e){var t=this,n=wv(e);return this._delegate.get(n).then((function(e){return new uv(t._firestore,new Py(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},Qm.prototype.set=function(e,t,n){return e=wv(e),n?($d("Transaction.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},Qm.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=wv(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,l([o,t,n],r)),this},Qm.prototype.delete=function(e){return e=wv(e),this._delegate.delete(e),this},Qm),zm=(s(Hm,Vm=op),Hm.prototype.set=function(e,t,n){return e=wv(e),n?($d("WriteBatch.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},Hm.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=wv(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,l([o,t,n],r)),this},Hm.prototype.delete=function(e){return e=wv(e),this._delegate.delete(e),this},Hm.prototype.commit=function(){return this._delegate.commit()},Hm),Km=(s(Gm,Um=op),Gm.prototype.fromFirestore=function(e,t){return e=new Ay(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null),this._delegate.fromFirestore(new cv(this._firestore,e),null!=t?t:{})},Gm.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},Gm.ra=function(e,t){var n=Gm.oa,r=n.get(e);return r||(r=new WeakMap,n.set(e,r)),(n=r.get(t))||(n=new Gm(e,new Rm(e),t),r.set(t,n)),n},Gm);function Gm(e,t,n){var r=this;return(r=Um.call(this,n)||this)._firestore=e,r._userDataWriter=t,r}function Hm(){return null!==Vm&&Vm.apply(this,arguments)||this}function Qm(e,t){var n=this;return(n=qm.call(this,t)||this)._firestore=e,n._userDataWriter=new Rm(e),n}Km.oa=new WeakMap;var Wm,$m=(s(Ym,Wm=op),Ym.ca=function(e,t,n){if(e.length%2!=0)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new Ym(t,new ap(t._delegate,n,new ti(e)))},Ym.ia=function(e,t,n){return new Ym(t,new ap(t._delegate,n,e))},Object.defineProperty(Ym.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Ym.prototype,"parent",{get:function(){return new dv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(Ym.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Ym.prototype.collection=function(e){try{return new dv(this.firestore,pp(this._delegate,e))}catch(e){throw Xm(e,"collection()","DocumentReference.collection()")}},Ym.prototype.isEqual=function(e){return(e=e instanceof op?e._delegate:e)instanceof ap&&mp(this._delegate,e)},Ym.prototype.set=function(e,t){t=$d("DocumentReference.set",t);try{return function(e,t,n){e=ep(e,ap);var r=ep(e.firestore,_p);return t=um(e._converter,t,n),wm(r,[Wp(Qp(r),"setDoc",e._key,t,null!==e._converter,n).toMutation(e._key,ha.none())])}(this._delegate,e,t)}catch(e){throw Xm(e,"setDoc()","DocumentReference.set()")}},Ym.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?gm(this._delegate,e):gm.apply(void 0,l([this._delegate,e,t],n))}catch(e){throw Xm(e,"updateDoc()","DocumentReference.update()")}},Ym.prototype.delete=function(){return wm(ep((e=this._delegate).firestore,_p),[new Pa(e._key,ha.none())]);var e},Ym.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Jm(t),i=Zm(t,(function(t){return new uv(e.firestore,new Py(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return bm(this._delegate,r,i)},Ym.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=ep(e,ap);var t=ep(e.firestore,_p),n=kp(t),r=new mm(t);return function(e,t){var n=this,r=new fu;return e.asyncQueue.enqueueAndForget((function(){return u(n,void 0,void 0,(function(){var n;return c(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return u(this,void 0,void 0,(function(){var r,i;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=t,(s=e).persistence.runTransaction("read document","readonly",(function(e){return s.Kn.In(e,a)})))];case 1:return(i=o.sent())instanceof Pi?n.resolve(i):i instanceof Ai?n.resolve(null):n.reject(new Xr(Yr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=sh(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s}))}))},[4,Nd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Py(t,r,e._key,n,new Dy(n instanceof Pi&&n.hasLocalMutations,!0),e._converter)}))}:"server"===(null==e?void 0:e.source)?function(e){e=ep(e,ap);var t=ep(e.firestore,_p);return Ad(kp(t),e._key,{source:"server"}).then((function(n){return Em(t,e,n)}))}:function(e){e=ep(e,ap);var t=ep(e.firestore,_p);return Ad(kp(t),e._key).then((function(n){return Em(t,e,n)}))})(this._delegate).then((function(e){return new uv(t.firestore,new Py(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},Ym.prototype.withConverter=function(e){return new Ym(this.firestore,e?this._delegate.withConverter(Km.ra(this.firestore,e)):this._delegate.withConverter(null))},Ym);function Ym(e,t){var n=this;return(n=Wm.call(this,t)||this).firestore=e,n._userDataWriter=new Rm(e),n}function Xm(e,t,n){return e.message=e.message.replace(t,n),e}function Jm(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!wp(r))return r}return{}}function Zm(e,t){var n;return{next:function(e){n.next&&n.next(t(e))},error:null===(e=(n=wp(e[0])?e[0]:wp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===e?void 0:e.bind(n),complete:null===(e=n.complete)||void 0===e?void 0:e.bind(n)}}var ev,tv,nv,rv,iv,ov,av,sv,uv=(s(bv,ov=op),Object.defineProperty(bv.prototype,"ref",{get:function(){return new $m(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(bv.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(bv.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(bv.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),bv.prototype.data=function(e){return this._delegate.data(e)},bv.prototype.get=function(e,t){return this._delegate.get(e,t)},bv.prototype.isEqual=function(e){return Uy(this._delegate,e._delegate)},bv),cv=(s(gv,iv=uv),gv.prototype.data=function(e){return this._delegate.data(e)},gv),lv=(s(vv,rv=op),vv.prototype.where=function(e,t,n){try{return new vv(this.firestore,qy(this._delegate,(r=n,i=t,o=Cy("where",e),new Qy(o,i,r))))}catch(e){throw Xm(e,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},vv.prototype.orderBy=function(e,t){try{return new vv(this.firestore,qy(this._delegate,(n=void 0===t?"asc":t,r=Cy("orderBy",e),new Wy(r,n))))}catch(e){throw Xm(e,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},vv.prototype.limit=function(e){try{return new vv(this.firestore,qy(this._delegate,(tp("limit",t=e),new $y("limit",t,"F"))))}catch(e){throw Xm(e,"limit()","Query.limit()")}var t},vv.prototype.limitToLast=function(e){try{return new vv(this.firestore,qy(this._delegate,(tp("limitToLast",t=e),new $y("limitToLast",t,"L"))))}catch(e){throw Xm(e,"limitToLast()","Query.limitToLast()")}var t},vv.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new vv(this.firestore,qy(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Yy("startAt",e,!0)}.apply(void 0,e)))}catch(e){throw Xm(e,"startAt()","Query.startAt()")}},vv.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new vv(this.firestore,qy(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Yy("startAfter",e,!1)}.apply(void 0,e)))}catch(e){throw Xm(e,"startAfter()","Query.startAfter()")}},vv.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new vv(this.firestore,qy(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xy("endBefore",e,!0)}.apply(void 0,e)))}catch(e){throw Xm(e,"endBefore()","Query.endBefore()")}},vv.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new vv(this.firestore,qy(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xy("endAt",e,!1)}.apply(void 0,e)))}catch(e){throw Xm(e,"endAt()","Query.endAt()")}},vv.prototype.isEqual=function(e){return vp(this._delegate,e._delegate)},vv.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=ep(e,sp);var t=ep(e.firestore,_p),n=kp(t),r=new mm(t);return function(e,t){var n=this,r=new fu;return e.asyncQueue.enqueueAndForget((function(){return u(n,void 0,void 0,(function(){var n;return c(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,o;return c(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,bl(e,t,!0)];case 1:return o=a.sent(),r=new Oh(t,o.jn),i=r.Io(o.documents),i=r.applyChanges(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=a.sent(),o=sh(i,"Failed to execute query '"+t+" against cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,Nd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Ry(t,r,e,n)}))}:"server"===(null==e?void 0:e.source)?function(e){e=ep(e,sp);var t=ep(e.firestore,_p),n=kp(t),r=new mm(t);return Rd(n,e._query,{source:"server"}).then((function(n){return new Ry(t,r,e,n)}))}:function(e){e=ep(e,sp);var t=ep(e.firestore,_p),n=kp(t),r=new mm(t);return Vy(e._query),Rd(n,e._query).then((function(n){return new Ry(t,r,e,n)}))})(this._delegate).then((function(e){return new hv(t.firestore,new Ry(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},vv.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Jm(t),i=Zm(t,(function(t){return new hv(e.firestore,new Ry(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return bm(this._delegate,r,i)},vv.prototype.withConverter=function(e){return new vv(this.firestore,e?this._delegate.withConverter(Km.ra(this.firestore,e)):this._delegate.withConverter(null))},vv),fv=(s(mv,nv=op),Object.defineProperty(mv.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(mv.prototype,"doc",{get:function(){return new cv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(mv.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(mv.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),mv),hv=(s(yv,tv=op),Object.defineProperty(yv.prototype,"query",{get:function(){return new lv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(yv.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(yv.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(yv.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(yv.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new cv(e._firestore,t)}))},enumerable:!1,configurable:!0}),yv.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new fv(t._firestore,e)}))},yv.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new cv(n._firestore,r))}))},yv.prototype.isEqual=function(e){return Uy(this._delegate,e._delegate)},yv),dv=(s(pv,ev=lv),Object.defineProperty(pv.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(pv.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(pv.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new $m(this.firestore,e):null},enumerable:!1,configurable:!0}),pv.prototype.doc=function(e){try{return new $m(this.firestore,void 0===e?yp(this._delegate):yp(this._delegate,e))}catch(e){throw Xm(e,"doc()","CollectionReference.doc()")}},pv.prototype.add=function(e){var t,n,r,i=this;return n=e,e=ep((t=this._delegate).firestore,_p),r=yp(t),n=um(t._converter,n),wm(e,[Wp(Qp(t.firestore),"addDoc",r._key,n,null!==t._converter,{}).toMutation(r._key,ha.exists(!1))]).then((function(){return r})).then((function(e){return new $m(i.firestore,e)}))},pv.prototype.isEqual=function(e){return mp(this._delegate,e._delegate)},pv.prototype.withConverter=function(e){return new pv(this.firestore,e?this._delegate.withConverter(Km.ra(this.firestore,e)):this._delegate.withConverter(null))},pv);function pv(e,t){var n=this;return(n=ev.call(this,e,t)||this).firestore=e,n._delegate=t,n}function yv(e,t){var n=this;return(n=tv.call(this,t)||this)._firestore=e,n}function mv(e,t){var n=this;return(n=nv.call(this,t)||this)._firestore=e,n}function vv(e,t){var n=this;return(n=rv.call(this,t)||this).firestore=e,n._userDataWriter=new Rm(e),n}function gv(){return null!==iv&&iv.apply(this,arguments)||this}function bv(e,t){var n=this;return(n=ov.call(this,t)||this)._firestore=e,n}function wv(e){return ep(e=e instanceof op?e._delegate:e,ap)}function Ev(){return null!==av&&av.apply(this,arguments)||this}function Tv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return sv.call(this,new(Op.bind.apply(Op,l([void 0],e))))||this}function _v(e){return t=this._delegate,n=e,r=kp(t=ep(t,_p)),e=new Tp,function(e,t,r){var i,o=this,a=(i=n,t=Sf(t),i=function(e){if(e instanceof Uint8Array)return dd(e,void 0);if(e instanceof ArrayBuffer)return dd(new Uint8Array(e),void 0);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new yd(i,t));e.asyncQueue.enqueueAndForget((function(){return u(o,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=nd,[4,Dd(e)];case 1:return t.apply(void 0,[n.sent(),a,r]),[2]}}))}))}))}(r,t._databaseId,e),e;var t,n,r}function Sv(e){var t=this,n=this._delegate;return e=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return u(n,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=e;return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.He.getNamedQuery(e,t)}))},[4,Nd(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(kp(n=ep(n,_p)),e).then((function(e){return e?new sp(n,null,e.query):null})).then((function(e){return e?new lv(t,e):null}))}s(Tv,sv=op),Tv.documentId=function(){return new Tv(ei.keyField().canonicalString())},Tv.prototype.isEqual=function(e){return(e=e instanceof op?e._delegate:e)instanceof Op&&this._delegate._internalPath.isEqual(e._internalPath)},y=Tv,s(Ev,av=op),Ev.serverTimestamp=function(){var e=new ry("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Ev(e)},Ev.delete=function(){var e=new Yp("deleteField");return e._methodName="FieldValue.delete",new Ev(e)},Ev.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new iy("arrayUnion",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayUnion",new Ev(n)},Ev.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new oy("arrayRemove",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayRemove",new Ev(n)},Ev.increment=function(e){return(e=new ay("increment",e))._methodName="FieldValue.increment",new Ev(e)},Ev.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},It=Ev;var Iv=(kv.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},kv.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},kv.prototype.setServiceProps=function(e){return this.serviceProps=e,this},kv);function kv(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var xv,Cv,Nv={Firestore:Am,GeoPoint:Ap,Timestamp:di,Blob:Dm,Transaction:Bm,WriteBatch:zm,DocumentReference:$m,DocumentSnapshot:uv,Query:lv,QueryDocumentSnapshot:cv,QuerySnapshot:hv,CollectionReference:dv,FieldPath:y,FieldValue:It,setLogLevel:function(e){Cr.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(xv=o.default).INTERNAL.registerComponent(new Iv("firestore",(function(e){var t=e.getProvider("app").getImmediate();return t=t,e=e.getProvider("auth-internal"),new Am(t,new _p(t,e),new Pm)}),"PUBLIC").setServiceProps(Object.assign({},Nv))),xv.registerVersion("@firebase/firestore","2.2.1"),(Cv=Am).prototype.loadBundle=_v,Cv.prototype.namedQuery=Sv}).apply(this,arguments)}catch(r){throw console.error(r),new Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}}(n(11))}).call(this,n(18),n(45))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]]);
//# sourceMappingURL=2.626c2770.chunk.js.map